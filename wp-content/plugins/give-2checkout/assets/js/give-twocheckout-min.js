var give_twocheckout_js;jQuery(document).ready(function($){$(".give-form").each(function(e,i){function o(e){var i="";i+='<div class="give_errors">',i+='<div class="give_error" id="give_error_private_key">',i+="<p><strong>"+give_twocheckout_js.error+"</strong>: ",i+=e,i+="</p></div></div>",n.hide(),t.attr("disabled",!1),t.val("Donate Now"),c.append(i),c.prepend(i)}var r=$(this),t=r.find(".give-submit"),n=r.find(".give-loading-animation"),c=r.find(".give-form-wrap");r.submit(function(e){if(t.attr("disabled","disabled"),"twocheckout"===r.find('input[name="give-gateway"]').val())return give_twocheckout_js.sellerId&&give_twocheckout_js.publishableKey?(d(),!1):(o(give_twocheckout_js.keys_error),!1)});var a=function(e){r.find(".twocheckout-token").val(e.response.token.token),r.unbind("submit").submit()},s=function(e){o(200===e.errorCode?give_twocheckout_js.api_error:"Unauthorized"===e.errorMsg?give_twocheckout_js.keys_error:e.errorMsg)},d=function(){var e={sellerId:give_twocheckout_js.sellerId,publishableKey:give_twocheckout_js.publishableKey,ccNo:r.find(".card-number").val(),cvv:r.find(".card-cvc").val(),expMonth:r.find(".card-expiry").val().substring(0,2),expYear:r.find(".card-expiry").val().substring(5,7)};TCO.requestToken(a,s,e)};r.append('<input class="twocheckout-token" name="token" type="hidden" value="">'),TCO.loadPubKey(give_twocheckout_js.env)})});