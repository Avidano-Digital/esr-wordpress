var Give_Recurring_Vars;jQuery(document).ready(function($){var e=$(document),i={init:function(){i.confirm_subscription_cancellation(),i.conditional_account_creation()},conditional_account_creation:function(){return"on"!=Give_Recurring_Vars.email_access&&(!$("body").hasClass("logged-in")&&($("form[id^=give-form].give-recurring-form").each(function(){i.toggle_register_login_fields_onload($(this))}),e.on("give_gateway_loaded",function(e,n,r){i.toggle_register_login_fields_onload($(".give-recurring-form#"+r))}),$(".give-donation-level-btn, .give-radio-input-level, .give-select-level > option").on("click touchend",function(){i.toggle_admin_choice_register_fields($(this))}),void $(".give-recurring-donors-choice > input").on("click touchend",function(){i.toggle_donor_choice_register_fields($(this))})))},toggle_register_login_fields_onload:function(e){var n=e.find(".give-donation-levels-wrap .give-default-level");if(e.find(".give-recurring-admin-choice").length>0)return!1;if(!e.hasClass("give-recurring-form"))return!1;0==n.length&&(n=e.find(".give-select-level > .give-default-level"));var r=e.find(".give-recurring-donors-choice input");n.hasClass("give-recurring-level")||r.prop("checked")?i.show_fields(e):i.hide_fields(e)},toggle_admin_choice_register_fields:function(e){var n=e.parents("form[id^=give-form]");n.parents("div.give-form-wrap").hasClass("give-recurring-form-admin")&&(e.hasClass("give-recurring-level")?i.show_fields(n):i.hide_fields(n))},toggle_donor_choice_register_fields:function(e){var n=e.parents("form[id^=give-form]");e.prop("checked")?i.show_fields(n):i.hide_fields(n)},show_fields:function(e){var i=e.find(".give-login-account-wrap"),n=e.find("[id^=give-register-account-fields]"),r=n.find("input"),o=e.find("[name=give-purchase-var]");$(r).attr("required","required"),i.show(),n.show(),o.val("needs-to-register")},hide_fields:function(e){var i=e.find(".give-login-account-wrap"),n=e.find("[id^=give-register-account-fields]"),r=n.find("input"),o=e.find("[name=give-purchase-var]");$(r).removeAttr("required"),i.hide(),n.hide(),o.val("")},confirm_subscription_cancellation:function(){$(".give-cancel-subscription").on("click touchend",function(e){if(!0!==confirm(Give_Recurring_Vars.messages.confirm_cancel))return!1})}};i.init()});