jQuery.noConflict();var give_pdf_vars;!function($){$(function(){function e(e,i){p||tinyMCE.get("give_pdf_builder").isDirty()?confirm(give_pdf_vars.not_saved)?(d=e,i(),tinyMCE.get("give_pdf_builder").isNotDirty=1,p=!1):$("#give_pdf_receipt_template").val(d):(d=e,i())}function i(e){$.post(ajaxurl,{action:"get_builder_content",template_id:e},function(e){$("#give_pdf_receipt_template_name").val(e.post_title),$("#give_pdf_receipt_template option:selected").text().indexOf("Receipt Template")>=0&&$("#give_pdf_receipt_template_name").val("").focus(),tinyMCE.get("give_pdf_builder").setContent(e.post_content)},"json")}function t(){$("#give_pdf_receipt_template_name").val(""),tinyMCE.get("give_pdf_builder").setContent("")}var d=$("#give_pdf_receipt_template").val(),p=!1;$("#give_pdf_receipt_template_name").on("input",function(){p=!0}),$("#give_pdf_receipt_template").on("change",function(){var d=$("#give_pdf_receipt_template").val();"create_new"!=d?e(d,function(){i(d),tinyMCE.get("give_pdf_builder").isNotDirty=1}):e(d,function(){t()})}),$("form#options_page").on("submit",function(e){if("custom_pdf_builder"!==$("#give_pdf_generation_method").val())return!0;var i=$("#give_pdf_receipt_template_name").val();return tinyMCE.get("give_pdf_builder").isDirty()&&0==p&&0==$("#give_pdf_receipt_template:contains("+i+")").length||i.indexOf("Receipt Template")>=0||0===i.length?(e.preventDefault(),alert(give_pdf_vars.template_customized),$("#give_pdf_receipt_template_name").val("").focus(),!1):void 0}),$("#give_pdf_generation_method").on("change",function(){switch($("#give_pdf_generation_method option:selected").val()){case"custom_pdf_builder":$(".cmb2-id-give-pdf-templates, .cmb2-id-give-pdf-logo-upload, .cmb2-id-give-pdf-company-name, .cmb2-id-give-pdf-name, .cmb2-id-give-pdf-address-line1, .cmb2-id-give-pdf-address-line2, .cmb2-id-give-pdf-address-city-state-zip, .cmb2-id-give-pdf-email-address, .cmb2-id-give-pdf-url, .cmb2-id-give-pdf-additional-notes, .cmb2-id-give-pdf-enable-char-support, .cmb2-id-give-pdf-header-message, .cmb2-id-give-pdf-footer-message").hide(),$(".cmb2-id-give-pdf-preview-template, .cmb2-id-give-pdf-receipt-template, .cmb2-id-give-pdf-receipt-template-name, .cmb2-id-give-pdf-builder").show();break;case"set_pdf_templates":$(".cmb2-id-give-pdf-templates, .cmb2-id-give-pdf-logo-upload, .cmb2-id-give-pdf-company-name, .cmb2-id-give-pdf-name, .cmb2-id-give-pdf-address-line1, .cmb2-id-give-pdf-address-line2, .cmb2-id-give-pdf-address-city-state-zip, .cmb2-id-give-pdf-email-address, .cmb2-id-give-pdf-url, .cmb2-id-give-pdf-additional-notes, .cmb2-id-give-pdf-enable-char-support, .cmb2-id-give-pdf-header-message, .cmb2-id-give-pdf-footer-message").show(),$(".cmb2-id-give-pdf-preview-template, .cmb2-id-give-pdf-receipt-template, .cmb2-id-give-pdf-receipt-template-name, .cmb2-id-give-pdf-builder").hide();break}}).change(),$("#give_pdf_receipt_template_name").on("focusout",function(){""==$(this).val()?$(this).css("border","1px solid red"):$(this).css("border","1px solid #ddd")})})}(jQuery);