this.wp=this.wp||{},this.wp.editor=function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function e(){return t.default}:function e(){return t};return o.d(e,"a",e),e},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=302)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.lodash}()},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){!function(){e.exports=this.wp.data}()},,function(e,t){!function(){e.exports=this.wp.compose}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n(15);function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){Object(o.a)(t,e,n[e])})}return t}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return r})},function(e,t){!function(){e.exports=this.wp.blocks}()},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(28),o=n(3);function i(e,t){return!t||"object"!==Object(r.a)(t)&&"function"!=typeof t?Object(o.a)(e):t}},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},function(e,t,n){var r,o;!function(){"use strict";var c={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)&&n.length){var o=a.apply(null,n);o&&e.push(o)}else if("object"===r)for(var i in n)c.call(n,i)&&n[i]&&e.push(i)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):(r=[],void 0===(o=function(){return a}.apply(t,r))||(e.exports=o))}()},function(e,t){!function(){e.exports=this.wp.keycodes}()},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}var o=n(33);function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c(e){return r(e)||Object(o.a)(e)||i()}n.d(t,"a",function(){return c})},function(e,t){!function(){e.exports=this.wp.richText}()},function(e,t,n){"use strict";function c(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],0<=t.indexOf(o)||(n[o]=e[o]);return n}function r(e,t){if(null==e)return{};var n=c(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}n.d(t,"a",function(){return r})},function(e,t){!function(){e.exports=this.wp.dom}()},function(e,t){!function(){e.exports=this.wp.hooks}()},function(e,t){!function(){e.exports=this.wp.url}()},function(e,t,n){"use strict";var r=n(35);function o(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var c=e[Symbol.iterator](),a;!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}var i=n(36);function c(e,t){return Object(r.a)(e)||o(e,t)||Object(i.a)()}n.d(t,"a",function(){return c})},function(e,t){!function(){e.exports=this.React}()},,function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function e(t){return r(t)}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(e)}n.d(t,"a",function(){return o})},function(e,t,n){var r,o,i;e.exports=n(109)()},function(e,t){!function(){e.exports=this.wp.apiFetch}()},function(e,t,n){"use strict";var u,o;function i(e){return[e]}function d(e){return!!e&&"object"==typeof e}function p(){var e={clear:function(){e.head=null}};return e}function b(e,t,n){var r;if(e.length!==t.length)return!1;for(r=n;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}u={},o="undefined"!=typeof WeakMap,t.a=function(c,a){var s,l;function e(){return s}function t(e){var t=s,n=!0,r,o,i,c;for(r=0;r<e.length;r++){if(!d(o=e[r])){n=!1;break}t=t.has(o)?t.get(o):(i=new WeakMap,t.set(o,i),i)}return t.has(u)||((c=p()).isUniqueByDependants=n,t.set(u,c)),t.get(u)}function n(){s=o?new WeakMap:p()}function r(){var e=arguments.length,t,n,r,o,i;for(o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];for(i=a.apply(null,o),(t=l(i)).isUniqueByDependants||(t.lastDependants&&!b(i,t.lastDependants,0)&&t.clear(),t.lastDependants=i),n=t.head;n;){if(b(n.args,o,1))return n!==t.head&&(n.prev.next=n.next,n.next&&(n.next.prev=n.prev),n.next=t.head,n.prev=null,t.head.prev=n,t.head=n),n.val;n=n.next}return n={val:c.apply(null,o)},o[0]=null,n.args=o,t.head&&((t.head.prev=n).next=t.head),(t.head=n).val}return a||(a=i),l=o?t:e,r.getDependants=a,(r.clear=n)(),r}},function(e,t){!function(){e.exports=this.wp.blob}()},function(e,t,n){"use strict";function r(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}n.d(t,"a",function(){return r})},,function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}n.d(t,"a",function(){return r})},function(e,t){!function(){e.exports=this.wp.viewport}()},function(e,t,n){"use strict";function s(e,t,n,r,o,i,c){try{var a=e[i](c),s=a.value}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(r,o)}function r(a){return function(){var e=this,c=arguments;return new Promise(function(t,n){var r=a.apply(e,c);function o(e){s(r,t,n,o,i,"next",e)}function i(e){s(r,t,n,o,i,"throw",e)}o(void 0)})}}n.d(t,"a",function(){return r})},,function(e,t){!function(){e.exports=this.wp.isShallowEqual}()},function(e,t,n){e.exports=function e(o,t){var i=0,c,a,s;function n(){var e=a,t=arguments.length,n,r;e:for(;e;){if(e.args.length===arguments.length){for(r=0;r<t;r++)if(e.args[r]!==arguments[r]){e=e.next;continue e}return e!==a&&(e===s&&(s=e.prev),e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.next=a,e.prev=null,a.prev=e,a=e),e.val}e=e.next}for(n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e={args:n,val:o.apply(null,n)},a?(a.prev=e).next=a:s=e,i===c?(s=s.prev).next=null:i++,(a=e).val}return t&&t.maxSize&&(c=t.maxSize),n.clear=function(){s=a=null,i=0},n}},,,function(e,t){!function(){e.exports=this.wp.a11y}()},function(Z,ee,te){var ne;!function(p){var r=/^\s+/,o=/\s+$/,i=0,c=p.round,l=p.min,u=p.max,e=p.random;function d(e,t){if(t=t||{},(e=e||"")instanceof d)return e;if(!(this instanceof d))return new d(e,t);var n=a(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=c(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=c(this._r)),this._g<1&&(this._g=c(this._g)),this._b<1&&(this._b=c(this._b)),this._ok=n.ok,this._tc_id=i++}function a(e){var t={r:0,g:0,b:0},n=1,r=null,o=null,i=null,c=!1,a=!1;return"string"==typeof e&&(e=X(e)),"object"==typeof e&&(Q(e.r)&&Q(e.g)&&Q(e.b)?(t=s(e.r,e.g,e.b),c=!0,a="%"===String(e.r).substr(-1)?"prgb":"rgb"):Q(e.h)&&Q(e.s)&&Q(e.v)?(r=H(e.s),o=H(e.v),t=m(e.h,r,o),c=!0,a="hsv"):Q(e.h)&&Q(e.s)&&Q(e.l)&&(r=H(e.s),i=H(e.l),t=f(e.h,r,i),c=!0,a="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=A(n),{ok:c,format:e.format||a,r:l(255,u(t.r,0)),g:l(255,u(t.g,0)),b:l(255,u(t.b,0)),a:n}}function s(e,t,n){return{r:255*N(e,255),g:255*N(t,255),b:255*N(n,255)}}function b(e,t,n){e=N(e,255),t=N(t,255),n=N(n,255);var r=u(e,t,n),o=l(e,t,n),i,c,a=(r+o)/2;if(r==o)i=c=0;else{var s=r-o;switch(c=.5<a?s/(2-r-o):s/(r+o),r){case e:i=(t-n)/s+(t<n?6:0);break;case t:i=(n-e)/s+2;break;case n:i=(e-t)/s+4}i/=6}return{h:i,s:c,l:a}}function f(e,t,n){var r,o,i;function c(e,t,n){return n<0&&(n+=1),1<n&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=N(e,360),t=N(t,100),n=N(n,100),0===t)r=o=i=n;else{var a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;r=c(s,a,e+1/3),o=c(s,a,e),i=c(s,a,e-1/3)}return{r:255*r,g:255*o,b:255*i}}function h(e,t,n){e=N(e,255),t=N(t,255),n=N(n,255);var r=u(e,t,n),o=l(e,t,n),i,c,a=r,s=r-o;if(c=0===r?0:s/r,r==o)i=0;else{switch(r){case e:i=(t-n)/s+(t<n?6:0);break;case t:i=(n-e)/s+2;break;case n:i=(e-t)/s+4}i/=6}return{h:i,s:c,v:a}}function m(e,t,n){e=6*N(e,360),t=N(t,100),n=N(n,100);var r=p.floor(e),o=e-r,i=n*(1-t),c=n*(1-o*t),a=n*(1-(1-o)*t),s=r%6,l,u,d;return{r:255*[n,c,i,i,a,n][s],g:255*[a,n,n,c,i,i][s],b:255*[i,i,a,n,n,c][s]}}function t(e,t,n,r){var o=[U(c(e).toString(16)),U(c(t).toString(16)),U(c(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function n(e,t,n,r,o){var i=[U(c(e).toString(16)),U(c(t).toString(16)),U(c(n).toString(16)),U(V(r))];return o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function v(e,t,n,r){var o;return[U(V(r)),U(c(e).toString(16)),U(c(t).toString(16)),U(c(n).toString(16))].join("")}function O(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s-=t/100,n.s=R(n.s),d(n)}function g(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s+=t/100,n.s=R(n.s),d(n)}function j(e){return d(e).desaturate(100)}function y(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l+=t/100,n.l=R(n.l),d(n)}function k(e,t){t=0===t?0:t||10;var n=d(e).toRgb();return n.r=u(0,l(255,n.r-c(-t/100*255))),n.g=u(0,l(255,n.g-c(-t/100*255))),n.b=u(0,l(255,n.b-c(-t/100*255))),d(n)}function _(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l-=t/100,n.l=R(n.l),d(n)}function E(e,t){var n=d(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,d(n)}function S(e){var t=d(e).toHsl();return t.h=(t.h+180)%360,d(t)}function C(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+120)%360,s:t.s,l:t.l}),d({h:(n+240)%360,s:t.s,l:t.l})]}function w(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+90)%360,s:t.s,l:t.l}),d({h:(n+180)%360,s:t.s,l:t.l}),d({h:(n+270)%360,s:t.s,l:t.l})]}function T(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+72)%360,s:t.s,l:t.l}),d({h:(n+216)%360,s:t.s,l:t.l})]}function P(e,t,n){t=t||6,n=n||30;var r=d(e).toHsl(),o=360/n,i=[d(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(d(r));return i}function I(e,t){t=t||6;for(var n=d(e).toHsv(),r=n.h,o=n.s,i=n.v,c=[],a=1/t;t--;)c.push(d({h:r,s:o,v:i})),i=(i+a)%1;return c}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e=this.toRgb(),t,n,r,o,i,c;return t=e.r/255,n=e.g/255,r=e.b/255,.2126*(o=t<=.03928?t/12.92:p.pow((t+.055)/1.055,2.4))+.7152*(i=n<=.03928?n/12.92:p.pow((n+.055)/1.055,2.4))+.0722*(c=r<=.03928?r/12.92:p.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=A(e),this._roundA=c(100*this._a)/100,this},toHsv:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=h(this._r,this._g,this._b),t=c(360*e.h),n=c(100*e.s),r=c(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=b(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=b(this._r,this._g,this._b),t=c(360*e.h),n=c(100*e.s),r=c(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return t(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return n(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:c(this._r),g:c(this._g),b:c(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+c(this._r)+", "+c(this._g)+", "+c(this._b)+")":"rgba("+c(this._r)+", "+c(this._g)+", "+c(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:c(100*N(this._r,255))+"%",g:c(100*N(this._g,255))+"%",b:c(100*N(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+c(100*N(this._r,255))+"%, "+c(100*N(this._g,255))+"%, "+c(100*N(this._b,255))+"%)":"rgba("+c(100*N(this._r,255))+"%, "+c(100*N(this._g,255))+"%, "+c(100*N(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(x[t(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+v(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=d(e);n="#"+v(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&0<=this._a,o;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(y,arguments)},brighten:function(){return this._applyModification(k,arguments)},darken:function(){return this._applyModification(_,arguments)},desaturate:function(){return this._applyModification(O,arguments)},saturate:function(){return this._applyModification(g,arguments)},greyscale:function(){return this._applyModification(j,arguments)},spin:function(){return this._applyModification(E,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(P,arguments)},complement:function(){return this._applyCombination(S,arguments)},monochromatic:function(){return this._applyCombination(I,arguments)},splitcomplement:function(){return this._applyCombination(T,arguments)},triad:function(){return this._applyCombination(C,arguments)},tetrad:function(){return this._applyCombination(w,arguments)}},d.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:H(e[r]));e=n}return d(e,t)},d.equals=function(e,t){return!(!e||!t)&&d(e).toRgbString()==d(t).toRgbString()},d.random=function(){return d.fromRatio({r:e(),g:e(),b:e()})},d.mix=function(e,t,n){n=0===n?0:n||50;var r=d(e).toRgb(),o=d(t).toRgb(),i=n/100,c;return d({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},d.readability=function(e,t){var n=d(e),r=d(t);return(p.max(n.getLuminance(),r.getLuminance())+.05)/(p.min(n.getLuminance(),r.getLuminance())+.05)},d.isReadable=function(e,t,n){var r=d.readability(e,t),o,i;switch(i=!1,(o=J(n)).level+o.size){case"AAsmall":case"AAAlarge":i=4.5<=r;break;case"AAlarge":i=3<=r;break;case"AAAsmall":i=7<=r}return i},d.mostReadable=function(e,t,n){var r=null,o=0,i,c,a,s;c=(n=n||{}).includeFallbackColors,a=n.level,s=n.size;for(var l=0;l<t.length;l++)o<(i=d.readability(e,t[l]))&&(o=i,r=d(t[l]));return d.isReadable(e,r,{level:a,size:s})||!c?r:(n.includeFallbackColors=!1,d.mostReadable(e,["#fff","#000"],n))};var B=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},x=d.hexNames=L(B);function L(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function A(e){return e=parseFloat(e),(isNaN(e)||e<0||1<e)&&(e=1),e}function N(e,t){F(e)&&(e="100%");var n=M(e);return e=l(t,u(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),p.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function R(e){return l(1,u(0,e))}function D(e){return parseInt(e,16)}function F(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function M(e){return"string"==typeof e&&-1!=e.indexOf("%")}function U(e){return 1==e.length?"0"+e:""+e}function H(e){return e<=1&&(e=100*e+"%"),e}function V(e){return p.round(255*parseFloat(e)).toString(16)}function K(e){return D(e)/255}var z=($="[\\s|\\(]+("+(G="(?:"+"[-\\+]?\\d*\\.\\d+%?"+")|(?:"+"[-\\+]?\\d+%?"+")")+")[,|\\s]+("+G+")[,|\\s]+("+G+")\\s*\\)?",Y="[\\s|\\(]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")\\s*\\)?",{CSS_UNIT:new RegExp(G),rgb:new RegExp("rgb"+$),rgba:new RegExp("rgba"+Y),hsl:new RegExp("hsl"+$),hsla:new RegExp("hsla"+Y),hsv:new RegExp("hsv"+$),hsva:new RegExp("hsva"+Y),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}),W,q,G,$,Y;function Q(e){return!!z.CSS_UNIT.exec(e)}function X(e){e=e.replace(r,"").replace(o,"").toLowerCase();var t=!1,n;if(B[e])e=B[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(n=z.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=z.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=z.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=z.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=z.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=z.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=z.hex8.exec(e))?{r:D(n[1]),g:D(n[2]),b:D(n[3]),a:K(n[4]),format:t?"name":"hex8"}:(n=z.hex6.exec(e))?{r:D(n[1]),g:D(n[2]),b:D(n[3]),format:t?"name":"hex"}:(n=z.hex4.exec(e))?{r:D(n[1]+""+n[1]),g:D(n[2]+""+n[2]),b:D(n[3]+""+n[3]),a:K(n[4]+""+n[4]),format:t?"name":"hex8"}:!!(n=z.hex3.exec(e))&&{r:D(n[1]+""+n[1]),g:D(n[2]+""+n[2]),b:D(n[3]+""+n[3]),format:t?"name":"hex"}}function J(e){var t,n;return"AA"!==(t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==t&&(t="AA"),"small"!==(n=(e.size||"small").toLowerCase())&&"large"!==n&&(n="small"),{level:t,size:n}}Z.exports?Z.exports=d:void 0===(ne=function(){return d}.call(ee,te,ee,Z))||(Z.exports=ne)}(Math)},function(e,t){!function(){e.exports=this.wp.date}()},,,function(e,t){!function(){e.exports=this.wp.htmlEntities}()},,function(Jj,Kj){var Lj;Lj=function(){return this}();try{Lj=Lj||Function("return this")()||eval("this")}catch(e){"object"==typeof window&&(Lj=window)}Jj.exports=Lj},function(e,t){!function(){e.exports=this.wp.nux}()},function(e,t,n){e.exports=n(269)},,function(e,t,n){"use strict";t.__esModule=!0;var r=n(270);t.default=r.default},,,function(e,t){!function(){e.exports=this.wp.autop}()},function(e,t,n){"use strict";e.exports=n(118)},,,,,,function(e,t){!function(){e.exports=this.wp.deprecated}()},,,,,,,,,,function(e,t,n){"use strict";var A=n(100),N=n(102);function w(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=c,t.resolve=s,t.resolveObject=l,t.format=a,t.Url=w;var R=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,D=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r","\n","\t"],i=["{","}","|","\\","^","`"].concat(o),F=["'"].concat(i),M=["%","/","?",";","#"].concat(F),U=["/","?","#"],H=255,V=/^[+a-z0-9A-Z_-]{0,63}$/,K=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,z={javascript:!0,"javascript:":!0},W={javascript:!0,"javascript:":!0},q={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},G=n(103);function c(e,t,n){if(e&&N.isObject(e)&&e instanceof w)return e;var r=new w;return r.parse(e,t,n),r}function a(e){return N.isString(e)&&(e=c(e)),e instanceof w?e.format():w.prototype.format.call(e)}function s(e,t){return c(e,!1,!0).resolve(t)}function l(e,t){return e?c(e,!1,!0).resolveObject(t):t}w.prototype.parse=function(e,t,n){if(!N.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),o=-1!==r&&r<e.indexOf("#")?"?":"#",i=e.split(o),c=/\\/g;i[0]=i[0].replace(c,"/");var a=e=i.join(o);if(a=a.trim(),!n&&1===e.split("#").length){var s=D.exec(a);if(s)return this.path=a,this.href=a,this.pathname=s[1],s[2]?(this.search=s[2],this.query=t?G.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=R.exec(a);if(l){var u=(l=l[0]).toLowerCase();this.protocol=u,a=a.substr(l.length)}if(n||l||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var d="//"===a.substr(0,2);!d||l&&W[l]||(a=a.substr(2),this.slashes=!0)}if(!W[l]&&(d||l&&!q[l])){for(var p=-1,b=0,f,h;b<U.length;b++){var m;-1!==(m=a.indexOf(U[b]))&&(-1===p||m<p)&&(p=m)}-1!==(h=-1===p?a.lastIndexOf("@"):a.lastIndexOf("@",p))&&(f=a.slice(0,h),a=a.slice(h+1),this.auth=decodeURIComponent(f)),p=-1;for(var b=0;b<M.length;b++){var m;-1!==(m=a.indexOf(M[b]))&&(-1===p||m<p)&&(p=m)}-1===p&&(p=a.length),this.host=a.slice(0,p),a=a.slice(p),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var O=this.hostname.split(/\./),b=0,g=O.length;b<g;b++){var j=O[b];if(j&&!j.match(V)){for(var y="",k=0,_=j.length;k<_;k++)127<j.charCodeAt(k)?y+="x":y+=j[k];if(!y.match(V)){var E=O.slice(0,b),S=O.slice(b+1),C=j.match(K);C&&(E.push(C[1]),S.unshift(C[2])),S.length&&(a="/"+S.join(".")+a),this.hostname=E.join(".");break}}}this.hostname.length>H?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=A.toASCII(this.hostname));var w=this.port?":"+this.port:"",T=this.hostname||"";this.host=T+w,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!z[u])for(var b=0,g=F.length;b<g;b++){var P=F[b];if(-1!==a.indexOf(P)){var I=encodeURIComponent(P);I===P&&(I=escape(P)),a=a.split(P).join(I)}}var B=a.indexOf("#");-1!==B&&(this.hash=a.substr(B),a=a.slice(0,B));var x=a.indexOf("?");if(-1!==x?(this.search=a.substr(x),this.query=a.substr(x+1),t&&(this.query=G.parse(this.query)),a=a.slice(0,x)):t&&(this.search="",this.query={}),a&&(this.pathname=a),q[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var w=this.pathname||"",L=this.search||"";this.path=w+L}return this.href=this.format(),this},w.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,i="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&N.isObject(this.query)&&Object.keys(this.query).length&&(i=G.stringify(this.query));var c=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||q[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),c&&"?"!==c.charAt(0)&&(c="?"+c),t+o+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(c=c.replace("#","%23"))+r},w.prototype.resolve=function(e){return this.resolveObject(c(e,!1,!0)).format()},w.prototype.resolveObject=function(e){if(N.isString(e)){var t=new w;t.parse(e,!1,!0),e=t}for(var n=new w,r=Object.keys(this),o=0;o<r.length;o++){var i=r[o];n[i]=this[i]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),a=0;a<c.length;a++){var s=c[a];"protocol"!==s&&(n[s]=e[s])}return q[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!q[e.protocol]){for(var l=Object.keys(e),u=0;u<l.length;u++){var d=l[u];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||W[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var b=n.pathname||"",f=n.search||"";n.path=b+f}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var h=n.pathname&&"/"===n.pathname.charAt(0),m=e.host||e.pathname&&"/"===e.pathname.charAt(0),v=m||h||n.host&&e.pathname,O=v,g=n.pathname&&n.pathname.split("/")||[],p=e.pathname&&e.pathname.split("/")||[],j=n.protocol&&!q[n.protocol];if(j&&(n.hostname="",n.port=null,n.host&&(""===g[0]?g[0]=n.host:g.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),v=v&&(""===p[0]||""===g[0])),m)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,g=p;else if(p.length)g||(g=[]),g.pop(),g=g.concat(p),n.search=e.search,n.query=e.query;else if(!N.isNullOrUndefined(e.search)){var y;if(j)n.hostname=n.host=g.shift(),(y=!!(n.host&&0<n.host.indexOf("@"))&&n.host.split("@"))&&(n.auth=y.shift(),n.host=n.hostname=y.shift());return n.search=e.search,n.query=e.query,N.isNull(n.pathname)&&N.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!g.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var k=g.slice(-1)[0],_=(n.host||e.host||1<g.length)&&("."===k||".."===k)||""===k,E=0,S=g.length;0<=S;S--)"."===(k=g[S])?g.splice(S,1):".."===k?(g.splice(S,1),E++):E&&(g.splice(S,1),E--);if(!v&&!O)for(;E--;E)g.unshift("..");!v||""===g[0]||g[0]&&"/"===g[0].charAt(0)||g.unshift(""),_&&"/"!==g.join("/").substr(-1)&&g.push("");var C=""===g[0]||g[0]&&"/"===g[0].charAt(0),y;j&&(n.hostname=n.host=C?"":g.length?g.shift():"",(y=!!(n.host&&0<n.host.indexOf("@"))&&n.host.split("@"))&&(n.auth=y.shift(),n.host=n.hostname=y.shift()));return(v=v||n.host&&g.length)&&!C&&g.unshift(""),g.length?n.pathname=g.join("/"):(n.pathname=null,n.path=null),N.isNull(n.pathname)&&N.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},w.prototype.parseHost=function(){var e=this.host,t=r.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},,,,function(e,t){!function(){e.exports=this.wp.coreData}()},,,,,,,,function(e,t,n){"use strict";function r(e,t){var n;if(Array.isArray(t))for(n=0;n<t.length;n++)r(e,t[n]);else for(n in t)e[n]=(e[n]||[]).concat(t[n])}function o(e){var a={},t;return r(a,e),(t=function(c){return function(i){return function(e){var t=a[e.type],n=i(e),r,o;if(t)for(r=0;r<t.length;r++)(o=t[r](e,c)
)&&c.dispatch(o);return n}}}).effects=a,t}e.exports=o},,,,,,,,,,function(e,t){!function(){e.exports=this.wp.wordcount}()},function(e,t){"function"==typeof Object.create?e.exports=function e(t,n){t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function e(t,n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}},function(e,t){!function(){e.exports=this.jQuery}()},function(e,D,F){(function(A,N){var R;!function(e){var t=D&&!D.nodeType&&D,n=A&&!A.nodeType&&A,r="object"==typeof N&&N;r.global!==r&&r.window!==r&&r.self!==r||(e=r);var o,v=2147483647,O=36,g=1,j=26,i=38,c=700,y=72,k=128,_="-",a=/^xn--/,s=/[^\x20-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,u={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=O-g,E=Math.floor,S=String.fromCharCode,p;function C(e){throw RangeError(u[e])}function b(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function f(e,t){var n=e.split("@"),r="",o,i;return 1<n.length&&(r=n[0]+"@",e=n[1]),r+b((e=e.replace(l,".")).split("."),t).join(".")}function w(e){for(var t=[],n=0,r=e.length,o,i;n<r;)55296<=(o=e.charCodeAt(n++))&&o<=56319&&n<r?56320==(64512&(i=e.charCodeAt(n++)))?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),n--):t.push(o);return t}function m(e){return b(e,function(e){var t="";return 65535<e&&(t+=S((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=S(e)}).join("")}function T(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:O}function P(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function I(e,t,n){var r=0;for(e=n?E(e/c):e>>1,e+=E(e/t);d*j>>1<e;r+=O)e=E(e/d);return E(r+(d+1)*e/(e+i))}function h(e){var t=[],n=e.length,r,o=0,i=k,c=y,a,s,l,u,d,p,b,f,h;for((a=e.lastIndexOf(_))<0&&(a=0),s=0;s<a;++s)128<=e.charCodeAt(s)&&C("not-basic"),t.push(e.charCodeAt(s));for(l=0<a?a+1:0;l<n;){for(u=o,d=1,p=O;n<=l&&C("invalid-input"),b=T(e.charCodeAt(l++)),(O<=b||b>E((v-o)/d))&&C("overflow"),o+=b*d,!(b<(f=p<=c?g:c+j<=p?j:p-c));p+=O)d>E(v/(h=O-f))&&C("overflow"),d*=h;c=I(o-u,r=t.length+1,0==u),E(o/r)>v-i&&C("overflow"),i+=E(o/r),o%=r,t.splice(o++,0,i)}return m(t)}function B(e){var t,n,r,o,i,c,a,s,l,u,d,p=[],b,f,h,m;for(b=(e=w(e)).length,t=k,i=y,c=n=0;c<b;++c)(d=e[c])<128&&p.push(S(d));for(r=o=p.length,o&&p.push(_);r<b;){for(a=v,c=0;c<b;++c)t<=(d=e[c])&&d<a&&(a=d);for(a-t>E((v-n)/(f=r+1))&&C("overflow"),n+=(a-t)*f,t=a,c=0;c<b;++c)if((d=e[c])<t&&++n>v&&C("overflow"),d==t){for(s=n,l=O;!(s<(u=l<=i?g:i+j<=l?j:l-i));l+=O)m=s-u,h=O-u,p.push(S(P(u+m%h,0))),s=E(m/h);p.push(S(P(s,0))),i=I(n,f,r==o),n=0,++r}++n,++t}return p.join("")}function x(e){return f(e,function(e){return a.test(e)?h(e.slice(4).toLowerCase()):e})}function L(e){return f(e,function(e){return s.test(e)?"xn--"+B(e):e})}o={version:"1.3.2",ucs2:{decode:w,encode:m},decode:h,encode:B,toASCII:L,toUnicode:x},void 0===(R=function(){return o}.call(D,F,D,A))||(A.exports=R)}(this)}).call(this,F(101)(e),F(51))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(104),t.encode=t.stringify=n(105)},function(e,t,n){"use strict";function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,r){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var i=/\+/g;e=e.split(t);var c=1e3;r&&"number"==typeof r.maxKeys&&(c=r.maxKeys);var a=e.length;0<c&&c<a&&(a=c);for(var s=0;s<a;++s){var l=e[s].replace(i,"%20"),u=l.indexOf(n),d,p,b,f;p=0<=u?(d=l.substr(0,u),l.substr(u+1)):(d=l,""),b=decodeURIComponent(d),f=decodeURIComponent(p),h(o,b)?m(o[b])?o[b].push(f):o[b]=[o[b],f]:o[b]=f}return o};var m=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(n,r,o,e){return r=r||"&",o=o||"=",null===n&&(n=void 0),"object"==typeof n?a(s(n),function(e){var t=encodeURIComponent(i(e))+o;return c(n[e])?a(n[e],function(e){return t+encodeURIComponent(i(e))}).join(r):t+encodeURIComponent(i(n[e]))}).join(r):e?encodeURIComponent(i(e))+o+encodeURIComponent(i(n)):""};var c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var s=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},,,,function(e,t,n){"use strict";var a=n(110);function r(){}e.exports=function(){function e(e,t,n,r,o,i){if(i!==a){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n}},function(e,t,n){"use strict";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=r},,,,,,,,function(e,t,n){"use strict";var S=n(119);function r(e,t,n){n=n||{},9===t.nodeType&&(t=S.getWindow(t));var r=n.allowHorizontalScroll,o=n.onlyScrollIfNeeded,i=n.alignWithTop,c=n.alignWithLeft,a=n.offsetTop||0,s=n.offsetLeft||0,l=n.offsetBottom||0,u=n.offsetRight||0;r=void 0===r||r;var d=S.isWindow(t),p=S.offset(e),b=S.outerHeight(e),f=S.outerWidth(e),h=void 0,m=void 0,v=void 0,O=void 0,g=void 0,j=void 0,y=void 0,k=void 0,_=void 0,E=void 0;d?(y=t,E=S.height(y),_=S.width(y),k={left:S.scrollLeft(y),top:S.scrollTop(y)},g={left:p.left-k.left-s,top:p.top-k.top-a},j={left:p.left+f-(k.left+_)+u,top:p.top+b-(k.top+E)+l},O=k):(h=S.offset(t),m=t.clientHeight,v=t.clientWidth,O={left:t.scrollLeft,top:t.scrollTop},g={left:p.left-(h.left+(parseFloat(S.css(t,"borderLeftWidth"))||0))-s,top:p.top-(h.top+(parseFloat(S.css(t,"borderTopWidth"))||0))-a},j={left:p.left+f-(h.left+v+(parseFloat(S.css(t,"borderRightWidth"))||0))+u,top:p.top+b-(h.top+m+(parseFloat(S.css(t,"borderBottomWidth"))||0))+l}),g.top<0||0<j.top?!0===i?S.scrollTop(t,O.top+g.top):!1===i?S.scrollTop(t,O.top+j.top):g.top<0?S.scrollTop(t,O.top+g.top):S.scrollTop(t,O.top+j.top):o||((i=void 0===i||!!i)?S.scrollTop(t,O.top+g.top):S.scrollTop(t,O.top+j.top)),r&&(g.left<0||0<j.left?!0===c?S.scrollLeft(t,O.left+g.left):!1===c?S.scrollLeft(t,O.left+j.left):g.left<0?S.scrollLeft(t,O.left+g.left):S.scrollLeft(t,O.left+j.left):o||((c=void 0===c||!!c)?S.scrollLeft(t,O.left+g.left):S.scrollLeft(t,O.left+j.left)))}e.exports=r},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source;function c(e){var t=void 0,n=void 0,r=void 0,o=e.ownerDocument,i=o.body,c=o&&o.documentElement;return n=(t=e.getBoundingClientRect()).left,r=t.top,{left:n-=c.clientLeft||i.clientLeft||0,top:r-=c.clientTop||i.clientTop||0}}function a(e,t){var n=e["page"+(t?"Y":"X")+"Offset"],r="scroll"+(t?"Top":"Left");if("number"!=typeof n){var o=e.document;"number"!=typeof(n=o.documentElement[r])&&(n=o.body[r])}return n}function s(e){return a(e)}function l(e){return a(e,!0)}function u(e){var t=c(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=s(r),t.top+=l(r),t}function d(e,t,n){var r="",o=e.ownerDocument,i=n||o.defaultView.getComputedStyle(e,null);return i&&(r=i.getPropertyValue(t)||i[t]),r}var p=new RegExp("^("+o+")(?!px)[a-z%]+$","i"),b=/^(top|right|bottom|left)$/,f="currentStyle",h="runtimeStyle",m="left",v="px";function O(e,t){var n=e[f]&&e[f][t];if(p.test(n)&&!b.test(t)){var r=e.style,o=r[m],i=e[h][m];e[h][m]=e[f][m],r[m]="fontSize"===t?"1em":n||0,n=r.pixelLeft+v,r[m]=o,e[h][m]=i}return""===n?"auto":n}var g=void 0;function j(e,t){for(var n=0;n<e.length;n++)t(e[n])}function y(e){return"border-box"===g(e,"boxSizing")}"undefined"!=typeof window&&(g=window.getComputedStyle?d:O);var k=["margin","border","padding"],_=-1,E=2,S=1,C=0;function w(e,t,n){var r={},o=e.style,i=void 0;for(i in t)t.hasOwnProperty(i)&&(r[i]=o[i],o[i]=t[i]);for(i in n.call(e),t)t.hasOwnProperty(i)&&(o[i]=r[i])}function T(e,t,n){var r=0,o=void 0,i=void 0,c=void 0;for(i=0;i<t.length;i++)if(o=t[i])for(c=0;c<n.length;c++){var a=void 0;a="border"===o?o+n[c]+"Width":o+n[c],r+=parseFloat(g(e,a))||0}return r}function P(e){return null!=e&&e==e.window}var I={};function B(e,t,n){if(P(e))return"width"===t?I.viewportWidth(e):I.viewportHeight(e);if(9===e.nodeType)return"width"===t?I.docWidth(e):I.docHeight(e);var r="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?e.offsetWidth:e.offsetHeight,i=g(e),c=y(e,i),a=0;(null==o||o<=0)&&(o=void 0,(null==(a=g(e,t))||Number(a)<0)&&(a=e.style[t]||0),a=parseFloat(a)||0),void 0===n&&(n=c?S:_);var s=void 0!==o||c,l=o||a;if(n===_)return s?l-T(e,["border","padding"],r,i):a;if(s){var u=n===E?-T(e,["border"],r,i):T(e,["margin"],r,i);return l+(n===S?0:u)}return a+T(e,k.slice(n),r,i)}j(["Width","Height"],function(c){I["doc"+c]=function(e){var t=e.document;return Math.max(t.documentElement["scroll"+c],t.body["scroll"+c],I["viewport"+c](t))},I["viewport"+c]=function(e){var t="client"+c,n=e.document,r=n.body,o,i=n.documentElement[t];return"CSS1Compat"===n.compatMode&&i||r&&r[t]||i}});var x={position:"absolute",visibility:"hidden",display:"block"};function L(e){var t=void 0,n=arguments;return 0!==e.offsetWidth?t=B.apply(void 0,n):w(e,x,function(){t=B.apply(void 0,n)}),t}function A(e,t,n){var r=n;if("object"!==(void 0===t?"undefined":i(t)))return void 0!==r?("number"==typeof r&&(r+="px"),void(e.style[t]=r)):g(e,t);for(var o in t)t.hasOwnProperty(o)&&A(e,o,t[o])}function N(e,t){"static"===A(e,"position")&&(e.style.position="relative");var n=u(e),r={},o=void 0,i=void 0;for(i in t)t.hasOwnProperty(i)&&(o=parseFloat(A(e,i))||0,r[i]=o+t[i]-n[i]);A(e,r)}j(["width","height"],function(o){var e=o.charAt(0).toUpperCase()+o.slice(1);I["outer"+e]=function(e,t){return e&&L(e,o,t?0:S)};var i="width"===o?["Left","Right"]:["Top","Bottom"];I[o]=function(e,t){if(void 0===t)return e&&L(e,o,_);if(e){var n=g(e),r;return y(e)&&(t+=T(e,["padding","border"],i,n)),A(e,o,t)}}}),e.exports=r({getWindow:function e(t){var n=t.ownerDocument||t;return n.defaultView||n.parentWindow},offset:function e(t,n){if(void 0===n)return u(t);N(t,n)},isWindow:P,each:j,css:A,clone:function e(t){var n={},r;for(var o in t)t.hasOwnProperty(o)&&(n[o]=t[o]);if(t.overflow)for(var o in t)t.hasOwnProperty(o)&&(n.overflow[o]=t.overflow[o]);return n},scrollLeft:function e(t,n){if(P(t)){if(void 0===n)return s(t);window.scrollTo(n,l(t))}else{if(void 0===n)return t.scrollLeft;t.scrollLeft=n}},scrollTop:function e(t,n){if(P(t)){if(void 0===n)return l(t);window.scrollTo(s(t),n)}else{if(void 0===n)return t.scrollTop;t.scrollTop=n}},viewportWidth:0,viewportHeight:0},I)},,function(e,t){!function(){e.exports=this.wp.notices}()},,,function(e,t){!function(){e.exports=this.wp.tokenList}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){var n=e.dispatch;return function(t){return function(e){return Array.isArray(e)?e.filter(Boolean).map(n):t(e)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(r,e,t){
/*!

 diff v3.5.0

Software License Agreement (BSD License)

Copyright (c) 2009-2015, Kevin Decker <kpdecker@gmail.com>

All rights reserved.

Redistribution and use of this software in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above
  copyright notice, this list of conditions and the
  following disclaimer.

* Redistributions in binary form must reproduce the above
  copyright notice, this list of conditions and the
  following disclaimer in the documentation and/or other
  materials provided with the distribution.

* Neither the name of Kevin Decker nor the names of its
  contributors may be used to endorse or promote products
  derived from this software without specific prior
  written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR
IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER
IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
@license
*/
!function e(t,n){r.exports=n()}(this,function(){return function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,o),t.loaded=!0,t.exports}return o.m=n,o.c=r,o.p="",o(0)}([function(e,t,n){"use strict";t.__esModule=!0,t.canonicalize=t.convertChangesToXML=t.convertChangesToDMP=t.merge=t.parsePatch=t.applyPatches=t.applyPatch=t.createPatch=t.createTwoFilesPatch=t.structuredPatch=t.diffArrays=t.diffJson=t.diffCss=t.diffSentences=t.diffTrimmedLines=t.diffLines=t.diffWordsWithSpace=t.diffWords=t.diffChars=t.Diff=void 0;var r,o=O(n(1)),i=n(2),c=n(3),a=n(5),s=n(6),l=n(7),u=n(8),d=n(9),p=n(10),b=n(11),f=n(13),h=n(14),m=n(16),v=n(17);function O(e){return e&&e.__esModule?e:{default:e}}t.Diff=o.default,t.diffChars=i.diffChars,t.diffWords=c.diffWords,t.diffWordsWithSpace=c.diffWordsWithSpace,t.diffLines=a.diffLines,t.diffTrimmedLines=a.diffTrimmedLines,t.diffSentences=s.diffSentences,t.diffCss=l.diffCss,t.diffJson=u.diffJson,t.diffArrays=d.diffArrays,t.structuredPatch=h.structuredPatch,t.createTwoFilesPatch=h.createTwoFilesPatch,t.createPatch=h.createPatch,t.applyPatch=p.applyPatch,t.applyPatches=p.applyPatches,t.parsePatch=b.parsePatch,t.merge=f.merge,t.convertChangesToDMP=m.convertChangesToDMP,t.convertChangesToXML=v.convertChangesToXML,t.canonicalize=u.canonicalize},function(e,t){"use strict";function n(){}function h(e,t,n,r,o){for(var i=0,c=t.length,a=0,s=0;i<c;i++){var l=t[i];if(l.removed){if(l.value=e.join(r.slice(s,s+l.count)),s+=l.count,i&&t[i-1].added){var u=t[i-1];t[i-1]=t[i],t[i]=u}}else{if(!l.added&&o){var d=n.slice(a,a+l.count);d=d.map(function(e,t){var n=r[s+t];return n.length>e.length?n:e}),l.value=e.join(d)}else l.value=e.join(n.slice(a,a+l.count));a+=l.count,l.added||(s+=l.count)}}var p=t[c-1];return 1<c&&"string"==typeof p.value&&(p.added||p.removed)&&e.equals("",p.value)&&(t[c-2].value+=p.value,t.pop()),t}function m(e){return{newPos:e.newPos,components:e.components.slice(0)}}t.__esModule=!0,(t.default=n).prototype={diff:function e(a,s){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=t.callback;"function"==typeof t&&(n=t,t={}),this.options=t;var l=this;function u(e){return n?(setTimeout(function(){n(void 0,e)},0),!0):e}a=this.castInput(a),s=this.castInput(s),a=this.removeEmpty(this.tokenize(a));var d=(s=this.removeEmpty(this.tokenize(s))).length,p=a.length,b=1,r=d+p,f=[{newPos:-1,components:[]}],o=this.extractCommon(f[0],s,a,0);if(f[0].newPos+1>=d&&p<=o+1)return u([{value:this.join(s),count:s.length}]);function i(){for(var e=-1*b;e<=b;e+=2){var t=void 0,n=f[e-1],r=f[e+1],o=(r?r.newPos:0)-e;n&&(f[e-1]=void 0);var i=n&&n.newPos+1<d,c=r&&0<=o&&o<p;if(i||c){if(!i||c&&n.newPos<r.newPos?(t=m(r),l.pushComponent(t.components,void 0,!0)):((t=n).newPos++,l.pushComponent(t.components,!0,void 0)),o=l.extractCommon(t,s,a,e),t.newPos+1>=d&&p<=o+1)return u(h(l,t.components,s,a,l.useLongestToken));f[e]=t}else f[e]=void 0}b++}if(n)!function e(){setTimeout(function(){if(r<b)return n();i()||e()},0)}();else for(;b<=r;){var c=i();if(c)return c}},pushComponent:function e(t,n,r){var o=t[t.length-1];o&&o.added===n&&o.removed===r?t[t.length-1]={count:o.count+1,added:n,removed:r}:t.push({count:1,added:n,removed:r})},extractCommon:function e(t,n,r,o){for(var i=n.length,c=r.length,a=t.newPos,s=a-o,l=0;a+1<i&&s+1<c&&this.equals(n[a+1],r[s+1]);)a++,s++,l++;return l&&t.components.push({count:l}),t.newPos=a,s},equals:function e(t,n){return this.options.comparator?this.options.comparator(t,n):t===n||this.options.ignoreCase&&t.toLowerCase()===n.toLowerCase()},removeEmpty:function e(t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(t[r]);return n},castInput:function e(t){return t},tokenize:function e(t){return t.split("")},join:function e(t){return t.join("")}}},function(e,t,n){"use strict";t.__esModule=!0,t.characterDiff=void 0,t.diffChars=a;var r,o=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}var c=t.characterDiff=new o.default;function a(e,t,n){return c.diff(e,t,n)}},function(e,t,n){"use strict";t.__esModule=!0,t.wordDiff=void 0,t.diffWords=u,t.diffWordsWithSpace=d;var r,o=c(n(1)),i=n(4);function c(e){return e&&e.__esModule?e:{default:e}}var a=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,s=/\S/,l=t.wordDiff=new o.default;function u(e,t,n){return n=(0,i.generateOptions)(n,{ignoreWhitespace:!0}),l.diff(e,t,n)}function d(e,t,n){return l.diff(e,t,n)}l.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!s.test(e)&&!s.test(t)},l.tokenize=function(e){for(var t=e.split(/(\s+|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&a.test(t[n])&&a.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t}},function(e,t){"use strict";function n(e,t){if("function"==typeof e)t.callback=e;else if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}t.__esModule=!0,t.generateOptions=n},function(e,t,n){"use strict";t.__esModule=!0,t.lineDiff=void 0,t.diffLines=s,t.diffTrimmedLines=l;var r,o=c(n(1)),i=n(4);function c(e){return e&&e.__esModule?e:{default:e}}var a=t.lineDiff=new o.default;function s(e,t,n){return a.diff(e,t,n)}function l(e,t,n){var r=(0,i.generateOptions)(n,{ignoreWhitespace:!0});return a.diff(e,t,r)}a.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var o=n[r];r%2&&!this.options.newlineIsToken?t[t.length-1]+=o:(this.options.ignoreWhitespace&&(o=o.trim()),t.push(o))}return t}},function(e,t,n){"use strict";t.__esModule=!0,t.sentenceDiff=void 0,t.diffSentences=a;var r,o=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}var c=t.sentenceDiff=new o.default;function a(e,t,n){return c.diff(e,t,n)}c.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)}},function(e,t,n){"use strict";t.__esModule=!0,t.cssDiff=void 0,t.diffCss=a;var r,o=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}var c=t.cssDiff=new o.default;function a(e,t,n){return c.diff(e,t,n)}c.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)}},function(e,t,n){"use strict";t.__esModule=!0,t.jsonDiff=void 0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.diffJson=s,t.canonicalize=d;var r,o=c(n(1)),i=n(5);function c(e){return e&&e.__esModule?e:{default:e}}var u=Object.prototype.toString,a=t.jsonDiff=new o.default;function s(e,t,n){return a.diff(e,t,n)}function d(e,t,n,r,o){t=t||[],n=n||[],r&&(e=r(o,e));var i=void 0;for(i=0;i<t.length;i+=1)if(t[i]===e)return n[i];var c=void 0;if("[object Array]"===u.call(e)){for(t.push(e),c=new Array(e.length),n.push(c),i=0;i<e.length;i+=1)c[i]=d(e[i],t,n,r,o);return t.pop(),n.pop(),c}if(e&&e.toJSON&&(e=e.toJSON()),"object"===(void 0===e?"undefined":l(e))&&null!==e){t.push(e),c={},n.push(c);var a=[],s=void 0;for(s in e)e.hasOwnProperty(s)&&a.push(s);for(a.sort(),i=0;i<a.length;i+=1)c[s=a[i]]=d(e[s],t,n,r,s);t.pop(),n.pop()}else c=e;return c}a.useLongestToken=!0,a.tokenize=i.lineDiff.tokenize,a.castInput=function(e){var t=this.options,n=t.undefinedReplacement,r=t.stringifyReplacer,o=void 0===r?function(e,t){return void 0===t?n:t}:r;return"string"==typeof e?e:JSON.stringify(d(e,null,null,o),o,"  ")},a.equals=function(e,t){return o.default.prototype.equals.call(a,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))}},function(e,t,n){"use strict";t.__esModule=!0,t.arrayDiff=void 0,t.diffArrays=a;var r,o=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}var c=t.arrayDiff=new o.default;function a(e,t,n){return c.diff(e,t,n)}c.tokenize=function(e){return e.slice()},c.join=c.removeEmpty=function(e){return e}},function(e,t,n){"use strict";t.__esModule=!0,t.applyPatch=c,t.applyPatches=i;var B=n(11),r,x=o(n(12));function o(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t&&(t=(0,B.parsePatch)(t)),Array.isArray(t)){if(1<t.length)throw new Error("applyPatch only works with a single input.");t=t[0]}var c=e.split(/\r\n|[\n\v\f\r\x85]/),r=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],o=t.hunks,a=n.compareLine||function(e,t,n,r){return t===r},s=0,l=n.fuzzFactor||0,i=0,u=0,d=void 0,p=void 0;function b(e,t){for(var n=0;n<e.lines.length;n++){var r=e.lines[n],o=0<r.length?r[0]:" ",i=0<r.length?r.substr(1):r;if(" "===o||"-"===o){if(!a(t+1,c[t],o,i)&&l<++s)return!1;t++}}return!0}for(var f=0;f<o.length;f++){for(var h=o[f],m=c.length-h.oldLines,v=0,O=u+h.oldStart-1,g=(0,x.default)(O,i,m);void 0!==v;v=g())if(b(h,O+v)){h.offset=u+=v;break}if(void 0===v)return!1;i=h.offset+h.oldStart+h.oldLines}for(var j=0,y=0;y<o.length;y++){var k=o[y],_=k.oldStart+k.offset+j-1;j+=k.newLines-k.oldLines,_<0&&(_=0);for(var E=0;E<k.lines.length;E++){var S=k.lines[E],C=0<S.length?S[0]:" ",w=0<S.length?S.substr(1):S,T=k.linedelimiters[E];if(" "===C)_++;else if("-"===C)c.splice(_,1),r.splice(_,1);else if("+"===C)c.splice(_,0,w),r.splice(_,0,T),_++;else if("\\"===C){var P=k.lines[E-1]?k.lines[E-1][0]:null;"+"===P?d=!0:"-"===P&&(p=!0)}}}if(d)for(;!c[c.length-1];)c.pop(),r.pop();else p&&(c.push(""),r.push("\n"));for(var I=0;I<c.length-1;I++)c[I]=c[I]+r[I];return c.join("")}function i(e,o){"string"==typeof e&&(e=(0,B.parsePatch)(e));var t=0;function i(){var r=e[t++];if(!r)return o.complete();o.loadFile(r,function(e,t){if(e)return o.complete(e);var n=c(t,r,o);o.patched(r,n,function(e){if(e)return o.complete(e);i()})})}i()}},function(e,t){"use strict";function n(e){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},s=e.split(/\r\n|[\n\v\f\r\x85]/),l=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],o=[],u=0;function t(){var e={};for(o.push(e);u<s.length;){var t=s[u];if(/^(\-\-\-|\+\+\+|@@)\s/.test(t))break;var n=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(t);n&&(e.index=n[1]),u++}for(i(e),i(e),e.hunks=[];u<s.length;){var r=s[u];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(r))break;if(/^@@/.test(r))e.hunks.push(c());else{if(r&&a.strict)throw new Error("Unknown line "+(u+1)+" "+JSON.stringify(r));u++}}}function i(e){var t=/^(---|\+\+\+)\s+(.*)$/.exec(s[u]);if(t){var n="---"===t[1]?"old":"new",r=t[2].split("\t",2),o=r[0].replace(/\\\\/g,"\\");/^".*"$/.test(o)&&(o=o.substr(1,o.length-2)),e[n+"FileName"]=o,e[n+"Header"]=(r[1]||"").trim(),u++}}function c(){for(var e=u,t,n=s[u++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),r={oldStart:+n[1],oldLines:+n[2]||1,newStart:+n[3],newLines:+n[4]||1,lines:[],linedelimiters:[]},o=0,i=0;u<s.length&&!(0===s[u].indexOf("--- ")&&u+2<s.length&&0===s[u+1].indexOf("+++ ")&&0===s[u+2].indexOf("@@"));u++){var c=0==s[u].length&&u!=s.length-1?" ":s[u][0];if("+"!==c&&"-"!==c&&" "!==c&&"\\"!==c)break;r.lines.push(s[u]),r.linedelimiters.push(l[u]||"\n"),"+"===c?o++:"-"===c?i++:" "===c&&(o++,i++)}if(o||1!==r.newLines||(r.newLines=0),i||1!==r.oldLines||(r.oldLines=0),a.strict){if(o!==r.newLines)throw new Error("Added line count did not match for hunk at line "+(e+1));if(i!==r.oldLines)throw new Error("Removed line count did not match for hunk at line "+(e+1))}return r}for(;u<s.length;)t();return o}t.__esModule=!0,t.parsePatch=n},function(e,t){"use strict";t.__esModule=!0,t.default=function(t,n,r){var o=!0,i=!1,c=!1,a=1;return function e(){if(o&&!c){if(i?a++:o=!1,t+a<=r)return a;c=!0}if(!i)return c||(o=!0),n<=t-a?-a++:(i=!0,e())}}},function(e,t,n){"use strict";t.__esModule=!0,t.calcLineCount=p,t.merge=i;var r=n(14),o=n(11),s=n(15);function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function p(e){var t=c(e.lines),n=t.oldLines,r=t.newLines;void 0!==n?e.oldLines=n:delete e.oldLines,void 0!==r?e.newLines=r:delete e.newLines}function i(e,t,n){e=b(e,n),t=b(t,n);var r={};(e.index||t.index)&&(r.index=e.index||t.index),(e.newFileName||t.newFileName)&&(f(e)?f(t)?(r.oldFileName=h(r,e.oldFileName,t.oldFileName),r.newFileName=h(r,e.newFileName,t.newFileName),r.oldHeader=h(r,e.oldHeader,t.oldHeader),r.newHeader=h(r,e.newHeader,t.newHeader)):(r.oldFileName=e.oldFileName,r.newFileName=e.newFileName,r.oldHeader=e.oldHeader,r.newHeader=e.newHeader):(r.oldFileName=t.oldFileName||e.oldFileName,r.newFileName=t.newFileName||e.newFileName,r.oldHeader=t.oldHeader||e.oldHeader,r.newHeader=t.newHeader||e.newHeader)),r.hunks=[];for(var o=0,i=0,c=0,a=0;o<e.hunks.length||i<t.hunks.length;){var s=e.hunks[o]||{oldStart:1/0},l=t.hunks[i]||{oldStart:1/0};if(m(s,l))r.hunks.push(v(s,c)),o++,a+=s.newLines-s.oldLines;else if(m(l,s))r.hunks.push(v(l,a)),i++,c+=l.newLines-l.oldLines;else{var u={oldStart:Math.min(s.oldStart,l.oldStart),oldLines:0,newStart:Math.min(s.newStart+c,l.oldStart+a),newLines:0,lines:[]};O(u,s.oldStart,s.lines,l.oldStart,l.lines),i++,o++,r.hunks.push(u)}}return r}function b(e,t){if("string"!=typeof e)return e;if(/^@@/m.test(e)||/^Index:/m.test(e))return(0,o.parsePatch)(e)[0];if(!t)throw new Error("Must provide a base reference or pass in a patch");return(0,r.structuredPatch)(void 0,void 0,t,e)}function f(e){return e.newFileName&&e.newFileName!==e.oldFileName}function h(e,t,n){return t===n?t:(e.conflict=!0,{mine:t,theirs:n})}function m(e,t){return e.oldStart<t.oldStart&&e.oldStart+e.oldLines<t.oldStart}function v(e,t){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+t,newLines:e.newLines,lines:e.lines}}function O(e,t,n,r,o){var i={offset:t,lines:n,index:0},c={offset:r,lines:o,index:0};for(k(e,i,c),k(e,c,i);i.index<i.lines.length&&c.index<c.lines.length;){var a=i.lines[i.index],s=c.lines[c.index];if("-"!==a[0]&&"+"!==a[0]||"-"!==s[0]&&"+"!==s[0])if("+"===a[0]&&" "===s[0]){var l;(l=e.lines).push.apply(l,d(E(i)))}else if("+"===s[0]&&" "===a[0]){var u;(u=e.lines).push.apply(u,d(E(c)))}else"-"===a[0]&&" "===s[0]?j(e,i,c):"-"===s[0]&&" "===a[0]?j(e,c,i,!0):a===s?(e.lines.push(a),i.index++,c.index++):y(e,E(i),E(c));else g(e,i,c)}_(e,i),_(e,c),p(e)}function g(e,t,n){var r=E(t),o=E(n);if(l(r)&&l(o)){var i,c;if((0,s.arrayStartsWith)(r,o)&&u(n,r,r.length-o.length))return void(i=e.lines).push.apply(i,d(r));if((0,s.arrayStartsWith)(o,r)&&u(t,o,o.length-r.length))return void(c=e.lines).push.apply(c,d(o))}else if((0,s.arrayEqual)(r,o)){var a;return void(a=e.lines).push.apply(a,d(r))}y(e,r,o)}function j(e,t,n,r){var o=E(t),i=a(n,o),c;i.merged?(c=e.lines).push.apply(c,d(i.merged)):y(e,r?i:o,r?o:i)}function y(e,t,n){e.conflict=!0,e.lines.push({conflict:!0,mine:t,theirs:n})}function k(e,t,n){for(;t.offset<n.offset&&t.index<t.lines.length;){var r=t.lines[t.index++];e.lines.push(r),t.offset++}}function _(e,t){for(;t.index<t.lines.length;){var n=t.lines[t.index++];e.lines.push(n)}}function E(e){for(var t=[],n=e.lines[e.index][0];e.index<e.lines.length;){var r=e.lines[e.index];if("-"===n&&"+"===r[0]&&(n="+"),n!==r[0])break;t.push(r),e.index++}return t}function a(e,t){for(var n=[],r=[],o=0,i=!1,c=!1;o<t.length&&e.index<e.lines.length;){var a=e.lines[e.index],s=t[o];if("+"===s[0])break;if(i=i||" "!==a[0],r.push(s),o++,"+"===a[0])for(c=!0;"+"===a[0];)n.push(a),a=e.lines[++e.index];s.substr(1)===a.substr(1)?(n.push(a),e.index++):c=!0}if("+"===(t[o]||"")[0]&&i&&(c=!0),c)return n;for(;o<t.length;)r.push(t[o++]);return{merged:r,changes:n}}function l(e){return e.reduce(function(e,t){return e&&"-"===t[0]},!0)}function u(e,t,n){for(var r=0;r<n;r++){var o=t[t.length-n+r].substr(1);if(e.lines[e.index+r]!==" "+o)return!1}return e.index+=n,!0}function c(e){var r=0,o=0;return e.forEach(function(e){if("string"!=typeof e){var t=c(e.mine),n=c(e.theirs);void 0!==r&&(t.oldLines===n.oldLines?r+=t.oldLines:r=void 0),void 0!==o&&(t.newLines===n.newLines?o+=t.newLines:o=void 0)}else void 0===o||"+"!==e[0]&&" "!==e[0]||o++,void 0===r||"-"!==e[0]&&" "!==e[0]||r++}),{oldLines:r,newLines:o}}},function(e,t,n){"use strict";t.__esModule=!0,t.structuredPatch=d,t.createTwoFilesPatch=a,t.createPatch=r;var c=n(5);function _(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function d(e,t,p,b,n,r,f){f||(f={}),void 0===f.context&&(f.context=4);var h=(0,c.diffLines)(p,b,f);function m(e){return e.map(function(e){return" "+e})}h.push({value:"",lines:[]});for(var v=[],O=0,g=0,j=[],y=1,k=1,o=function e(t){var n=h[t],r=n.lines||n.value.replace(/\n$/,"").split("\n");if(n.lines=r,n.added||n.removed){var o;if(!O){var i=h[t-1];O=y,g=k,i&&(j=0<f.context?m(i.lines.slice(-f.context)):[],O-=j.length,g-=j.length)}(o=j).push.apply(o,_(r.map(function(e){return(n.added?"+":"-")+e}))),n.added?k+=r.length:y+=r.length}else{if(O)if(r.length<=2*f.context&&t<h.length-2){var c;(c=j).push.apply(c,_(m(r)))}else{var a,s=Math.min(r.length,f.context);(a=j).push.apply(a,_(m(r.slice(0,s))));var l={oldStart:O,oldLines:y-O+s,newStart:g,newLines:k-g+s,lines:j};if(t>=h.length-2&&r.length<=f.context){var u=/\n$/.test(p),d=/\n$/.test(b);0!=r.length||u?u&&d||j.push("\\ No newline at end of file"):j.splice(l.oldLines,0,"\\ No newline at end of file")}v.push(l),g=O=0,j=[]}y+=r.length,k+=r.length}},i=0;i<h.length;i++)o(i);return{oldFileName:e,newFileName:t,oldHeader:n,newHeader:r,hunks:v}}function a(e,t,n,r,o,i,c){var a=d(e,t,n,r,o,i,c),s=[];e==t&&s.push("Index: "+e),s.push("==================================================================="),s.push("--- "+a.oldFileName+(void 0===a.oldHeader?"":"\t"+a.oldHeader)),s.push("+++ "+a.newFileName+(void 0===a.newHeader?"":"\t"+a.newHeader));for(var l=0;l<a.hunks.length;l++){var u=a.hunks[l];s.push("@@ -"+u.oldStart+","+u.oldLines+" +"+u.newStart+","+u.newLines+" @@"),s.push.apply(s,u.lines)}return s.join("\n")+"\n"}function r(e,t,n,r,o,i){return a(e,e,t,n,r,o,i)}},function(e,t){"use strict";function n(e,t){return e.length===t.length&&r(e,t)}function r(e,t){if(t.length>e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}t.__esModule=!0,t.arrayEqual=n,t.arrayStartsWith=r},function(e,t){"use strict";function n(e){for(var t=[],n=void 0,r=void 0,o=0;o<e.length;o++)r=(n=e[o]).added?1:n.removed?-1:0,t.push([r,n.value]);return t}t.__esModule=!0,t.convertChangesToDMP=n},function(e,t){"use strict";function n(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r.added?t.push("<ins>"):r.removed&&t.push("<del>"),t.push(o(r.value)),r.added?t.push("</ins>"):r.removed&&t.push("</del>")}return t.join("")}function o(e){var t=e;return t=(t=(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")}t.__esModule=!0,t.convertChangesToXML=n}])})},function(e,t){!function(){e.exports=this.tinymce}()},function(e,t){var n=e.exports=function(e){return new o(e)};function o(e){this.value=e}function r(e,s,l){var u=[],d=[],p=!0;return function r(t){var e=l?b(t):t,o={},n=!0,i={node:e,node_:t,path:[].concat(u),parent:d[d.length-1],parents:d,key:u.slice(-1)[0],isRoot:0===u.length,level:u.length,circular:null,update:function(e,t){i.isRoot||(i.parent.node[i.key]=e),i.node=e,t&&(n=!1)},delete:function(e){delete i.parent.node[i.key],e&&(n=!1)},remove:function(e){h(i.parent.node)?i.parent.node.splice(i.key,1):delete i.parent.node[i.key],e&&(n=!1)},keys:null,before:function(e){o.before=e},after:function(e){o.after=e},pre:function(e){o.pre=e},post:function(e){o.post=e},stop:function(){p=!1},block:function(){n=!1}};if(!p)return i;function c(){if("object"==typeof i.node&&null!==i.node){i.keys&&i.node_===i.node||(i.keys=f(i.node)),i.isLeaf=0==i.keys.length;for(var e=0;e<d.length;e++)if(d[e].node_===t){i.circular=d[e];break}}else i.isLeaf=!0,i.keys=null;i.notLeaf=!i.isLeaf,i.notRoot=!i.isRoot}c();var a=s.call(i,i.node);return void 0!==a&&i.update&&i.update(a),o.before&&o.before.call(i,i.node),n&&("object"!=typeof i.node||null===i.node||i.circular||(d.push(i),c(),m(i.keys,function(e,t){u.push(e),o.pre&&o.pre.call(i,i.node[e],e);var n=r(i.node[e]);l&&v.call(i.node,e)&&(i.node[e]=n.node),n.isLast=t==i.keys.length-1,n.isFirst=0==t,o.post&&o.post.call(i,n),u.pop()}),d.pop()),o.after&&o.after.call(i,i.node)),i}(e).node}function b(t){if("object"!=typeof t||null===t)return t;var n;if(h(t))n=[];else if(c(t))n=new Date(t.getTime?t.getTime():t);else if(a(t))n=new RegExp(t);else if(s(t))n={message:t.message};else if(l(t))n=new Boolean(t);else if(u(t))n=new Number(t);else if(d(t))n=new String(t);else if(Object.create&&Object.getPrototypeOf)n=Object.create(Object.getPrototypeOf(t));else if(t.constructor===Object)n={};else{var e=t.constructor&&t.constructor.prototype||t.__proto__||{},r=function(){};r.prototype=e,n=new r}return m(f(t),function(e){n[e]=t[e]}),n}o.prototype.get=function(e){for(var t=this.value,n=0;n<e.length;n++){var r=e[n];if(!t||!v.call(t,r)){t=void 0;break}t=t[r]}return t},o.prototype.has=function(e){for(var t=this.value,n=0;n<e.length;n++){var r=e[n];if(!t||!v.call(t,r))return!1;t=t[r]}return!0},o.prototype.set=function(e,t){for(var n=this.value,r=0;r<e.length-1;r++){var o=e[r];v.call(n,o)||(n[o]={}),n=n[o]}return n[e[r]]=t},o.prototype.map=function(e){return r(this.value,e,!0)},o.prototype.forEach=function(e){return this.value=r(this.value,e,!1),this.value},o.prototype.reduce=function(t,e){var n=1===arguments.length,r=n?this.value:e;return this.forEach(function(e){this.isRoot&&n||(r=t.call(this,r,e))}),r},o.prototype.paths=function(){var t=[];return this.forEach(function(e){t.push(this.path)}),t},o.prototype.nodes=function(){var t=[];return this.forEach(function(e){t.push(this.node)}),t},o.prototype.clone=function(){var o=[],i=[];return function t(n){for(var e=0;e<o.length;e++)if(o[e]===n)return i[e];if("object"!=typeof n||null===n)return n;var r=b(n);return o.push(n),i.push(r),m(f(n),function(e){r[e]=t(n[e])}),o.pop(),i.pop(),r}(this.value)};var f=Object.keys||function e(t){var n=[];for(var r in t)n.push(r);return n};function i(e){return Object.prototype.toString.call(e)}function c(e){return"[object Date]"===i(e)}function a(e){return"[object RegExp]"===i(e)}function s(e){return"[object Error]"===i(e)}function l(e){return"[object Boolean]"===i(e)}function u(e){return"[object Number]"===i(e)}function d(e){return"[object String]"===i(e)}var h=Array.isArray||function e(t){return"[object Array]"===Object.prototype.toString.call(t)},m=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)};m(f(o.prototype),function(r){n[r]=function(e){var t=[].slice.call(arguments,1),n=new o(e);return n[r].apply(n,t)}});var v=Object.hasOwnProperty||function(e,t){return t in e}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function o(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var p="BEGIN",b="COMMIT",f="REVERT",i=[];function r(l){function c(e,t){var n=v(e),r=n.optimist,o=n.innerState;return r=r.concat([{beforeState:o,action:t}]),m(o=l(o,t),t),d({optimist:r},o)}function a(e,t){var n=v(e),r=n.optimist,o=n.innerState,i=[],c=!1,a=!1;return r.forEach(function(e){c?e.beforeState&&h(e.action,t.optimist.id)?(a=!0,i.push({action:e.action})):i.push(e):e.beforeState&&!h(e.action,t.optimist.id)?(c=!0,i.push(e)):e.beforeState&&h(e.action,t.optimist.id)&&(a=!0)}),a||console.error('Cannot commit transaction with id "'+t.optimist.id+'" because it does not exist'),u(r=i,o,t)}function s(e,t){var n=v(e),r=n.optimist,o=n.innerState,i=[],c=!1,a=!1,s=o;return r.forEach(function(e){e.beforeState&&h(e.action,t.optimist.id)&&(s=e.beforeState,a=!0),h(e.action,t.optimist.id)||(e.beforeState&&(c=!0),c&&(a&&e.beforeState?i.push({beforeState:s,action:e.action}):i.push(e)),a&&(s=l(s,e.action),m(o,t)))}),a||console.error('Cannot revert transaction with id "'+t.optimist.id+'" because it does not exist'),u(r=i,s,t)}function u(e,t,n){return e.length&&(e=e.concat([{action:n}])),m(t=l(t,n),n),d({optimist:e},t)}return function(e,t){if(t.optimist)switch(t.optimist.type){case p:return c(e,t);case b:return a(e,t);case f:return s(e,t)}var n=v(e),r=n.optimist,o=n.innerState;if(!e||r.length)return u(r,o,t);var i=l(o,t);return i===o?e:(m(i,t),d({optimist:r},i))}}function h(e,t){return e.optimist&&e.optimist.id===t}function m(e,t){if(!e||"object"!=typeof e||Array.isArray(e))throw new TypeError('Error while handling "'+t.type+'": Optimist requires that state is always a plain object.')}function v(e){if(e){var t=e.optimist,n,r;return{optimist:void 0===t?i:t,innerState:o(e,["optimist"])}}return{optimist:i,innerState:e}}e.exports=r,e.exports.BEGIN=p,e.exports.COMMIT=b,e.exports.REVERT=f},function(e,t,n){"use strict";var r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o,p=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},b=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]]);return n};t.__esModule=!0;var i=n(26),c=n(29),a=n(271),s,l=n(272),u="autosize:update",d="autosize:destroy",f="autosize:resized",h=function(e){function t(){var d=null!==e&&e.apply(this,arguments)||this;return d.state={lineHeight:null},d.dispatchEvent=function(e){var t=document.createEvent("Event");t.initEvent(e,!0,!1),d.textarea.dispatchEvent(t)},d.updateLineHeight=function(){d.setState({lineHeight:l(d.textarea)})},d.onChange=function(e){var t=d.props.onChange;d.currentValue=e.currentTarget.value,t&&t(e)},d.saveDOMNodeRef=function(e){var t=d.props.innerRef;t&&t(e),d.textarea=e},d.getLocals=function(){var e=d,t=e.props,n=t.onResize,r=t.maxRows,o=t.onChange,i=t.style,c=t.innerRef,a=b(t,["onResize","maxRows","onChange","style","innerRef"]),s=e.state.lineHeight,l=e.saveDOMNodeRef,u=r&&s?s*r:null;return p({},a,{saveDOMNodeRef:l,style:u?p({},i,{maxHeight:u}):i,onChange:d.onChange})},d}return r(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.onResize,r;"number"==typeof t.maxRows&&this.updateLineHeight(),setTimeout(function(){return a(e.textarea)}),n&&this.textarea.addEventListener(f,n)},t.prototype.componentWillUnmount=function(){var e=this.props.onResize;e&&this.textarea.removeEventListener(f,e),this.dispatchEvent(d)},t.prototype.render=function(){var e=this.getLocals(),t=e.children,n=e.saveDOMNodeRef,r=b(e,["children","saveDOMNodeRef"]);return i.createElement("textarea",p({},r,{ref:n}),t)},t.prototype.componentDidUpdate=function(e){this.props.value===this.currentValue&&this.props.rows===e.rows||this.dispatchEvent(u)},t.defaultProps={rows:1},t.propTypes={rows:c.number,maxRows:c.number,onResize:c.func,innerRef:c.func},t}(i.Component);t.default=h},function(e,t,n){var r,o,i,c,a,s;c=this,o=[e,t],void 0===(i="function"==typeof(r=a=function(e,t){"use strict";var d="function"==typeof Map?new Map:(r=[],o=[],{has:function e(t){return-1<r.indexOf(t)},get:function e(t){return o[r.indexOf(t)]},set:function e(t,n){-1===r.indexOf(t)&&(r.push(t),o.push(n))},delete:function e(t){var n=r.indexOf(t);-1<n&&(r.splice(n,1),o.splice(n,1))}}),r,o,p=function e(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(e){p=function e(t){var n=document.createEvent("Event");return n.initEvent(t,!0,!1),n}}function i(o){if(o&&o.nodeName&&"TEXTAREA"===o.nodeName&&!d.has(o)){var n=null,r=null,i=null,e=function e(){o.clientWidth!==r&&u()},c=function(t){window.removeEventListener("resize",e,!1),o.removeEventListener("input",u,!1),o.removeEventListener("keyup",u,!1),o.removeEventListener("autosize:destroy",c,!1),o.removeEventListener("autosize:update",u,!1),Object.keys(t).forEach(function(e){o.style[e]=t[e]}),d.delete(o)}.bind(o,{height:o.style.height,resize:o.style.resize,overflowY:o.style.overflowY,overflowX:o.style.overflowX,wordWrap:o.style.wordWrap});o.addEventListener("autosize:destroy",c,!1),"onpropertychange"in o&&"oninput"in o&&o.addEventListener("keyup",u,!1),window.addEventListener("resize",e,!1),o.addEventListener("input",u,!1),o.addEventListener("autosize:update",u,!1),o.style.overflowX="hidden",o.style.wordWrap="break-word",d.set(o,{destroy:c,update:u}),t()}function t(){var e=window.getComputedStyle(o,null);"vertical"===e.resize?o.style.resize="none":"both"===e.resize&&(o.style.resize="horizontal"),n="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(n)&&(n=0),u()}function a(e){var t=o.style.width;o.style.width="0px",o.offsetWidth,o.style.width=t,o.style.overflowY=e}function s(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}function l(){if(0!==o.scrollHeight){var e=s(o),t=document.documentElement&&document.documentElement.scrollTop;o.style.height="",o.style.height=o.scrollHeight+n+"px",r=o.clientWidth,e.forEach(function(e){e.node.scrollTop=e.scrollTop}),t&&(document.documentElement.scrollTop=t)}}function u(){l();var e=Math.round(parseFloat(o.style.height)),t=window.getComputedStyle(o,null),n="content-box"===t.boxSizing?Math.round(parseFloat(t.height)):o.offsetHeight;if(n<e?"hidden"===t.overflowY&&(a("scroll"),l(),n="content-box"===t.boxSizing?Math.round(parseFloat(window.getComputedStyle(o,null).height)):o.offsetHeight):"hidden"!==t.overflowY&&(a("hidden"),l(),n="content-box"===t.boxSizing?Math.round(parseFloat(window.getComputedStyle(o,null).height)):o.offsetHeight),i!==n){i=n;var r=p("autosize:resized");try{o.dispatchEvent(r)}catch(e){}}}}function n(e){var t=d.get(e);t&&t.destroy()}function c(e){var t=d.get(e);t&&t.update()}var a=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((a=function e(t){return t}).destroy=function(e){return e},a.update=function(e){return e}):((a=function e(t,n){return t&&Array.prototype.forEach.call(t.length?t:[t],function(e){return i(e,n)}),t}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],n),e},a.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],c),e}),t.default=a,e.exports=t.default})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){var l=n(273);function r(e){var t=l(e,"line-height"),n=parseFloat(t,10);if(t===n+""){var r=e.style.lineHeight;e.style.lineHeight=t+"em",t=l(e,"line-height"),n=parseFloat(t,10),r?e.style.lineHeight=r:delete e.style.lineHeight}if(-1!==t.indexOf("pt")?(n*=4,n/=3):-1!==t.indexOf("mm")?(n*=96,n/=25.4):-1!==t.indexOf("cm")?(n*=96,n/=2.54):-1!==t.indexOf("in")?n*=96:-1!==t.indexOf("pc")&&(n*=16),n=Math.round(n),"normal"===t){var o=e.nodeName,i=document.createElement(o);i.innerHTML="&nbsp;","TEXTAREA"===o.toUpperCase()&&i.setAttribute("rows","1");var c=l(e,"font-size");i.style.fontSize=c,i.style.padding="0px",i.style.border="0px";var a=document.body,s;a.appendChild(i),n=i.offsetHeight,a.removeChild(i)}return n}e.exports=r},function(e,t){var n=function(e,t,n){return((n=window.getComputedStyle)?n(e):e.currentStyle)[t.replace(/-(\w)/gi,function(e,t){return t.toUpperCase()})]};e.exports=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"setupEditor",function(){return he}),n.d(r,"resetPost",function(){return me}),n.d(r,"resetAutosave",function(){return ve}),n.d(r,"updatePost",function(){return Oe}),n.d(r,"setupEditorState",function(){return ge}),n.d(r,"resetBlocks",function(){return je}),n.d(r,"receiveBlocks",function(){return ye}),n.d(r,"updateBlockAttributes",function(){return ke}),n.d(r,"updateBlock",function(){return _e}),n.d(r,"selectBlock",function(){return Ee}),n.d(r,"startMultiSelect",function(){return Se}),n.d(r,
"stopMultiSelect",function(){return Ce}),n.d(r,"multiSelect",function(){return we}),n.d(r,"clearSelectedBlock",function(){return Te}),n.d(r,"toggleSelection",function(){return Pe}),n.d(r,"replaceBlocks",function(){return Ie}),n.d(r,"replaceBlock",function(){return Be}),n.d(r,"moveBlocksDown",function(){return Le}),n.d(r,"moveBlocksUp",function(){return Ae}),n.d(r,"moveBlockToPosition",function(){return Ne}),n.d(r,"insertBlock",function(){return Re}),n.d(r,"insertBlocks",function(){return De}),n.d(r,"showInsertionPoint",function(){return Fe}),n.d(r,"hideInsertionPoint",function(){return Me}),n.d(r,"setTemplateValidity",function(){return Ue}),n.d(r,"synchronizeTemplate",function(){return He}),n.d(r,"editPost",function(){return Ve}),n.d(r,"savePost",function(){return Ke}),n.d(r,"refreshPost",function(){return ze}),n.d(r,"trashPost",function(){return We}),n.d(r,"mergeBlocks",function(){return qe}),n.d(r,"autosave",function(){return Ge}),n.d(r,"redo",function(){return $e}),n.d(r,"undo",function(){return Ye}),n.d(r,"createUndoLevel",function(){return Qe}),n.d(r,"removeBlocks",function(){return Xe}),n.d(r,"removeBlock",function(){return Je}),n.d(r,"toggleBlockMode",function(){return Ze}),n.d(r,"startTyping",function(){return et}),n.d(r,"stopTyping",function(){return tt}),n.d(r,"enterFormattedText",function(){return nt}),n.d(r,"exitFormattedText",function(){return rt}),n.d(r,"updatePostLock",function(){return ot}),n.d(r,"__experimentalFetchReusableBlocks",function(){return it}),n.d(r,"__experimentalReceiveReusableBlocks",function(){return ct}),n.d(r,"__experimentalSaveReusableBlock",function(){return at}),n.d(r,"__experimentalDeleteReusableBlock",function(){return st}),n.d(r,"__experimentalUpdateReusableBlockTitle",function(){return lt}),n.d(r,"__experimentalConvertBlockToStatic",function(){return ut}),n.d(r,"__experimentalConvertBlockToReusable",function(){return dt}),n.d(r,"insertDefaultBlock",function(){return pt}),n.d(r,"updateBlockListSettings",function(){return bt}),n.d(r,"updateEditorSettings",function(){return ft}),n.d(r,"enablePublishSidebar",function(){return ht}),n.d(r,"disablePublishSidebar",function(){return mt}),n.d(r,"lockPostSaving",function(){return vt}),n.d(r,"unlockPostSaving",function(){return Ot});var o={};n.r(o),n.d(o,"POST_UPDATE_TRANSACTION_ID",function(){return kt}),n.d(o,"INSERTER_UTILITY_HIGH",function(){return Et}),n.d(o,"INSERTER_UTILITY_MEDIUM",function(){return St}),n.d(o,"INSERTER_UTILITY_LOW",function(){return Ct}),n.d(o,"INSERTER_UTILITY_NONE",function(){return wt}),n.d(o,"hasEditorUndo",function(){return Lt}),n.d(o,"hasEditorRedo",function(){return At}),n.d(o,"isEditedPostNew",function(){return Nt}),n.d(o,"hasChangedContent",function(){return Rt}),n.d(o,"isEditedPostDirty",function(){return Dt}),n.d(o,"isCleanNewPost",function(){return Ft}),n.d(o,"getCurrentPost",function(){return Mt}),n.d(o,"getCurrentPostType",function(){return Ut}),n.d(o,"getCurrentPostId",function(){return Ht}),n.d(o,"getCurrentPostRevisionsCount",function(){return Vt}),n.d(o,"getCurrentPostLastRevisionId",function(){return Kt}),n.d(o,"getPostEdits",function(){return zt}),n.d(o,"getReferenceByDistinctEdits",function(){return Wt}),n.d(o,"getCurrentPostAttribute",function(){return qt}),n.d(o,"getEditedPostAttribute",function(){return Gt}),n.d(o,"getAutosaveAttribute",function(){return $t}),n.d(o,"getEditedPostVisibility",function(){return Yt}),n.d(o,"isCurrentPostPending",function(){return Qt}),n.d(o,"isCurrentPostPublished",function(){return Xt}),n.d(o,"isCurrentPostScheduled",function(){return Jt}),n.d(o,"isEditedPostPublishable",function(){return Zt}),n.d(o,"isEditedPostSaveable",function(){return en}),n.d(o,"isEditedPostEmpty",function(){return tn}),n.d(o,"isEditedPostAutosaveable",function(){return nn}),n.d(o,"getAutosave",function(){return rn}),n.d(o,"hasAutosave",function(){return on}),n.d(o,"isEditedPostBeingScheduled",function(){return cn}),n.d(o,"isEditedPostDateFloating",function(){return an}),n.d(o,"getBlockDependantsCacheBust",function(){return sn}),n.d(o,"getBlockName",function(){return ln}),n.d(o,"isBlockValid",function(){return un}),n.d(o,"getBlockAttributes",function(){return dn}),n.d(o,"getBlock",function(){return pn}),n.d(o,"__unstableGetBlockWithoutInnerBlocks",function(){return bn}),n.d(o,"getBlocks",function(){return hn}),n.d(o,"getClientIdsOfDescendants",function(){return mn}),n.d(o,"getClientIdsWithDescendants",function(){return vn}),n.d(o,"getGlobalBlockCount",function(){return On}),n.d(o,"getBlocksByClientId",function(){return gn}),n.d(o,"getBlockCount",function(){return jn}),n.d(o,"getBlockSelectionStart",function(){return yn}),n.d(o,"getBlockSelectionEnd",function(){return kn}),n.d(o,"getSelectedBlockCount",function(){return _n}),n.d(o,"hasSelectedBlock",function(){return En}),n.d(o,"getSelectedBlockClientId",function(){return Sn}),n.d(o,"getSelectedBlock",function(){return Cn}),n.d(o,"getBlockRootClientId",function(){return wn}),n.d(o,"getBlockHierarchyRootClientId",function(){return Tn}),n.d(o,"getAdjacentBlockClientId",function(){return Pn}),n.d(o,"getPreviousBlockClientId",function(){return In}),n.d(o,"getNextBlockClientId",function(){return Bn}),n.d(o,"getSelectedBlocksInitialCaretPosition",function(){return xn}),n.d(o,"getMultiSelectedBlockClientIds",function(){return Ln}),n.d(o,"getMultiSelectedBlocks",function(){return An}),n.d(o,"getFirstMultiSelectedBlockClientId",function(){return Nn}),n.d(o,"getLastMultiSelectedBlockClientId",function(){return Rn}),n.d(o,"isFirstMultiSelectedBlock",function(){return Fn}),n.d(o,"isBlockMultiSelected",function(){return Mn}),n.d(o,"isAncestorMultiSelected",function(){return Un}),n.d(o,"getMultiSelectedBlocksStartClientId",function(){return Hn}),n.d(o,"getMultiSelectedBlocksEndClientId",function(){return Vn}),n.d(o,"getBlockOrder",function(){return Kn}),n.d(o,"getBlockIndex",function(){return zn}),n.d(o,"isBlockSelected",function(){return Wn}),n.d(o,"hasSelectedInnerBlock",function(){return qn}),n.d(o,"isBlockWithinSelection",function(){return Gn}),n.d(o,"hasMultiSelection",function(){return $n}),n.d(o,"isMultiSelecting",function(){return Yn}),n.d(o,"isSelectionEnabled",function(){return Qn}),n.d(o,"getBlockMode",function(){return Xn}),n.d(o,"isTyping",function(){return Jn}),n.d(o,"isCaretWithinFormattedText",function(){return Zn}),n.d(o,"getBlockInsertionPoint",function(){return er}),n.d(o,"isBlockInsertionPointVisible",function(){return tr}),n.d(o,"isValidTemplate",function(){return nr}),n.d(o,"getTemplate",function(){return rr}),n.d(o,"getTemplateLock",function(){return or}),n.d(o,"isSavingPost",function(){return ir}),n.d(o,"didPostSaveRequestSucceed",function(){return cr}),n.d(o,"didPostSaveRequestFail",function(){return ar}),n.d(o,"isAutosavingPost",function(){return sr}),n.d(o,"isPreviewingPost",function(){return lr}),n.d(o,"getEditedPostPreviewLink",function(){return ur}),n.d(o,"getSuggestedPostFormat",function(){return dr}),n.d(o,"getBlocksForSerialization",function(){return pr}),n.d(o,"getEditedPostContent",function(){return br}),n.d(o,"canInsertBlockType",function(){return hr}),n.d(o,"getInserterItems",function(){return gr}),n.d(o,"hasInserterItems",function(){return jr}),n.d(o,"__experimentalGetReusableBlock",function(){return yr}),n.d(o,"__experimentalIsSavingReusableBlock",function(){return kr}),n.d(o,"__experimentalIsFetchingReusableBlock",function(){return _r}),n.d(o,"__experimentalGetReusableBlocks",function(){return Er}),n.d(o,"getStateBeforeOptimisticTransaction",function(){return Sr}),n.d(o,"isPublishingPost",function(){return Cr}),n.d(o,"isPermalinkEditable",function(){return wr}),n.d(o,"getPermalink",function(){return Tr}),n.d(o,"getPermalinkParts",function(){return Pr}),n.d(o,"inSomeHistory",function(){return Ir}),n.d(o,"getBlockListSettings",function(){return Br}),n.d(o,"getEditorSettings",function(){return xr}),n.d(o,"getTokenSettings",function(){return Lr}),n.d(o,"isPostLocked",function(){return Ar}),n.d(o,"isPostSavingLocked",function(){return Nr}),n.d(o,"isPostLockTakeover",function(){return Rr}),n.d(o,"getPostLockUser",function(){return Dr}),n.d(o,"getActivePostLock",function(){return Fr}),n.d(o,"canUserUseUnfilteredHTML",function(){return Mr}),n.d(o,"isPublishSidebarEnabled",function(){return Ur});var $=n(11),i=n(79),c=n(121),P=n(52),v=n(20),a=n(37),g=n(5),b=n(25),Y=n(8),O=n(21),R=n(19),D=n(15),s=n(28),m=n(53),l=n.n(m),F=n(2),j=n(24),u={resetTypes:[],ignoreTypes:[],shouldOverwriteState:function e(){return!1}},d,p=function e(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return function(d){(r=Object(Y.a)({},u,r)).shouldOverwriteState=Object(F.overSome)([r.shouldOverwriteState,function(e){return Object(F.includes)(r.ignoreTypes,e.type)}]);var p={past:[],present:d(void 0,{}),future:[],lastAction:null,shouldCreateUndoLevel:!1},e=r,t=e.resetTypes,b=void 0===t?[]:t,n=e.shouldOverwriteState,f=void 0===n?function(){return!1}:n;return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:p,t=1<arguments.length?arguments[1]:void 0,n=e.past,r=e.present,o=e.future,i=e.lastAction,c=e.shouldCreateUndoLevel,a=i;switch(t.type){case"UNDO":return n.length?{past:Object(F.dropRight)(n),present:Object(F.last)(n),future:[r].concat(Object(R.a)(o)),lastAction:null,shouldCreateUndoLevel:!1}:e;case"REDO":return o.length?{past:Object(R.a)(n).concat([r]),present:Object(F.first)(o),future:Object(F.drop)(o),lastAction:null,shouldCreateUndoLevel:!1}:e;case"CREATE_UNDO_LEVEL":return Object(Y.a)({},e,{lastAction:null,shouldCreateUndoLevel:!0})}var s=d(r,t);if(Object(F.includes)(b,t.type))return{past:[],present:s,future:[],lastAction:null,shouldCreateUndoLevel:!1};if(r===s)return e;var l=n,u=a;return!c&&n.length&&f(t,a)||(l=Object(R.a)(n).concat([r]),u=t),{past:l,present:s,future:[],shouldCreateUndoLevel:!1,lastAction:u}}}},f,h=function e(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return function(c){return function(e,t){var n=c(e,t),r=void 0===e||Object(F.includes)(a.resetTypes,t.type),o=e!==n;if(!o&&!r)return e;o&&void 0!==e||(n=Object(Y.a)({},n));var i=Object(F.includes)(a.ignoreTypes,t.type);return n.isDirty=i?e.isDirty:!r&&o,n}}},Q=n(1),y={insertUsage:{},isPublishSidebarEnabled:!0},k={alignWide:!1,colors:[{name:Object(Q.__)("Pale pink"),slug:"pale-pink",color:"#f78da7"},{name:Object(Q.__)("Vivid red"),slug:"vivid-red",color:"#cf2e2e"},{name:Object(Q.__)("Luminous vivid orange"),slug:"luminous-vivid-orange",color:"#ff6900"},{name:Object(Q.__)("Luminous vivid amber"),slug:"luminous-vivid-amber",color:"#fcb900"},{name:Object(Q.__)("Light green cyan"),slug:"light-green-cyan",color:"#7bdcb5"},{name:Object(Q.__)("Vivid green cyan"),slug:"vivid-green-cyan",color:"#00d084"},{name:Object(Q.__)("Pale cyan blue"),slug:"pale-cyan-blue",color:"#8ed1fc"},{name:Object(Q.__)("Vivid cyan blue"),slug:"vivid-cyan-blue",color:"#0693e3"},{name:Object(Q.__)("Very light gray"),slug:"very-light-gray",color:"#eeeeee"},{name:Object(Q.__)("Cyan bluish gray"),slug:"cyan-bluish-gray",color:"#abb8c3"},{name:Object(Q.__)("Very dark gray"),slug:"very-dark-gray",color:"#313131"}],fontSizes:[{name:Object(Q._x)("Small","font size name"),size:13,slug:"small"},{name:Object(Q._x)("Normal","font size name"),size:16,slug:"normal"},{name:Object(Q._x)("Medium","font size name"),size:20,slug:"medium"},{name:Object(Q._x)("Large","font size name"),size:36,slug:"large"},{name:Object(Q._x)("Huge","font size name"),size:48,slug:"huge"}],imageSizes:[{slug:"thumbnail",label:Object(Q.__)("Thumbnail")},{slug:"medium",label:Object(Q.__)("Medium")},{slug:"large",label:Object(Q.__)("Large")},{slug:"full",label:Object(Q.__)("Full Size")}],maxWidth:580,allowedBlockTypes:!0,maxUploadFileSize:0,allowedMimeTypes:null,richEditingEnabled:!0},_={};function M(e,t,n){return Object(R.a)(e.slice(0,n)).concat(Object(R.a)(Object(F.castArray)(t)),Object(R.a)(e.slice(n)))}function U(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,o=Object(R.a)(e);return o.splice(t,r),M(o,e.slice(t,t+r),n)}var E=new Set(["meta"]);function S(e){return e&&"object"===Object(s.a)(e)&&"raw"in e?e.raw:e}function H(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",o=Object(D.a)({},r,[]);return e.forEach(function(e){var t=e.clientId,n=e.innerBlocks;o[r].push(t),Object.assign(o,H(n,t))}),o}function C(e){for(var t={},n=Object(R.a)(e);n.length;){var r=n.shift(),o=r.innerBlocks,i=Object(O.a)(r,["innerBlocks"]);n.push.apply(n,Object(R.a)(o)),t[i.clientId]=i}return t}function w(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return Object(F.reduce)(n[e],function(e,t){return Object(R.a)(e).concat([t],Object(R.a)(w(n,t)))},[])}function T(e,t){return e===t?Object(Y.a)({},e):t}function I(e,t){return Object(F.isEqual)(Object(F.keys)(e),Object(F.keys)(t))}function B(e,t){return"UPDATE_BLOCK_ATTRIBUTES"===e.type&&e.clientId===t.clientId&&I(e.attributes,t.attributes)}function x(e,t){return"EDIT_POST"===e.type&&I(e.edits,t.edits)}function L(e,t){return!(!t||e.type!==t.type)&&Object(F.overSome)([B,x])(e,t)}var A=function e(o){return function(e,t){if(e&&"REMOVE_BLOCKS"===t.type){for(var n=Object(R.a)(t.clientIds),r=0;r<n.length;r++)n.push.apply(n,Object(R.a)(e.blocks.order[n[r]]));t=Object(Y.a)({},t,{clientIds:n})}return o(e,t)}},N=function e(r){return function(e,t){if(e&&"RESET_BLOCKS"===t.type){var n=w(e.order);return Object(Y.a)({},e,{byClientId:Object(Y.a)({},Object(F.omit)(e.byClientId,n),C(t.blocks)),order:Object(Y.a)({},Object(F.omit)(e.order,n),H(t.blocks))})}return r(e,t)}},V=Object(F.flow)([g.combineReducers,A,p({resetTypes:["SETUP_EDITOR_STATE"],ignoreTypes:["RECEIVE_BLOCKS","RESET_POST","UPDATE_POST"],shouldOverwriteState:L})])({edits:function e(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"EDIT_POST":return Object(F.reduce)(t.edits,function(e,t,n){return t!==r[n]&&(e=T(r,e),E.has(n)?e[n]=Object(Y.a)({},e[n],t):e[n]=t),e},r);case"RESET_BLOCKS":return"content"in r?Object(F.omit)(r,"content"):r;case"UPDATE_POST":case"RESET_POST":var o="UPDATE_POST"===t.type?function(e){return t.edits[e]}:function(e){return S(t.post[e])};return Object(F.reduce)(r,function(e,t,n){return Object(F.isEqual)(t,o(n))&&delete(e=T(r,e))[n],e},r)}return r},blocks:Object(F.flow)([g.combineReducers,N,h({resetTypes:["SETUP_EDITOR_STATE","REQUEST_POST_UPDATE_START"],ignoreTypes:["RECEIVE_BLOCKS","RESET_POST","UPDATE_POST"]})])({byClientId:function e(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=1<arguments.length?arguments[1]:void 0;switch(o.type){case"SETUP_EDITOR_STATE":return C(o.blocks);case"RECEIVE_BLOCKS":return Object(Y.a)({},r,C(o.blocks));case"UPDATE_BLOCK_ATTRIBUTES":if(!r[o.clientId])return r;var t=Object(F.reduce)(o.attributes,function(e,t,n){return t!==e[n]&&((e=T(r[o.clientId].attributes,e))[n]=t),e},r[o.clientId].attributes);return t===r[o.clientId].attributes?r:Object(Y.a)({},r,Object(D.a)({},o.clientId,Object(Y.a)({},r[o.clientId],{attributes:t})));case"UPDATE_BLOCK":return r[o.clientId]?Object(Y.a)({},r,Object(D.a)({},o.clientId,Object(Y.a)({},r[o.clientId],o.updates))):r;case"INSERT_BLOCKS":return Object(Y.a)({},r,C(o.blocks));case"REPLACE_BLOCKS":return o.blocks?Object(Y.a)({},Object(F.omit)(r,o.clientIds),C(o.blocks)):r;case"REMOVE_BLOCKS":return Object(F.omit)(r,o.clientIds);case"SAVE_REUSABLE_BLOCK_SUCCESS":var n=o.id,i=o.updatedId;return n===i?r:Object(F.mapValues)(r,function(e){return"core/block"===e.name&&e.attributes.ref===n?Object(Y.a)({},e,{attributes:Object(Y.a)({},e.attributes,{ref:i})}):e})}return r},order:function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0;switch(n.type){case"SETUP_EDITOR_STATE":return H(n.blocks);case"RECEIVE_BLOCKS":return Object(Y.a)({},t,Object(F.omit)(H(n.blocks),""));case"INSERT_BLOCKS":var r=n.rootClientId,o=void 0===r?"":r,i=n.blocks,c=t[o]||[],a=H(i,o),s=n.index,l=void 0===s?c.length:s;return Object(Y.a)({},t,a,Object(D.a)({},o,M(c,a[o],l)));case"MOVE_BLOCK_TO_POSITION":var u,d=n.fromRootClientId,p=void 0===d?"":d,b=n.toRootClientId,f=void 0===b?"":b,h=n.clientId,m=n.index,v=void 0===m?t[f].length:m;if(p!==f)return Object(Y.a)({},t,(u={},Object(D.a)(u,p,Object(F.without)(t[p],h)),Object(D.a)(u,f,M(t[f],h,v)),u));var O,g=t[f].indexOf(h);return Object(Y.a)({},t,Object(D.a)({},f,U(t[f],g,v)));case"MOVE_BLOCKS_UP":var j=n.clientIds,y=n.rootClientId,k=void 0===y?"":y,_=Object(F.first)(j),E=t[k];if(!E.length||_===Object(F.first)(E))return t;var S=E.indexOf(_);return Object(Y.a)({},t,Object(D.a)({},k,U(E,S,S-1,j.length)));case"MOVE_BLOCKS_DOWN":var C=n.clientIds,w=n.rootClientId,T=void 0===w?"":w,P=Object(F.first)(C),I=Object(F.last)(C),B=t[T];if(!B.length||I===Object(F.last)(B))return t;var x=B.indexOf(P);return Object(Y.a)({},t,Object(D.a)({},T,U(B,x,x+1,C.length)));case"REPLACE_BLOCKS":var L=n.blocks,A=n.clientIds;if(!L)return t;var N=H(L);return Object(F.flow)([function(e){return Object(F.omit)(e,A)},function(e){return Object(Y.a)({},e,Object(F.omit)(N,""))},function(e){return Object(F.mapValues)(e,function(e){return Object(F.reduce)(e,function(e,t){return t===A[0]?Object(R.a)(e).concat(Object(R.a)(N[""])):(-1===A.indexOf(t)&&e.push(t),e)},[])})}])(t);case"REMOVE_BLOCKS":return Object(F.flow)([function(e){return Object(F.omit)(e,n.clientIds)},function(e){return Object(F.mapValues)(e,function(e){return F.without.apply(void 0,[e].concat(Object(R.a)(n.clientIds)))})}])(t)}return t}})});function K(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:_,e=1<arguments.length?arguments[1]:void 0;switch(e.type){case"SETUP_EDITOR":if(!e.edits)break;return e.edits;case"SETUP_EDITOR_STATE":return"content"in r?Object(F.omit)(r,"content"):r;case"UPDATE_POST":return Object(F.reduce)(e.edits,function(e,t,n){return e.hasOwnProperty(n)&&delete(e=T(r,e))[n],e},r);case"RESET_POST":return _}return r}function z(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"SETUP_EDITOR_STATE":case"RESET_POST":case"UPDATE_POST":var n;if(t.post)n=t.post;else{if(!t.edits)return e;n=Object(Y.a)({},e,t.edits)}return Object(F.mapValues)(n,S)}return e}function W(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t;switch((1<arguments.length?arguments[1]:void 0).type){case"START_TYPING":return!0;case"STOP_TYPING":return!1}return e}function q(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t;switch((1<arguments.length?arguments[1]:void 0).type){case"ENTER_FORMATTED_TEXT":return!0;case"EXIT_FORMATTED_TEXT":return!1}return e}function G(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{start:null,end:null,isMultiSelecting:!1,isEnabled:!0,initialPosition:null},t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"CLEAR_SELECTED_BLOCK":return null!==e.start||null!==e.end||e.isMultiSelecting?Object(Y.a)({},e,{start:null,end:null,isMultiSelecting:!1,initialPosition:null}):e;case"START_MULTI_SELECT":return e.isMultiSelecting?e:Object(Y.a)({},e,{isMultiSelecting:!0,initialPosition:null});case"STOP_MULTI_SELECT":return e.isMultiSelecting?Object(Y.a)({},e,{isMultiSelecting:!1,initialPosition:null}):e;case"MULTI_SELECT":return Object(Y.a)({},e,{start:t.start,end:t.end,initialPosition:null});case"SELECT_BLOCK":return t.clientId===e.start&&t.clientId===e.end?e:Object(Y.a)({},e,{start:t.clientId,end:t.clientId,initialPosition:t.initialPosition});case"INSERT_BLOCKS":return t.updateSelection?Object(Y.a)({},e,{start:t.blocks[0].clientId,end:t.blocks[0].clientId,initialPosition:null,isMultiSelecting:!1}):e;case"REMOVE_BLOCKS":return t.clientIds&&t.clientIds.length&&-1!==t.clientIds.indexOf(e.start)?Object(Y.a)({},e,{start:null,end:null,initialPosition:null,isMultiSelecting:!1}):e;case"REPLACE_BLOCKS":if(-1===t.clientIds.indexOf(e.start))return e;var n=Object(F.get)(t.blocks,[0,"clientId"],null);return n===e.start&&n===e.end?e:Object(Y.a)({},e,{start:n,end:n,initialPosition:null,isMultiSelecting:!1});case"TOGGLE_SELECTION":return Object(Y.a)({},e,{isEnabled:t.isSelectionEnabled})}return e}function X(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;if("TOGGLE_BLOCK_MODE"!==t.type)return e;var n=t.clientId;return Object(Y.a)({},e,Object(D.a)({},n,e[n]&&"html"===e[n]?"visual":"html"))}function J(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"SHOW_INSERTION_POINT":var n,r;return{rootClientId:t.rootClientId,index:t.index};case"HIDE_INSERTION_POINT":return null}return e}function Z(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{isValid:!0},t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"SET_TEMPLATE_VALIDITY":return Object(Y.a)({},e,{isValid:t.isValid})}return e}function ee(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:k,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"UPDATE_EDITOR_SETTINGS":return Object(Y.a)({},e,t.settings)}return e}function te(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:y,o=1<arguments.length?arguments[1]:void 0;switch(o.type){case"INSERT_BLOCKS":case"REPLACE_BLOCKS":return o.blocks.reduce(function(e,t){var n=t.name,r={name:t.name};return Object($.isReusableBlock)(t)&&(r.ref=t.attributes.ref,n+="/"+t.attributes.ref),Object(Y.a)({},e,{insertUsage:Object(Y.a)({},e.insertUsage,Object(D.a)({},n,{time:o.time,count:e.insertUsage[n]?e.insertUsage[n].count+1:1,insert:r}))})},e);case"REMOVE_REUSABLE_BLOCK":return Object(Y.a)({},e,{insertUsage:Object(F.omitBy)(e.insertUsage,function(e){var t;return e.insert.ref===o.id})});case"ENABLE_PUBLISH_SIDEBAR":return Object(Y.a)({},e,{isPublishSidebarEnabled:!0});case"DISABLE_PUBLISH_SIDEBAR":return Object(Y.a)({},e,{isPublishSidebarEnabled:!1})}return e}function ne(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"REQUEST_POST_UPDATE_START":return{requesting:!0,successful:!1,error:null,options:t.options||{}};case"REQUEST_POST_UPDATE_SUCCESS":return{requesting:!1,successful:!0,error:null,options:t.options||{}};case"REQUEST_POST_UPDATE_FAILURE":return{requesting:!1,successful:!1,error:t.error,options:t.options||{}}}return e}function re(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{isLocked:!1},t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"UPDATE_POST_LOCK":return t.lock}return e}function oe(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"LOCK_POST_SAVING":return Object(Y.a)({},e,Object(D.a)({},t.lockName,!0));case"UNLOCK_POST_SAVING":return Object(F.omit)(e,t.lockName)}return e}var ie=Object(g.combineReducers)({data:function e(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"RECEIVE_REUSABLE_BLOCKS":return Object(F.reduce)(t.results,function(e,t){var n=t.reusableBlock,r=n.id,o=n.title,i,c={clientId:t.parsedBlock.clientId,title:o};return Object(F.isEqual)(e[r],c)||((e=T(a,e))[r]=c),e},a);case"UPDATE_REUSABLE_BLOCK_TITLE":var n=t.id,r=t.title;return a[n]&&a[n].title!==r?Object(Y.a)({},a,Object(D.a)({},n,Object(Y.a)({},a[n],{title:r}))):a;case"SAVE_REUSABLE_BLOCK_SUCCESS":var o=t.id,i=t.updatedId;if(o===i)return a;var c=a[o];return Object(Y.a)({},Object(F.omit)(a,o),Object(D.a)({},i,c));case"REMOVE_REUSABLE_BLOCK":var s=t.id;return Object(F.omit)(a,s)}return a},isFetching:function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0;switch(n.type){case"FETCH_REUSABLE_BLOCKS":var r=n.id;return r?Object(Y.a)({},t,Object(D.a)({},r,!0)):t;case"FETCH_REUSABLE_BLOCKS_SUCCESS":case"FETCH_REUSABLE_BLOCKS_FAILURE":var o=n.id;return Object(F.omit)(t,o)}return t},isSaving:function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0;switch(n.type){case"SAVE_REUSABLE_BLOCK":return Object(Y.a)({},t,Object(D.a)({},n.id,!0));case"SAVE_REUSABLE_BLOCK_SUCCESS":case"SAVE_REUSABLE_BLOCK_FAILURE":var r=n.id;return Object(F.omit)(t,r)}return t}}),ce=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0;switch(n.type){case"REPLACE_BLOCKS":case"REMOVE_BLOCKS":return Object(F.omit)(t,n.clientIds);case"UPDATE_BLOCK_LIST_SETTINGS":var r=n.clientId;return n.settings?Object(F.isEqual)(t[r],n.settings)?t:Object(Y.a)({},t,Object(D.a)({},r,n.settings)):t.hasOwnProperty(r)?Object(F.omit)(t,r):t}return t};function ae(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"RESET_AUTOSAVE":var n=t.post,r=["title","excerpt","content"].map(function(e){return S(n[e])}),o=Object(b.a)(r,3),i,c,a;return{title:o[0],excerpt:o[1],content:o[2]}}return e}function se(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"REQUEST_POST_UPDATE_SUCCESS":return t.post.preview_link||Object(j.addQueryArgs)(t.post.link,{preview:!0});case"REQUEST_POST_UPDATE_START":if(e&&t.options.isPreview)return null}return e}var le=l()(Object(g.combineReducers)({editor:V,initialEdits:K,currentPost:z,isTyping:W,isCaretWithinFormattedText:q,blockSelection:G,blocksMode:X,blockListSettings:ce,insertionPoint:J,preferences:te,saving:ne,postLock:re,reusableBlocks:ie,template:Z,autosave:ae,previewLink:se,settings:ee,postSavingLock:oe})),ue=n(87),de=n.n(ue),pe=n(190),be=n.n(pe),fe=n(44);function he(e,t){return{type:"SETUP_EDITOR",post:e,edits:t}}function me(e){return{type:"RESET_POST",post:e}}function ve(e){return{type:"RESET_AUTOSAVE",post:e}}function Oe(e){return{type:"UPDATE_POST",edits:e}}function ge(e,t){return{type:"SETUP_EDITOR_STATE",post:e,blocks:t}}function je(e){return{type:"RESET_BLOCKS",blocks:e}}function ye(e){return{type:"RECEIVE_BLOCKS",blocks:e}}function ke(e,t){return{type:"UPDATE_BLOCK_ATTRIBUTES",clientId:e,attributes:t}}function _e(e,t){return{type:"UPDATE_BLOCK",clientId:e,updates:t}}function Ee(e){var t;return{type:"SELECT_BLOCK",initialPosition:1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,clientId:e}}function Se(){return{type:"START_MULTI_SELECT"}}function Ce(){return{type:"STOP_MULTI_SELECT"}}function we(e,t){return{type:"MULTI_SELECT",start:e,end:t}}function Te(){return{type:"CLEAR_SELECTED_BLOCK"}}function Pe(){var e;return{type:"TOGGLE_SELECTION",isSelectionEnabled:!(0<arguments.length&&void 0!==arguments[0])||arguments[0]}}function Ie(e,t){return{type:"REPLACE_BLOCKS",clientIds:Object(F.castArray)(e),blocks:Object(F.castArray)(t),time:Date.now()}}function Be(e,t){return Ie(e,t)}function xe(n){return function(e,t){return{clientIds:Object(F.castArray)(e),type:n,rootClientId:t}}}var Le=xe("MOVE_BLOCKS_DOWN"),Ae=xe("MOVE_BLOCKS_UP");function Ne(e,t,n,r){return{type:"MOVE_BLOCK_TO_POSITION",fromRootClientId:t,toRootClientId:n,clientId:e,index:r}}function Re(e,t,n){var r;return De([e],t,n,!(3<arguments.length&&void 0!==arguments[3])||arguments[3])}function De(e,t,n){var r=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];return{type:"INSERT_BLOCKS",blocks:Object(F.castArray)(e),index:t,rootClientId:n,time:Date.now(),updateSelection:r}}function Fe(e,t){return{type:"SHOW_INSERTION_POINT",rootClientId:e,index:t}}function Me(){return{type:"HIDE_INSERTION_POINT"}}function Ue(e){return{type:"SET_TEMPLATE_VALIDITY",isValid:e}}function He(){return{type:"SYNCHRONIZE_TEMPLATE"}}function Ve(e){return{type:"EDIT_POST",edits:e}}function Ke(){var e;return{type:"REQUEST_POST_UPDATE",options:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}}}function ze(){return{type:"REFRESH_POST"}}function We(e,t){return{type:"TRASH_POST",postId:e,postType:t}}function qe(e,t){return{type:"MERGE_BLOCKS",blocks:[e,t]}}function Ge(e){return Ke(Object(Y.a)({isAutosave:!0},e))}function $e(){return{type:"REDO"}}function Ye(){return{type:"UNDO"}}function Qe(){return{type:"CREATE_UNDO_LEVEL"}}function Xe(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return{type:"REMOVE_BLOCKS",clientIds:Object(F.castArray)(e),selectPrevious:t}}function Je(e,t){return Xe([e],t)}function Ze(e){return{type:"TOGGLE_BLOCK_MODE",clientId:e}}function et(){return{type:"START_TYPING"}}function tt(){return{type:"STOP_TYPING"}}function nt(){return{type:"ENTER_FORMATTED_TEXT"}}function rt(){return{type:"EXIT_FORMATTED_TEXT"}}function ot(e){return{type:"UPDATE_POST_LOCK",lock:e}}function it(e){return{type:"FETCH_REUSABLE_BLOCKS",id:e}}function ct(e){return{type:"RECEIVE_REUSABLE_BLOCKS",results:e}}function at(e){return{type:"SAVE_REUSABLE_BLOCK",id:e}}function st(e){return{type:"DELETE_REUSABLE_BLOCK",id:e}}function lt(e,t){return{type:"UPDATE_REUSABLE_BLOCK_TITLE",id:e,title:t}}function ut(e){return{type:"CONVERT_BLOCK_TO_STATIC",clientId:e}}function dt(e){return{type:"CONVERT_BLOCK_TO_REUSABLE",clientIds:Object(F.castArray)(e)}}function pt(e,t,n){var r;return Re(Object($.createBlock)(Object($.getDefaultBlockName)(),e),n,t)}function bt(e,t){return{type:"UPDATE_BLOCK_LIST_SETTINGS",clientId:e,settings:t}}function ft(e){return{type:"UPDATE_EDITOR_SETTINGS",settings:e}}function ht(){return{type:"ENABLE_PUBLISH_SIDEBAR"}}function mt(){return{type:"DISABLE_PUBLISH_SIDEBAR"}}function vt(e){return{type:"LOCK_POST_SAVING",lockName:e}}function Ot(e){return{type:"UNLOCK_POST_SAVING",lockName:e}}var gt=n(31),jt=n(46),yt=n(58),kt="post-update",_t=/%(?:postname|pagename)%/,Et=3,St=2,Ct=1,wt=0,Tt=36e5,Pt=864e5,It=6048e5,Bt=6e4,xt=[];function Lt(e){return 0<e.editor.past.length}function At(e){return 0<e.editor.future.length}function Nt(e){return"auto-draft"===Mt(e).status}function Rt(e){return e.editor.present.blocks.isDirty||"content"in e.editor.present.edits}function Dt(e){return!!Rt(e)||(0<Object.keys(e.editor.present.edits).length||Ir(e,Dt))}function Ft(e){return!Dt(e)&&Nt(e)}function Mt(e){return e.currentPost}function Ut(e){return e.currentPost.type}function Ht(e){return Mt(e).id||null}function Vt(e){return Object(F.get)(Mt(e),["_links","version-history",0,"count"],0)}function Kt(e){return Object(F.get)(Mt(e),["_links","predecessor-version",0,"id"],null)}var zt=Object(gt.a)(function(e){return Object(Y.a)({},e.initialEdits,e.editor.present.edits)},function(e){return[e.editor.present.edits,e.initialEdits]}),Wt=Object(gt.a)(function(){return[]},function(e){return[e.editor]});function qt(e,t){var n=Mt(e);if(n.hasOwnProperty(t))return n[t]}function Gt(e,t){var n=zt(e);switch(t){case"content":return br(e)}return n.hasOwnProperty(t)?E.has(t)?Object(Y.a)({},qt(e,t),n[t]):n[t]:qt(e,t)}function $t(e,t){if(!on(e))return null;var n=rn(e);return n.hasOwnProperty(t)?n[t]:void 0}function Yt(e){var t=Gt(e,"status"),n=Gt(e,"password");return"private"===t?"private":n?"password":"public"}function Qt(e){return"pending"===Mt(e).status}function Xt(e){var t=Mt(e);return-1!==["publish","private"].indexOf(t.status)||"future"===t.status&&!Object(jt.isInTheFuture)(new Date(Number(Object(jt.getDate)(t.date))-Bt))}function Jt(e){return"future"===Mt(e).status&&!Xt(e)}function Zt(e){var t=Mt(e);return Dt(e)||-1===["publish","private","future"].indexOf(t.status)}function en(e){return!ir(e)&&(!!Gt(e,"title")||!!Gt(e,"excerpt")||!tn(e))}function tn(e){var t=pr(e);if(t.length&&!("content"in zt(e))){if(1<t.length)return!1;if(t[0].name!==Object($.getFreeformContentHandlerName)())return!1}return!br(e)}function nn(t){if(!en(t))return!1;if(!on(t))return!0;if(Rt(t))return!0;var n=rn(t);return["title","excerpt"].some(function(e){return n[e]!==Gt(t,e)})}function rn(e){return e.autosave}function on(e){return!!rn(e)}function cn(e){var t=Gt(e,"date"),n=new Date(Number(Object(jt.getDate)(t))-Bt);return Object(jt.isInTheFuture)(n)}function an(e){var t=Gt(e,"date"),n=Gt(e,"modified"),r=Gt(e,"status");return(
"draft"===r||"auto-draft"===r)&&t===n}var sn=Object(gt.a)(function(){return[]},function(t,e){return Object(F.map)(Kn(t,e),function(e){return pn(t,e)})});function ln(e,t){var n=e.editor.present.blocks.byClientId[t];return n?n.name:null}function un(e,t){var n=e.editor.present.blocks.byClientId[t];return!!n&&n.isValid}var dn=Object(gt.a)(function(r,e){var t=r.editor.present.blocks.byClientId[e];if(!t)return null;var o=t.attributes,n=Object($.getBlockType)(t.name);return n&&(o=Object(F.reduce)(n.attributes,function(e,t,n){return"meta"===t.source&&(e===o&&(e=Object(Y.a)({},e)),e[n]=fn(r,t.meta)),e},o)),o},function(e,t){return[e.editor.present.blocks.byClientId[t],e.editor.present.edits.meta,e.initialEdits.meta,e.currentPost.meta]}),pn=Object(gt.a)(function(e,t){var n=e.editor.present.blocks.byClientId[t];return n?Object(Y.a)({},n,{attributes:dn(e,t),innerBlocks:hn(e,t)}):null},function(e,t){return[e.editor.present.blocks.byClientId[t],sn(e,t)].concat(Object(R.a)(dn.getDependants(e,t)))}),bn=Object(gt.a)(function(e,t){var n=e.editor.present.blocks.byClientId[t];return n?Object(Y.a)({},n,{attributes:dn(e,t)}):null},function(e,t){return[e.editor.present.blocks.byClientId[t]].concat(Object(R.a)(dn.getDependants(e,t)))});function fn(e,t){return Object(F.has)(e,["editor","present","edits","meta",t])?Object(F.get)(e,["editor","present","edits","meta",t]):Object(F.get)(e,["currentPost","meta",t])}var hn=Object(gt.a)(function(t,e){return Object(F.map)(Kn(t,e),function(e){return pn(t,e)})},function(e){return[e.editor.present.blocks]}),mn=function n(r,e){return Object(F.flatMap)(e,function(e){var t=Kn(r,e);return Object(R.a)(t).concat(Object(R.a)(n(r,t)))})},vn=Object(gt.a)(function(e){var t=Kn(e);return Object(R.a)(t).concat(Object(R.a)(mn(e,t)))},function(e){return[e.editor.present.blocks.order]}),On=Object(gt.a)(function(r,o){var e=vn(r);return o?Object(F.reduce)(e,function(e,t){var n;return r.editor.present.blocks.byClientId[t].name===o?e+1:e},0):e.length},function(e){return[e.editor.present.blocks.order,e.editor.present.blocks.byClientId]}),gn=Object(gt.a)(function(t,e){return Object(F.map)(Object(F.castArray)(e),function(e){return pn(t,e)})},function(e){return[e.editor.present.edits.meta,e.initialEdits.meta,e.currentPost.meta,e.editor.present.blocks]});function jn(e,t){return Kn(e,t).length}function yn(e){return e.blockSelection.start}function kn(e){return e.blockSelection.end}function _n(e){var t=Ln(e).length;return t||(e.blockSelection.start?1:0)}function En(e){var t=e.blockSelection,n=t.start,r=t.end;return!!n&&n===r}function Sn(e){var t=e.blockSelection,n=t.start,r=t.end;return n&&n===r&&e.editor.present.blocks.byClientId[n]?n:null}function Cn(e){var t=Sn(e);return t?pn(e,t):null}var wn=Object(gt.a)(function(e,t){var n=e.editor.present.blocks.order;for(var r in n)if(Object(F.includes)(n[r],t))return r;return null},function(e){return[e.editor.present.blocks.order]}),Tn=Object(gt.a)(function(e,t){for(var n=t,r=t;n;)n=wn(e,r=n);return r},function(e){return[e.editor.present.blocks.order]});function Pn(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;if(void 0===t&&(t=Sn(e)),void 0===t&&(t=n<0?Nn(e):Rn(e)),!t)return null;var r=wn(e,t);if(null===r)return null;var o,i=e.editor.present.blocks.order[r],c,a=i.indexOf(t)+1*n;return a<0?null:a===i.length?null:i[a]}function In(e,t){return Pn(e,t,-1)}function Bn(e,t){return Pn(e,t,1)}function xn(e){var t=e.blockSelection,n=t.start,r;return n===t.end&&n?e.blockSelection.initialPosition:null}var Ln=Object(gt.a)(function(e){var t=e.blockSelection,n=t.start,r=t.end;if(n===r)return[];var o=wn(e,n);if(null===o)return[];var i=Kn(e,o),c=i.indexOf(n),a=i.indexOf(r);return a<c?i.slice(a,c+1):i.slice(c,a+1)},function(e){return[e.editor.present.blocks.order,e.blockSelection.start,e.blockSelection.end]}),An=Object(gt.a)(function(t){var e=Ln(t);return e.length?e.map(function(e){return pn(t,e)}):xt},function(e){return[e.editor.present.blocks.order,e.blockSelection.start,e.blockSelection.end,e.editor.present.blocks.byClientId,e.editor.present.edits.meta,e.initialEdits.meta,e.currentPost.meta]});function Nn(e){return Object(F.first)(Ln(e))||null}function Rn(e){return Object(F.last)(Ln(e))||null}var Dn=Object(gt.a)(function(e,t,n){for(var r=n;t!==r&&r;)r=wn(e,r);return t===r},function(e){return[e.editor.present.blocks]});function Fn(e,t){return Nn(e)===t}function Mn(e,t){return-1!==Ln(e).indexOf(t)}var Un=Object(gt.a)(function(e,t){for(var n=t,r=!1;n&&!r;)r=Mn(e,n=wn(e,n));return r},function(e){return[e.editor.present.blocks.order,e.blockSelection.start,e.blockSelection.end]});function Hn(e){var t=e.blockSelection,n=t.start,r;return n===t.end?null:n||null}function Vn(e){var t=e.blockSelection,n=t.start,r=t.end;return n===r?null:r||null}function Kn(e,t){return e.editor.present.blocks.order[t||""]||xt}function zn(e,t,n){return Kn(e,n).indexOf(t)}function Wn(e,t){var n=e.blockSelection,r=n.start,o;return r===n.end&&r===t}function qn(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return Object(F.some)(Kn(t,e),function(e){return Wn(t,e)||Mn(t,e)||n&&qn(t,e,n)})}function Gn(e,t){if(!t)return!1;var n=Ln(e),r=n.indexOf(t);return-1<r&&r<n.length-1}function $n(e){var t=e.blockSelection,n,r;return t.start!==t.end}function Yn(e){return e.blockSelection.isMultiSelecting}function Qn(e){return e.blockSelection.isEnabled}function Xn(e,t){return e.blocksMode[t]||"visual"}function Jn(e){return e.isTyping}function Zn(e){return e.isCaretWithinFormattedText}function er(e){var t,n,r=e.insertionPoint,o=e.blockSelection;if(null!==r)return r;var i=o.end;return n=i?zn(e,i,t=wn(e,i)||void 0)+1:Kn(e).length,{rootClientId:t,index:n}}function tr(e){return null!==e.insertionPoint}function nr(e){return e.template.isValid}function rr(e){return e.settings.template}function or(e,t){if(!t)return e.settings.templateLock;var n=Br(e,t);return n?n.templateLock:null}function ir(e){return e.saving.requesting}function cr(e){return e.saving.successful}function ar(e){return!!e.saving.error}function sr(e){return ir(e)&&!!e.saving.options.isAutosave}function lr(e){return ir(e)&&!!e.saving.options.isPreview}function ur(e){var t=Gt(e,"featured_media"),n=e.previewLink;return n&&t?Object(j.addQueryArgs)(n,{_thumbnail_id:t}):n}function dr(e){var t=Kn(e),n;switch(1===t.length&&(n=ln(e,t[0])),2===t.length&&"core/paragraph"===ln(e,t[1])&&(n=ln(e,t[0])),n){case"core/image":return"image";case"core/quote":case"core/pullquote":return"quote";case"core/gallery":return"gallery";case"core/video":case"core-embed/youtube":case"core-embed/vimeo":return"video";case"core/audio":case"core-embed/spotify":case"core-embed/soundcloud":return"audio"}return null}function pr(e){var t=hn(e),n;return 1===t.length&&Object($.isUnmodifiedDefaultBlock)(t[0])?[]:t}var br=Object(gt.a)(function(e){var t=zt(e);if("content"in t)return t.content;var n=pr(e),r=Object($.serialize)(n),o;return 1===n.length&&n[0].name===Object($.getFreeformContentHandlerName)()?Object(yt.removep)(r):r},function(e){return[e.editor.present.blocks,e.editor.present.edits.content,e.initialEdits.content]}),fr=function e(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,o=function e(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Object(F.isBoolean)(t)?t:Object(F.isArray)(t)?Object(F.includes)(t,n):r},i=Object($.getBlockType)(n),c,a,s,l;if(!i)return!1;if(!o(xr(t).allowedBlockTypes,n,!0))return!1;if(!!or(t,r))return!1;var u=Br(t,r),d,p=o(Object(F.get)(u,["allowedBlocks"]),n),b,f,h=o(i.parent,ln(t,r));return null!==p&&null!==h?p||h:null!==p?p:null===h||h},hr=Object(gt.a)(fr,function(e,t,n){return[e.blockListSettings[n],e.editor.present.blocks.byClientId[n],e.settings.allowedBlockTypes,e.settings.templateLock]});function mr(e,t){return e.preferences.insertUsage[t]||null}var vr=function e(t,n,r){return!!Object($.hasBlockSupport)(n,"inserter",!0)&&fr(t,n.name,r)},Or=function e(t,n,r){if(!fr(t,"core/block",r))return!1;var o=ln(t,n.clientId),i;return!!o&&(!!Object($.getBlockType)(o)&&(!!fr(t,o,r)&&!Dn(t,n.clientId,r)))},gr=Object(gt.a)(function(d){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,p=function e(t,n,r){return r?Et:0<n?St:"common"===t?Ct:wt},b=function e(t,n){if(!t)return n;var r=Date.now()-t;switch(!0){case r<Tt:return 4*n;case r<Pt:return 2*n;case r<It:return n/2;default:return n/4}},e=function e(t){var n=t.name,r=!1;Object($.hasBlockSupport)(t.name,"multiple",!0)||(r=Object(F.some)(gn(d,vn(d)),{name:t.name}));var o=Object(F.isArray)(t.parent),i=mr(d,n)||{},c=i.time,a=i.count,s=void 0===a?0:a;return{id:n,name:t.name,initialAttributes:{},title:t.title,icon:t.icon,category:t.category,keywords:t.keywords,isDisabled:r,utility:p(t.category,s,o),frecency:b(c,s),hasChildBlocksWithInserterSupport:Object($.hasChildBlocksWithInserterSupport)(t.name)}},n=function e(t){var n="core/block/".concat(t.id),r=ln(d,t.clientId),o=Object($.getBlockType)(r),i=mr(d,n)||{},c=i.time,a=i.count,s=void 0===a?0:a,l=p("reusable",s,!1),u=b(c,s);return{id:n,name:"core/block",initialAttributes:{ref:t.id},title:t.title,icon:o.icon,category:"reusable",keywords:[],isDisabled:!1,utility:l,frecency:u}},r=Object($.getBlockTypes)().filter(function(e){return vr(d,e,t)}).map(e),o=Er(d).filter(function(e){return Or(d,e,t)}).map(n);return Object(F.orderBy)(Object(R.a)(r).concat(Object(R.a)(o)),["utility","frecency"],["desc","desc"])},function(e,t){return[e.blockListSettings[t],e.editor.present.blocks,e.preferences.insertUsage,e.settings.allowedBlockTypes,e.settings.templateLock,e.reusableBlocks.data,Object($.getBlockTypes)()]}),jr=Object(gt.a)(function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,e,r;return!!Object(F.some)(Object($.getBlockTypes)(),function(e){return vr(t,e,n)})||Object(F.some)(Er(t),function(e){return Or(t,e,n)})},function(e,t){return[e.blockListSettings[t],e.editor.present.blocks,e.settings.allowedBlockTypes,e.settings.templateLock,e.reusableBlocks.data,Object($.getBlockTypes)()]}),yr=Object(gt.a)(function(e,t){var n=e.reusableBlocks.data[t];if(!n)return null;var r=isNaN(parseInt(t));return Object(Y.a)({},n,{id:r?t:+t,isTemporary:r})},function(e,t){return[e.reusableBlocks.data[t]]});function kr(e,t){return e.reusableBlocks.isSaving[t]||!1}function _r(e,t){return!!e.reusableBlocks.isFetching[t]}function Er(n){return Object(F.map)(n.reusableBlocks.data,function(e,t){return yr(n,t)})}function Sr(e,t){var n=Object(F.find)(e.optimist,function(e){return e.beforeState&&Object(F.get)(e.action,["optimist","id"])===t});return n?n.beforeState:null}function Cr(e){if(!ir(e))return!1;if(!Xt(e))return!1;var t=Sr(e,kt);return!!t&&!Xt(t)}function wr(e){var t=Gt(e,"permalink_template");return _t.test(t)}function Tr(e){var t=Pr(e);if(!t)return null;var n=t.prefix,r=t.postName,o=t.suffix;return wr(e)?n+r+o:n}function Pr(e){var t=Gt(e,"permalink_template");if(!t)return null;var n=Gt(e,"slug")||Gt(e,"generated_slug"),r=t.split(_t),o=Object(b.a)(r,2),i,c;return{prefix:o[0],postName:n,suffix:o[1]}}function Ir(e,n){var t=e.optimist;return!!t&&t.some(function(e){var t=e.beforeState;return t&&n(t)})}function Br(e,t){return e.blockListSettings[t]}function xr(e){return e.settings}function Lr(e,t){return t?e.tokens[t]:e.tokens}function Ar(e){return e.postLock.isLocked}function Nr(e){return 0<Object.keys(e.postSavingLock).length}function Rr(e){return e.postLock.isTakeover}function Dr(e){return e.postLock.user}function Fr(e){return e.postLock.activePostLock}function Mr(e){return Object(F.has)(Mt(e),["_links","wp:action-unfiltered-html"])}function Ur(e){return e.preferences.hasOwnProperty("isPublishSidebarEnabled")?e.preferences.isPublishSidebarEnabled:y.isPublishSidebarEnabled}var Hr=n(38),Vr=n(30),Kr=n.n(Vr),zr="REUSABLE_BLOCK_NOTICE_ID",Wr=function(){var r=Object(Hr.a)(regeneratorRuntime.mark(function e(n,r){var o,i,c,a,s;return regeneratorRuntime.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return o=n.id,i=r.dispatch,t.next=4,Kr()({path:"/wp/v2/types/wp_block"});case 4:if(c=t.sent){t.next=7;break}return t.abrupt("return");case 7:if(t.prev=7,o)return t.next=11,Kr()({path:"/wp/v2/".concat(c.rest_base,"/").concat(o)});t.next=15;break;case 11:t.t0=t.sent,a=[t.t0],t.next=18;break;case 15:return t.next=17,Kr()({path:"/wp/v2/".concat(c.rest_base,"?per_page=-1")});case 17:a=t.sent;case 18:(s=Object(F.compact)(Object(F.map)(a,function(e){if("publish"!==e.status||e.content.protected)return null;var t=Object($.parse)(e.content.raw);return{reusableBlock:{id:e.id,title:S(e.title)},parsedBlock:1===t.length?t[0]:Object($.createBlock)("core/template",{},t)}}))).length&&i(ct(s)),i({type:"FETCH_REUSABLE_BLOCKS_SUCCESS",id:o}),t.next=26;break;case 23:t.prev=23,t.t1=t.catch(7),i({type:"FETCH_REUSABLE_BLOCKS_FAILURE",id:o,error:t.t1});case 26:case"end":return t.stop()}},e,this,[[7,23]])}));return function e(t,n){return r.apply(this,arguments)}}(),qr=function(){var r=Object(Hr.a)(regeneratorRuntime.mark(function e(n,r){var o,i,c,a,s,l,u,d,p,b,f,h,m,v,O;return regeneratorRuntime.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Kr()({path:"/wp/v2/types/wp_block"});case 2:if(o=t.sent){t.next=5;break}return t.abrupt("return");case 5:return i=n.id,c=r.dispatch,a=r.getState(),s=yr(a,i),l=s.clientId,u=s.title,d=s.isTemporary,p=pn(a,l),b=Object($.serialize)("core/template"===p.name?p.innerBlocks:p),f=d?{title:u,content:b,status:"publish"}:{id:i,title:u,content:b,status:"publish"},h=d?"/wp/v2/".concat(o.rest_base):"/wp/v2/".concat(o.rest_base,"/").concat(i),m=d?"POST":"PUT",t.prev=14,t.next=17,Kr()({path:h,data:f,method:m});case 17:v=t.sent,c({type:"SAVE_REUSABLE_BLOCK_SUCCESS",updatedId:v.id,id:i}),O=d?Object(Q.__)("Block created."):Object(Q.__)("Block updated."),Object(g.dispatch)("core/notices").createSuccessNotice(O,{id:zr}),t.next=27;break;case 23:t.prev=23,t.t0=t.catch(14),c({type:"SAVE_REUSABLE_BLOCK_FAILURE",id:i}),Object(g.dispatch)("core/notices").createErrorNotice(t.t0.message,{id:zr});case 27:case"end":return t.stop()}},e,this,[[14,23]])}));return function e(t,n){return r.apply(this,arguments)}}(),Gr=function(){var r=Object(Hr.a)(regeneratorRuntime.mark(function e(n,r){var o,i,c,a,s,l,u,d,p,b;return regeneratorRuntime.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Kr()({path:"/wp/v2/types/wp_block"});case 2:if(o=t.sent){t.next=5;break}return t.abrupt("return");case 5:if(i=n.id,c=r.getState,a=r.dispatch,!(s=yr(c(),i))||s.isTemporary)return t.abrupt("return");t.next=10;break;case 10:return l=hn(c()),u=l.filter(function(e){return Object($.isReusableBlock)(e)&&e.attributes.ref===i}),d=u.map(function(e){return e.clientId}),p=Object(F.uniqueId)(),a({type:"REMOVE_REUSABLE_BLOCK",id:i,optimist:{type:m.BEGIN,id:p}}),a(Xe(Object(R.a)(d).concat([s.clientId]))),t.prev=16,t.next=19,Kr()({path:"/wp/v2/".concat(o.rest_base,"/").concat(i),method:"DELETE"});case 19:a({type:"DELETE_REUSABLE_BLOCK_SUCCESS",id:i,optimist:{type:m.COMMIT,id:p}}),b=Object(Q.__)("Block deleted."),Object(g.dispatch)("core/notices").createSuccessNotice(b,{id:zr}),t.next=28;break;case 24:t.prev=24,t.t0=t.catch(16),a({type:"DELETE_REUSABLE_BLOCK_FAILURE",id:i,optimist:{type:m.REVERT,id:p}}),Object(g.dispatch)("core/notices").createErrorNotice(t.t0.message,{id:zr});case 28:case"end":return t.stop()}},e,this,[[16,24]])}));return function e(t,n){return r.apply(this,arguments)}}(),$r=function e(t){return ye(Object(F.map)(t.results,"parsedBlock"))},Yr=function e(t,n){var r=n.getState(),o=pn(r,t.clientId),i=yr(r,o.attributes.ref),c=pn(r,i.clientId),a;a="core/template"===c.name?c.innerBlocks.map(function(e){return Object($.cloneBlock)(e)}):[Object($.cloneBlock)(c)],n.dispatch(Ie(o.clientId,a))},Qr=function e(t,n){var r=n.getState,o=n.dispatch,i;1===t.clientIds.length?i=pn(r(),t.clientIds[0]):o(ye([i=Object($.createBlock)("core/template",{},gn(r(),t.clientIds))]));var c={id:Object(F.uniqueId)("reusable"),clientId:i.clientId,title:Object(Q.__)("Untitled Reusable Block")};o(ct([{reusableBlock:c,parsedBlock:i}])),o(at(c.id)),o(Ie(t.clientIds,Object($.createBlock)("core/block",{ref:c.id}))),o(ye([i]))};function Xr(i,c){for(var e=arguments.length,a=new Array(2<e?e-2:0),t=2;t<e;t++)a[t-2]=arguments[t];return new Promise(function(e){var t=function e(){return Object(g.select)("core/data").hasFinishedResolution(i,c,a)},n=function e(){return Object(g.select)(i)[c].apply(null,a)},r=n();if(t())return e(r);var o=Object(g.subscribe)(function(){t()&&(o(),e(n()))})})}var Jr="SAVE_POST_NOTICE_ID",Zr="TRASH_POST_NOTICE_ID",eo=function(){var r=Object(Hr.a)(regeneratorRuntime.mark(function e(n,r){var o,i,c,a,s,l,u,d,p,b,f,h;return regeneratorRuntime.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:if(o=r.dispatch,i=r.getState,c=i(),a=Mt(c),s=!!n.options.isAutosave,en(c)){t.next=6;break}return t.abrupt("return");case 6:return l=zt(c),s&&(l=Object(F.pick)(l,["title","content","excerpt"])),Nt(c)&&(l=Object(Y.a)({status:"draft"},l)),u=Object(Y.a)({},l,{content:br(c),id:a.id}),t.next=12,Xr("core","getPostType",Ut(c));case 12:return d=t.sent,o({type:"REQUEST_POST_UPDATE_START",optimist:{type:m.BEGIN,id:kt},options:n.options}),o(Object(Y.a)({},Oe(u),{optimist:{id:kt}})),p=s?(u=Object(Y.a)({},Object(F.pick)(a,["title","content","excerpt"]),rn(c),u),Kr()({path:"/wp/v2/".concat(d.rest_base,"/").concat(a.id,"/autosaves"),method:"POST",data:u})):(Object(g.dispatch)("core/notices").removeNotice(Jr),Object(g.dispatch)("core/notices").removeNotice("autosave-exists"),Kr()({path:"/wp/v2/".concat(d.rest_base,"/").concat(a.id),method:"PUT",data:u})),t.prev=16,t.next=19,p;case 19:b=t.sent,o((f=s?ve:me)(b)),h=b.id!==a.id,o({type:"REQUEST_POST_UPDATE_SUCCESS",previousPost:a,post:b,optimist:{type:h?m.REVERT:m.COMMIT,id:kt},options:n.options,postType:d}),t.next=29;break;case 26:t.prev=26,t.t0=t.catch(16),o({type:"REQUEST_POST_UPDATE_FAILURE",optimist:{type:m.REVERT,id:kt},post:a,edits:l,error:t.t0,options:n.options});case 29:case"end":return t.stop()}},e,this,[[16,26]])}));return function e(t,n){return r.apply(this,arguments)}}(),to=function e(t){var n=t.previousPost,r=t.post,o=t.postType;if(!Object(F.get)(t.options,["isAutosave"])){var i=["publish","private","future"],c=Object(F.includes)(i,n.status),a=Object(F.includes)(i,r.status),s,l=Object(F.get)(o,["viewable"],!1);if(c||a?c&&!a?(s=o.labels.item_reverted_to_draft,l=!1):s=!c&&a?{publish:o.labels.item_published,private:o.labels.item_published_privately,future:o.labels.item_scheduled}[r.status]:o.labels.item_updated:s=null,s){var u=[];l&&u.push({label:o.labels.view_item,url:r.link}),Object(g.dispatch)("core/notices").createSuccessNotice(s,{id:Jr,actions:u})}}},no=function e(t){var n=t.post,r=t.edits,o=t.error;if(!o||"rest_autosave_no_changes"!==o.code){var i=["publish","private","future"],c=-1!==i.indexOf(n.status),a={publish:Object(Q.__)("Publishing failed"),private:Object(Q.__)("Publishing failed"),future:Object(Q.__)("Scheduling failed")},s=c||-1===i.indexOf(r.status)?Object(Q.__)("Updating failed"):a[r.status];Object(g.dispatch)("core/notices").createErrorNotice(s,{id:Jr})}},ro=function(){var r=Object(Hr.a)(regeneratorRuntime.mark(function e(n,r){var o,i,c,a,s,l;return regeneratorRuntime.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return o=r.dispatch,i=r.getState,c=n.postId,a=Ut(i()),t.next=5,Xr("core","getPostType",a);case 5:return s=t.sent,Object(g.dispatch)("core/notices").removeNotice(Zr),t.prev=7,t.next=10,Kr()({path:"/wp/v2/".concat(s.rest_base,"/").concat(c),method:"DELETE"});case 10:l=Mt(i()),o(me(Object(Y.a)({},l,{status:"trash"}))),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(7),o(Object(Y.a)({},n,{type:"TRASH_POST_FAILURE",error:t.t0}));case 17:case"end":return t.stop()}},e,this,[[7,14]])}));return function e(t,n){return r.apply(this,arguments)}}(),oo=function e(t){var n=t.error.message&&"unknown_error"!==t.error.code?t.error.message:Object(Q.__)("Trashing failed");Object(g.dispatch)("core/notices").createErrorNotice(n,{id:Zr})},io=function(){var r=Object(Hr.a)(regeneratorRuntime.mark(function e(t,n){var r,o,i,c,a,s,l;return regeneratorRuntime.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return r=n.dispatch,o=n.getState,i=o(),c=Mt(i),a=Ut(o()),t.next=6,Xr("core","getPostType",a);case 6:return s=t.sent,t.next=9,Kr()({path:"/wp/v2/".concat(s.rest_base,"/").concat(c.id,"?context=edit&_timestamp=").concat(Date.now())});case 9:l=t.sent,r(me(l));case 11:case"end":return t.stop()}},e,this)}));return function e(t,n){return r.apply(this,arguments)}}();function co(e,t){var n=t.getState(),r=rr(n),o=or(n),i=!r||"all"!==o||Object($.doBlocksMatchTemplate)(e.blocks,r);if(i!==nr(n))return Ue(i)}function ao(e,t){if(e.selectPrevious){var n=e.clientIds[0],r=t.getState(),o=Sn(r),i=Object(Y.a)({},r,{editor:{present:Object(F.last)(r.editor.past)}}),c=wn(i,n),a=In(i,n)||c;return a!==o?Ee(a,-1):void 0}}function so(e,t){if(!jn(t.getState()))return pt()}var lo={REQUEST_POST_UPDATE:function e(t,n){eo(t,n)},REQUEST_POST_UPDATE_SUCCESS:to,REQUEST_POST_UPDATE_FAILURE:no,TRASH_POST:function e(t,n){ro(t,n)},TRASH_POST_FAILURE:oo,REFRESH_POST:function e(t,n){io(t,n)},MERGE_BLOCKS:function e(t,n){var r=n.dispatch,o=n.getState(),i=Object(b.a)(t.blocks,2),c=i[0],a=i[1],s=pn(o,c),l=pn(o,a),u=Object($.getBlockType)(s.name);if(u.merge){var d=s.name===l.name?[l]:Object($.switchToBlockType)(l,s.name);if(d&&d.length){var p=u.merge(s.attributes,d[0].attributes);r(Ee(s.clientId,-1)),r(Ie([s.clientId,l.clientId],[Object(Y.a)({},s,{attributes:Object(Y.a)({},s.attributes,p)})].concat(Object(R.a)(d.slice(1)))))}}else r(Ee(s.clientId))},SETUP_EDITOR:function e(t,n){var r=t.post,o=t.edits,i=n.getState(),c;c=Object(F.has)(o,["content"])?o.content:r.content.raw;var a=Object($.parse)(c),s="auto-draft"===r.status,l=rr(i);s&&l&&(a=Object($.synchronizeBlocksWithTemplate)(a,l));var u=ge(r,a);return Object(F.compact)([u,co(u,n)])},RESET_BLOCKS:[co],SYNCHRONIZE_TEMPLATE:function e(t,n){var r,o=(0,n.getState)(),i=hn(o),c=rr(o),a;return je(Object($.synchronizeBlocksWithTemplate)(i,c))},FETCH_REUSABLE_BLOCKS:function e(t,n){Wr(t,n)},SAVE_REUSABLE_BLOCK:function e(t,n){qr(t,n)},DELETE_REUSABLE_BLOCK:function e(t,n){Gr(t,n)},RECEIVE_REUSABLE_BLOCKS:$r,CONVERT_BLOCK_TO_STATIC:Yr,CONVERT_BLOCK_TO_REUSABLE:Qr,REMOVE_BLOCKS:[ao,so],REPLACE_BLOCKS:[so],MULTI_SELECT:function e(t,n){var r,o=_n((0,n.getState)());Object(fe.speak)(Object(Q.sprintf)(Object(Q._n)("%s block selected.","%s blocks selected.",o),o),"assertive")}};function uo(e){var t=[de()(lo),be.a],n=function e(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},r=[],o={getState:e.getState,dispatch:function e(){return n.apply(void 0,arguments)}};return r=t.map(function(e){return e(o)}),n=F.flowRight.apply(void 0,Object(R.a)(r))(e.dispatch),e.dispatch=n,e}var po=uo,bo="core/editor",fo=Object(g.registerStore)(bo,{reducer:le,selectors:o,actions:r,persist:["preferences"]});po(fo);var ho=fo,mo=n(18),vo=n(0),Oo=n(16),go=n.n(Oo),jo=n(7),yo=n(23),ko=n(10),_o=n(9),Eo=n(12),So=n(13),Co=n(14),wo=n(3),To=n(4),Po=Object(vo.createContext)({name:"",isSelected:!1,focusedElement:null,setFocusedElement:F.noop,clientId:null}),Io=Po.Consumer,Bo=Po.Provider,xo=function e(r){return Object(jo.createHigherOrderComponent)(function(n){return function(t){return Object(vo.createElement)(Io,null,function(e){return Object(vo.createElement)(n,Object(mo.a)({},t,r(e,t)))})}},"withBlockEditContext")},Lo=Object(jo.createHigherOrderComponent)(function(r){return function(n){return Object(vo.createElement)(Io,null,function(e){var t;return e.isSelected&&Object(vo.createElement)(r,n)})}},"ifBlockEditSelected"),Ao=[];function No(r){return function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).call(this))).state={completers:Ao},e.saveParentRef=e.saveParentRef.bind(Object(wo.a)(Object(wo.a)(e))),e.onFocus=e.onFocus.bind(Object(wo.a)(Object(wo.a)(e))),e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"componentDidUpdate",value:function e(){var t;this.parentNode.contains(document.activeElement)&&this.hasStaleCompleters()&&this.updateCompletersState()}},{key:"onFocus",value:function e(){this.hasStaleCompleters()&&this.updateCompletersState()}},{key:"hasStaleCompleters",value:function e(){return!("lastFilteredCompletersProp"in this.state)||this.state.lastFilteredCompletersProp!==this.props.completers}},{key:"updateCompletersState",value:function e(){var t=this.props,n=t.blockName,r,o=t.completers,i=o;Object(yo.hasFilter)("editor.Autocomplete.completers")&&(o=Object(yo.applyFilters)("editor.Autocomplete.completers",o&&o.map(F.clone),n)),this.setState({lastFilteredCompletersProp:i,completers:o||Ao})}},{key:"saveParentRef",value:function e(t){this.parentNode=t}},{key:"render",value:function e(){var t=this.state.completers,n=Object(Y.a)({},this.props,{completers:t});return Object(vo.createElement)("div",{onFocus:this.onFocus,ref:this.saveParentRef},Object(vo.createElement)(r,Object(mo.a)({onFocus:this.onFocus},n)))}}]),t}(vo.Component)}var Ro=Object(jo.compose)([xo(function(e){var t;return{blockName:e.name}}),No])(To.Autocomplete);function Do(e){var t=e.icon,n=e.showColors,r=void 0!==n&&n,o=e.className;"block-default"===Object(F.get)(t,["src"])&&(t={src:Object(vo.createElement)(To.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(vo.createElement)(To.Path,{d:"M19 7h-1V5h-4v2h-4V5H6v2H5c-1.1 0-2 .9-2 2v10h18V9c0-1.1-.9-2-2-2zm0 10H5V9h14v8z"}))});var i=Object(vo.createElement)(To.Icon,{icon:t&&t.src?t.src:t}),c=r?{backgroundColor:t&&t.background,color:t&&t.foreground}:{};return Object(vo.createElement)("span",{style:c,className:go()("editor-block-icon",o,{"has-colors":r})},i)}function Fo(){return Object(g.select)("core/editor").getBlockInsertionPoint().rootClientId}function Mo(e){return Object(g.select)("core/editor").getInserterItems(e)}function Uo(){var e=Object(g.select)("core/editor"),t=e.getSelectedBlockClientId,n=e.getBlockName,r=t();return r?n(r):null}function Ho(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.getBlockInsertionParentClientId,n=void 0===t?Fo:t,r=e.getInserterItems,o=void 0===r?Mo:r,i=e.getSelectedBlockName,c=void 0===i?Uo:i;return{name:"blocks",className:"editor-autocompleters__block",triggerPrefix:"/",options:function e(){var t=c();return o(n()).filter(function(e){return t!==e.name})},getOptionKeywords:function e(t){var n=t.title,r=t.keywords,o=void 0===r?[]:r,i;return[t.category].concat(Object(R.a)(o),[n])},getOptionLabel:function e(t){var n=t.icon,r=t.title;return[Object(vo.createElement)(Do,{key:"icon",icon:n,showColors:!0}),r]},allowContext:function e(t,n){return!(/\S/.test(t)||/\S/.test(n))},getOptionCompletion:function e(t){var n=t.name,r=t.initialAttributes;return{action:"replace",value:Object($.createBlock)(n,r)}},isOptionDisabled:function e(t){return t.isDisabled}}}var Vo=Ho(),Ko={name:"users",className:"editor-autocompleters__user",triggerPrefix:"@",options:function e(t){var n="";return t&&(n="?search="+encodeURIComponent(t)),Kr()({path:"/wp/v2/users"+n})},isDebounced:!0,getOptionKeywords:function e(t){return[t.slug,t.name]},getOptionLabel:function e(t){return[Object(vo.createElement)("img",{key:"avatar",className:"editor-autocompleters__user-avatar",alt:"",src:t.avatar_urls[24]}),Object(vo.createElement)("span",{key:"name",className:"editor-autocompleters__user-name"},t.name),Object(vo.createElement)("span",{key:"slug",className:"editor-autocompleters__user-slug"},t.slug)]},getOptionCompletion:function e(t){return"@".concat(t.slug)}},zo=[{icon:"editor-alignleft",title:Object(Q.__)("Align text left"),align:"left"},{icon:"editor-aligncenter",title:Object(Q.__)("Align text center"),align:"center"},{icon:"editor-alignright",title:Object(Q.__)("Align text right"),align:"right"}];function Wo(e){var t=e.isCollapsed,r=e.value,n=e.onChange,o=e.alignmentControls,i=void 0===o?zo:o;function c(e){return function(){return n(r===e?void 0:e)}}var a=Object(F.find)(i,function(e){return e.align===r});return Object(vo.createElement)(To.Toolbar,{isCollapsed:t,icon:a?a.icon:"editor-alignleft",label:Object(Q.__)("Change Text Alignment"),controls:i.map(function(e){var t=e.align,n=r===t;return Object(Y.a)({},e,{isActive:n,onClick:c(t)})})})}var qo=Object(jo.compose)(xo(function(e){var t;return{clientId:e.clientId}}),Object(a.withViewportMatch)({isLargeViewport:"medium"}),Object(g.withSelect)(function(e,t){var n=t.clientId,r=t.isLargeViewport,o=t.isCollapsed,i=e("core/editor"),c=i.getBlockRootClientId,a=i.getEditorSettings;return{isCollapsed:o||!r||!a().hasFixedToolbar&&c(n)}}))(Wo),Go={left:{icon:"align-left",title:Object(Q.__)("Align left")},center:{icon:"align-center",title:Object(Q.__)("Align center")},right:{icon:"align-right",title:Object(Q.__)("Align right")},wide:{icon:"align-wide",title:Object(Q.__)("Wide width")},full:{icon:"align-full-width",title:Object(Q.__)("Full width")}},$o=["left","center","right","wide","full"],Yo=["wide","full"];function Qo(e){var t=e.isCollapsed,n=e.value,r=e.onChange,o=e.controls,i=void 0===o?$o:o,c=e.wideControlsEnabled,a;function s(e){return function(){return r(n===e?void 0:e)}}var l=void 0!==c&&c?i:i.filter(function(e){return-1===Yo.indexOf(e)}),u=Go[n];return Object(vo.createElement)(To.Toolbar,{isCollapsed:t,icon:u?u.icon:"align-left",label:Object(Q.__)("Change Alignment"),controls:l.map(function(e){return Object(Y.a)({},Go[e],{isActive:n===e,onClick:s(e)})})})}var Xo=Object(jo.compose)(xo(function(e){var t;return{clientId:e.clientId}}),Object(a.withViewportMatch)({isLargeViewport:"medium"}),Object(g.withSelect)(function(e,t){var n=t.clientId,r=t.isLargeViewport,o=t.isCollapsed,i=e("core/editor"),c=i.getBlockRootClientId,a=i.getEditorSettings;return{wideControlsEnabled:e("core/editor").getEditorSettings().alignWide,isCollapsed:o||!r||!a().hasFixedToolbar&&c(n)}}))(Qo),Jo=Object(To.createSlotFill)("BlockControls"),Zo=Jo.Fill,ei=Jo.Slot,ti,ni=Lo(function e(t){var n=t.controls,r=t.children;return Object(vo.createElement)(Zo,null,Object(vo.createElement)(To.Toolbar,{controls:n}),r)});ni.Slot=ei;var ri=ni,oi=function e(t){var n=t.attributes,r=void 0===n?{}:n,o=t.name,i=Object($.getBlockType)(o);if(!i)return null;var c=Object($.hasBlockSupport)(i,"className",!0)?Object($.getBlockDefaultClassName)(o):null,a=go()(c,r.className),s=i.edit||i.save;return Object(vo.createElement)(s,Object(mo.a)({},t,{className:a}))},ii=Object(To.withFilters)("editor.BlockEdit")(oi),ci,ai=function(e){function n(e){var t;return Object(ko.a)(this,n),(t=Object(Eo.a)(this,Object(So.a)(n).call(this,e))).setFocusedElement=t.setFocusedElement.bind(Object(wo.a)(Object(wo.a)(t))),t.state={focusedElement:null,setFocusedElement:t.setFocusedElement},t}return Object(Co.a)(n,e),Object(_o.a)(n,[{key:"setFocusedElement",value:function e(t){this.setState(function(e){return e.focusedElement===t?null:{focusedElement:t}})}},{key:"render",value:function e(){return Object(vo.createElement)(Bo,{value:this.state},Object(vo.createElement)(ii,this.props))}}],[{key:"getDerivedStateFromProps",value:function e(t){var n=t.clientId,r,o;return{name:t.name,isSelected:t.isSelected,clientId:n}}}]),n}(vo.Component),si=Object(To.createSlotFill)("BlockFormatControls"),li=si.Fill,ui=si.Slot,di=Lo(li);di.Slot=ui;var pi=di,bi=n(17);function fi(e){var t=e.blocks,r=e.selectedBlockClientId,o=e.selectBlock,i=e.showNestedBlocks;return Object(vo.createElement)("ul",{className:"editor-block-navigation__list",role:"list"},Object(F.map)(t,function(t){var e=Object($.getBlockType)(t.name),n=t.clientId===r;return Object(vo.createElement)("li",{key:t.clientId},Object(vo.createElement)("div",{className:"editor-block-navigation__item"},Object(vo.createElement)(To.Button,{className:go()("editor-block-navigation__item-button",{"is-selected":t.clientId===r}),onClick:function e(){return o(t.clientId)},isSelected:n},Object(vo.createElement)(Do,{icon:e.icon,showColors:!0}),e.title,n&&Object(vo.createElement)("span",{className:"screen-reader-text"},Object(Q.__)("(selected block)")))),
i&&!!t.innerBlocks&&!!t.innerBlocks.length&&Object(vo.createElement)(fi,{blocks:t.innerBlocks,selectedBlockClientId:r,selectBlock:o,showNestedBlocks:!0}))}))}function hi(e){var t=e.rootBlock,n=e.rootBlocks,r=e.selectedBlockClientId,o=e.selectBlock;if(!n||0===n.length)return null;var i=t&&(t.clientId!==r||t.innerBlocks&&0!==t.innerBlocks.length);return Object(vo.createElement)(To.NavigableMenu,{role:"presentation",className:"editor-block-navigation__container"},Object(vo.createElement)("p",{className:"editor-block-navigation__label"},Object(Q.__)("Block Navigation")),i&&Object(vo.createElement)(fi,{blocks:[t],selectedBlockClientId:r,selectBlock:o,showNestedBlocks:!0}),!i&&Object(vo.createElement)(fi,{blocks:n,selectedBlockClientId:r,selectBlock:o}))}var mi=Object(jo.compose)(Object(g.withSelect)(function(e){var t=e("core/editor"),n=t.getSelectedBlockClientId,r=t.getBlockHierarchyRootClientId,o=t.getBlock,i=t.getBlocks,c=n();return{rootBlocks:i(),rootBlock:c?o(r(c)):null,selectedBlockClientId:c}}),Object(g.withDispatch)(function(n,e){var t=e.onSelect,r=void 0===t?F.noop:t;return{selectBlock:function e(t){n("core/editor").selectBlock(t),r(t)}}}))(hi),vi=Object(vo.createElement)(To.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20"},Object(vo.createElement)(To.Path,{d:"M5 5H3v2h2V5zm3 8h11v-2H8v2zm9-8H6v2h11V5zM7 11H5v2h2v-2zm0 8h2v-2H7v2zm3-2v2h11v-2H10z"}));function Oi(e){var o=e.hasBlocks;return Object(vo.createElement)(To.Dropdown,{renderToggle:function e(t){var n=t.isOpen,r=t.onToggle;return Object(vo.createElement)(vo.Fragment,null,Object(vo.createElement)(To.KeyboardShortcuts,{bindGlobal:!0,shortcuts:Object(D.a)({},bi.rawShortcut.access("o"),r)}),Object(vo.createElement)(To.IconButton,{icon:vi,"aria-expanded":n,onClick:o?r:void 0,label:Object(Q.__)("Block Navigation"),className:"editor-block-navigation",shortcut:bi.displayShortcut.access("o"),"aria-disabled":!o}))},renderContent:function e(t){var n=t.onClose;return Object(vo.createElement)(mi,{onSelect:n})}})}var gi=Object(g.withSelect)(function(e){return{hasBlocks:!!e("core/editor").getBlockCount()}})(Oi),ji=Object(jo.createHigherOrderComponent)(Object(g.withSelect)(function(e,t){var n=e("core/editor").getEditorSettings(),r=void 0===t.colors?n.colors:t.colors,o=void 0===t.disableCustomColors?n.disableCustomColors:t.disableCustomColors;return{colors:r,disableCustomColors:o,hasColorsToChoose:!Object(F.isEmpty)(r)||!o}}),"withColorContext"),yi=ji(To.ColorPalette),ki=n(45),_i=n.n(ki),Ei=function e(t,n,r){if(n){var o=Object(F.find)(t,{slug:n});if(o)return o}return{color:r}},Si=function e(t,n){return Object(F.find)(t,{color:n})};function Ci(e,t){if(e&&t)return"has-".concat(Object(F.kebabCase)(t),"-").concat(e)}function wi(e,t){return _i.a.mostReadable(t,Object(F.map)(e,"color")).toHexString()}var Ti=[],Pi=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Object(F.reduce)(t,function(e,t){return Object(Y.a)({},e,Object(F.isString)(t)?Object(D.a)({},t,Object(F.kebabCase)(t)):t)},{});return Object(jo.createHigherOrderComponent)(Object(jo.compose)([Object(g.withSelect)(function(e){var t=e("core/editor").getEditorSettings();return{colors:Object(F.get)(t,["colors"],Ti)}}),function(t){return function(e){function n(e){var t;return Object(ko.a)(this,n),(t=Object(Eo.a)(this,Object(So.a)(n).call(this,e))).setters=t.createSetters(),t.colorUtils={getMostReadableColor:t.getMostReadableColor.bind(Object(wo.a)(Object(wo.a)(t)))},t.state={},t}return Object(Co.a)(n,e),Object(_o.a)(n,[{key:"getMostReadableColor",value:function e(t){var n;return wi(this.props.colors,t)}},{key:"createSetters",value:function e(){var i=this;return Object(F.reduce)(r,function(e,t,n){var r=Object(F.upperFirst)(n),o="custom".concat(r);return e["set".concat(r)]=i.createSetColor(n,o),e},{})}},{key:"createSetColor",value:function e(r,o){var i=this;return function(e){var t,n=Si(i.props.colors,e);i.props.setAttributes((t={},Object(D.a)(t,r,n&&n.slug?n.slug:void 0),Object(D.a)(t,o,n&&n.slug?void 0:e),t))}}},{key:"render",value:function e(){return Object(vo.createElement)(t,Object(Y.a)({},this.props,{colors:void 0},this.state,this.setters,{colorUtils:this.colorUtils}))}}],[{key:"getDerivedStateFromProps",value:function e(t,c){var a=t.attributes,s=t.colors;return Object(F.reduce)(r,function(e,t,n){var r=Ei(s,a[n],a["custom".concat(Object(F.upperFirst)(n))]),o=c[n],i;return Object(F.get)(o,["color"])===r.color&&o?e[n]=o:e[n]=Object(Y.a)({},r,{class:Ci(t,r.slug)}),e},{})}}]),n}(vo.Component)}]),"withColors")};function Ii(e){var t=e.backgroundColor,n=e.fallbackBackgroundColor,r=e.fallbackTextColor,o=e.fontSize,i=e.isLargeText,c=e.textColor;if(!t&&!n||!c&&!r)return null;var a=_i()(t||n),s=_i()(c||r),l;if(1!==a.getAlpha()||1!==s.getAlpha()||_i.a.isReadable(a,s,{level:"AA",size:i||!1!==i&&24<=o?"large":"small"}))return null;var u=a.getBrightness()<s.getBrightness()?Object(Q.__)("This color combination may be hard for people to read. Try using a darker background color and/or a brighter text color."):Object(Q.__)("This color combination may be hard for people to read. Try using a brighter background color and/or a darker text color.");return Object(vo.createElement)("div",{className:"editor-contrast-checker"},Object(vo.createElement)(To.Notice,{status:"warning",isDismissible:!1},u))}var Bi=Ii,xi=function e(t,n,r){if(n){var o=Object(F.find)(t,{slug:n});if(o)return o}return{size:r}};function Li(e){if(e)return"has-".concat(Object(F.kebabCase)(e),"-font-size")}var Ai=Object(g.withSelect)(function(e){var t=e("core/editor").getEditorSettings(),n,r;return{disableCustomFontSizes:t.disableCustomFontSizes,fontSizes:t.fontSizes}})(To.FontSizePicker),Ni=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=Object(F.reduce)(t,function(e,t){return e[t]="custom".concat(Object(F.upperFirst)(t)),e},{});return Object(jo.createHigherOrderComponent)(Object(jo.compose)([Object(g.withSelect)(function(e){var t,n;return{fontSizes:e("core/editor").getEditorSettings().fontSizes}}),function(t){return function(e){function n(e){var t;return Object(ko.a)(this,n),(t=Object(Eo.a)(this,Object(So.a)(n).call(this,e))).setters=t.createSetters(),t.state={},t}return Object(Co.a)(n,e),Object(_o.a)(n,[{key:"createSetters",value:function e(){var o=this;return Object(F.reduce)(a,function(e,t,n){var r=Object(F.upperFirst)(n);return e["set".concat(r)]=o.createSetFontSize(n,t),e},{})}},{key:"createSetFontSize",value:function e(r,o){var i=this;return function(e){var t,n=Object(F.find)(i.props.fontSizes,{size:e});i.props.setAttributes((t={},Object(D.a)(t,r,n&&n.slug?n.slug:void 0),Object(D.a)(t,o,n&&n.slug?void 0:e),t))}}},{key:"render",value:function e(){return Object(vo.createElement)(t,Object(Y.a)({},this.props,{fontSizes:void 0},this.state,this.setters))}}],[{key:"getDerivedStateFromProps",value:function e(t,r){var i=t.attributes,c=t.fontSizes,n=function e(t,n){return!r[n]||(i[n]?i[n]!==r[n].slug:r[n].size!==i[t])};if(!Object(F.some)(a,n))return null;var o=Object(F.reduce)(Object(F.pickBy)(a,n),function(e,t,n){var r=i[n],o=xi(c,r,i[t]);return e[n]=Object(Y.a)({},o,{class:Li(r)}),e},{});return Object(Y.a)({},r,o)}}]),n}(vo.Component)}]),"withFontSizes")},Ri=n(40),Di=n.n(Ri),Fi=n(22);function Mi(e,t,n,r,o,i){var c=n+1;return 1<e?Ui(e,n,r,o,i):r&&o?Object(Q.sprintf)(Object(Q.__)("Block %s is the only block, and cannot be moved"),t):0<i&&!o?Object(Q.sprintf)(Object(Q.__)("Move %1$s block from position %2$d down to position %3$d"),t,c,c+1):0<i&&o?Object(Q.sprintf)(Object(Q.__)("Block %s is at the end of the content and cant be moved down"),t):i<0&&!r?Object(Q.sprintf)(Object(Q.__)("Move %1$s block from position %2$d up to position %3$d"),t,c,c-1):i<0&&r?Object(Q.sprintf)(Object(Q.__)("Block %s is at the beginning of the content and cant be moved up"),t):void 0}function Ui(e,t,n,r,o){var i=t+1;return o<0&&n?Object(Q.__)("Blocks cannot be moved up as they are already at the top"):0<o&&r?Object(Q.__)("Blocks cannot be moved down as they are already at the bottom"):o<0&&!n?Object(Q.sprintf)(Object(Q._n)("Move %1$d block from position %2$d up by one place","Move %1$d blocks from position %2$d up by one place",e),e,i):0<o&&!r?Object(Q.sprintf)(Object(Q._n)("Move %1$d block from position %2$d down by one place","Move %1$d blocks from position %2$d down by one place",e),e,i):void 0}var Hi=Object(vo.createElement)(To.SVG,{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"},Object(vo.createElement)(To.Polygon,{points:"9,4.5 3.3,10.1 4.8,11.5 9,7.3 13.2,11.5 14.7,10.1 "})),Vi=Object(vo.createElement)(To.SVG,{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"},Object(vo.createElement)(To.Polygon,{points:"9,13.5 14.7,7.9 13.2,6.5 9,10.7 4.8,6.5 3.3,7.9 "})),Ki=Object(vo.createElement)(To.SVG,{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"},Object(vo.createElement)(To.Path,{d:"M13,8c0.6,0,1-0.4,1-1s-0.4-1-1-1s-1,0.4-1,1S12.4,8,13,8z M5,6C4.4,6,4,6.4,4,7s0.4,1,1,1s1-0.4,1-1S5.6,6,5,6z M5,10 c-0.6,0-1,0.4-1,1s0.4,1,1,1s1-0.4,1-1S5.6,10,5,10z M13,10c-0.6,0-1,0.4-1,1s0.4,1,1,1s1-0.4,1-1S13.6,10,13,10z M9,6 C8.4,6,8,6.4,8,7s0.4,1,1,1s1-0.4,1-1S9.6,6,9,6z M9,10c-0.6,0-1,0.4-1,1s0.4,1,1,1s1-0.4,1-1S9.6,10,9,10z"})),zi=function e(t){var r=t.children,n=t.clientId,o=t.rootClientId,i=t.blockElementId,c=t.index,a=t.onDragStart,s=t.onDragEnd,l={type:"block",srcIndex:c,srcRootClientId:o,srcClientId:n};return Object(vo.createElement)(To.Draggable,{elementId:i,transferData:l,onDragStart:a,onDragEnd:s},function(e){var t=e.onDraggableStart,n=e.onDraggableEnd;return r({onDraggableStart:t,onDraggableEnd:n})})},Wi=Object(g.withSelect)(function(e,t){var n=t.clientId,r=e("core/editor"),o=r.getBlockIndex,i=r.getBlockRootClientId;return{index:o(n),rootClientId:i(n)}})(zi),qi=function e(t){var n=t.isVisible,r=t.className,o=t.icon,i=t.onDragStart,c=t.onDragEnd,a=t.blockElementId,s=t.clientId;if(!n)return null;var l=go()("editor-block-mover__control-drag-handle",r);return Object(vo.createElement)(Wi,{clientId:s,blockElementId:a,onDragStart:i,onDragEnd:c},function(e){var t=e.onDraggableStart,n=e.onDraggableEnd;return Object(vo.createElement)("div",{className:l,"aria-hidden":"true",onDragStart:t,onDragEnd:n,draggable:!0},o)})},Gi=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).state={isFocused:!1},e.onFocus=e.onFocus.bind(Object(wo.a)(Object(wo.a)(e))),e.onBlur=e.onBlur.bind(Object(wo.a)(Object(wo.a)(e))),e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"onFocus",value:function e(){this.setState({isFocused:!0})}},{key:"onBlur",value:function e(){this.setState({isFocused:!1})}},{key:"render",value:function e(){var t=this.props,n=t.onMoveUp,r=t.onMoveDown,o=t.isFirst,i=t.isLast,c=t.isDraggable,a=t.onDragStart,s=t.onDragEnd,l=t.clientIds,u=t.blockElementId,d=t.blockType,p=t.firstIndex,b=t.isLocked,f=t.instanceId,h=t.isHidden,m=this.state.isFocused,v=Object(F.castArray)(l).length;return b||o&&i?null:Object(vo.createElement)("div",{className:go()("editor-block-mover",{"is-visible":m||!h})},Object(vo.createElement)(To.IconButton,{className:"editor-block-mover__control",onClick:o?null:n,icon:Hi,label:Object(Q.__)("Move up"),"aria-describedby":"editor-block-mover__up-description-".concat(f),"aria-disabled":o,onFocus:this.onFocus,onBlur:this.onBlur}),Object(vo.createElement)(qi,{className:"editor-block-mover__control",icon:Ki,clientId:l,blockElementId:u,isVisible:c,onDragStart:a,onDragEnd:s}),Object(vo.createElement)(To.IconButton,{className:"editor-block-mover__control",onClick:i?null:r,icon:Vi,label:Object(Q.__)("Move down"),"aria-describedby":"editor-block-mover__down-description-".concat(f),"aria-disabled":i,onFocus:this.onFocus,onBlur:this.onBlur}),Object(vo.createElement)("span",{id:"editor-block-mover__up-description-".concat(f),className:"editor-block-mover__description"},Mi(v,d&&d.title,p,o,i,-1)),Object(vo.createElement)("span",{id:"editor-block-mover__down-description-".concat(f),className:"editor-block-mover__description"},Mi(v,d&&d.title,p,o,i,1)))}}]),t}(vo.Component),$i=Object(jo.compose)(Object(g.withSelect)(function(e,t){var n=t.clientIds,r=e("core/editor"),o=r.getBlock,i=r.getBlockIndex,c=r.getTemplateLock,a=r.getBlockRootClientId,s=Object(F.first)(Object(F.castArray)(n)),l=o(s),u=a(Object(F.first)(Object(F.castArray)(n)));return{firstIndex:i(s,u),blockType:l?Object($.getBlockType)(l.name):null,isLocked:"all"===c(u),rootClientId:u}}),Object(g.withDispatch)(function(e,t){var n=t.clientIds,r=t.rootClientId,o=e("core/editor"),i=o.moveBlocksDown,c=o.moveBlocksUp;return{onMoveDown:Object(F.partial)(i,n,r),onMoveUp:Object(F.partial)(c,n,r)}}),jo.withInstanceId)(Gi);function Yi(e){var t=e.hasUploadPermissions,n=e.fallback,r=void 0===n?null:n,o=e.children;return t?o:r}var Qi=Object(g.withSelect)(function(e){var t,n;return{hasUploadPermissions:(0,e("core").hasUploadPermissions)()}})(Yi),Xi=function e(t){var n={srcRootClientId:null,srcClientId:null,srcIndex:null,type:null};if(!t.dataTransfer)return n;try{n=Object.assign(n,JSON.parse(t.dataTransfer.getData("text")))}catch(e){return n}return n},Ji=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).onFilesDrop=e.onFilesDrop.bind(Object(wo.a)(Object(wo.a)(e))),e.onHTMLDrop=e.onHTMLDrop.bind(Object(wo.a)(Object(wo.a)(e))),e.onDrop=e.onDrop.bind(Object(wo.a)(Object(wo.a)(e))),e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"getInsertIndex",value:function e(t){var n=this.props.index;if(void 0!==n)return"top"===t.y?n:n+1}},{key:"onFilesDrop",value:function e(t,n){var r=Object($.findTransform)(Object($.getBlockTransforms)("from"),function(e){return"files"===e.type&&e.isMatch(t)});if(r){var o=this.getInsertIndex(n),i=r.transform(t,this.props.updateBlockAttributes);this.props.insertBlocks(i,o)}}},{key:"onHTMLDrop",value:function e(t,n){var r=Object($.pasteHandler)({HTML:t,mode:"BLOCKS"});r.length&&this.props.insertBlocks(r,this.getInsertIndex(n))}},{key:"onDrop",value:function e(t,n){var r=this.props,o=r.rootClientId,i=r.clientId,c=r.index,a=r.getClientIdsOfDescendants,s=Xi(t),l=s.srcRootClientId,u=s.srcClientId,d=s.srcIndex,p,b,f=function e(t,n){return t===n||!0==!t&&!0==!n},h=function e(t,n){return t===n},m=function e(t,n){return a([t]).some(function(e){return e===n})};if(function e(t){return"block"===t}(s.type)&&!h(u,i)&&!m(u,i)){var v=this.getInsertIndex(n),O=c&&d<c&&f(l,o)?v-1:v;this.props.moveBlockToPosition(u,l,O)}}},{key:"render",value:function e(){var t=this.props,n=t.isLocked,r=t.index;if(n)return null;var o=void 0===r;return Object(vo.createElement)(Qi,null,Object(vo.createElement)(To.DropZone,{className:go()("editor-block-drop-zone",{"is-appender":o}),onFilesDrop:this.onFilesDrop,onHTMLDrop:this.onHTMLDrop,onDrop:this.onDrop}))}}]),t}(vo.Component),Zi=Object(jo.compose)(Object(g.withDispatch)(function(e,i){var t=e("core/editor"),o=t.insertBlocks,n=t.updateBlockAttributes,c=t.moveBlockToPosition;return{insertBlocks:function e(t,n){var r=i.rootClientId;o(t,n,r)},updateBlockAttributes:function e(){n.apply(void 0,arguments)},moveBlockToPosition:function e(t,n,r){var o=i.rootClientId;c(t,n,o,r)}}}),Object(g.withSelect)(function(e,t){var n=t.rootClientId,r=e("core/editor"),o=r.getClientIdsOfDescendants,i;return{isLocked:!!(0,r.getTemplateLock)(n),getClientIdsOfDescendants:o}}),Object(To.withFilters)("editor.BlockDropZone"))(Ji);function ec(e){var t=e.className,n=e.actions,r=e.children,o=e.secondaryActions;return Object(vo.createElement)("div",{className:go()(t,"editor-warning")},Object(vo.createElement)("div",{className:"editor-warning__contents"},Object(vo.createElement)("p",{className:"editor-warning__message"},r),0<vo.Children.count(n)&&Object(vo.createElement)("div",{className:"editor-warning__actions"},vo.Children.map(n,function(e,t){return Object(vo.createElement)("span",{key:t,className:"editor-warning__action"},e)}))),o&&Object(vo.createElement)(To.Dropdown,{className:"editor-warning__secondary",position:"bottom left",renderToggle:function e(t){var n=t.isOpen,r=t.onToggle;return Object(vo.createElement)(To.IconButton,{icon:"ellipsis",label:Object(Q.__)("More options"),onClick:r,"aria-expanded":n})},renderContent:function e(){return Object(vo.createElement)(To.MenuGroup,{label:Object(Q.__)("More options")},o.map(function(e,t){return Object(vo.createElement)(To.MenuItem,{onClick:e.onClick,key:t},e.title)}))}}))}var tc=ec,nc=n(191),rc,oc=function e(t){var n=t.title,r=t.rawContent,o=t.renderedContent,i=t.action,c=t.actionText,a=t.className;return Object(vo.createElement)("div",{className:a},Object(vo.createElement)("div",{className:"editor-block-compare__content"},Object(vo.createElement)("h1",{className:"editor-block-compare__heading"},n),Object(vo.createElement)("div",{className:"editor-block-compare__html"},r),Object(vo.createElement)("div",{className:"editor-block-compare__preview edit-post-visual-editor"},o)),Object(vo.createElement)("div",{className:"editor-block-compare__action"},Object(vo.createElement)(To.Button,{isLarge:!0,tabIndex:"0",onClick:i},c)))},ic,cc=function(e){function t(){return Object(ko.a)(this,t),Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"getDifference",value:function e(t,n){var r;return Object(nc.diffChars)(t,n).map(function(e,t){var n=go()({"editor-block-compare__added":e.added,"editor-block-compare__removed":e.removed});return Object(vo.createElement)("span",{key:t,className:n},e.value)})}},{key:"getOriginalContent",value:function e(t){return{rawContent:t.originalContent,renderedContent:Object($.getSaveElement)(t.name,t.attributes)}}},{key:"getConvertedContent",value:function e(t){var n=Object(F.castArray)(t),r=n.map(function(e){return Object($.getSaveContent)(e.name,e.attributes,e.innerBlocks)}),o=n.map(function(e){return Object($.getSaveElement)(e.name,e.attributes,e.innerBlocks)});return{rawContent:r.join(""),renderedContent:o}}},{key:"render",value:function e(){var t=this.props,n=t.block,r=t.onKeep,o=t.onConvert,i=t.convertor,c=t.convertButtonText,a=this.getOriginalContent(n),s=this.getConvertedContent(i(n)),l=this.getDifference(a.rawContent,s.rawContent);return Object(vo.createElement)("div",{className:"editor-block-compare__wrapper"},Object(vo.createElement)(oc,{title:Object(Q.__)("Current"),className:"editor-block-compare__current",action:r,actionText:Object(Q.__)("Convert to HTML"),rawContent:a.rawContent,renderedContent:a.renderedContent}),Object(vo.createElement)(oc,{title:Object(Q.__)("After Conversion"),className:"editor-block-compare__converted",action:o,actionText:c,rawContent:l,renderedContent:s.renderedContent}))}}]),t}(vo.Component),ac=function(e){function n(e){var t;return Object(ko.a)(this,n),(t=Object(Eo.a)(this,Object(So.a)(n).call(this,e))).state={compare:!1},t.onCompare=t.onCompare.bind(Object(wo.a)(Object(wo.a)(t))),t.onCompareClose=t.onCompareClose.bind(Object(wo.a)(Object(wo.a)(t))),t}return Object(Co.a)(n,e),Object(_o.a)(n,[{key:"onCompare",value:function e(){this.setState({compare:!0})}},{key:"onCompareClose",value:function e(){this.setState({compare:!1})}},{key:"render",value:function e(){var t=this.props,n=t.convertToHTML,r=t.convertToBlocks,o=t.convertToClassic,i=t.block,c=!!Object($.getBlockType)("core/html"),a=this.state.compare,s=[{title:Object(Q.__)("Convert to Classic Block"),onClick:o}];return a?Object(vo.createElement)(To.Modal,{title:Object(Q.__)("Resolve Block"),onRequestClose:this.onCompareClose,className:"editor-block-compare"},Object(vo.createElement)(cc,{block:i,onKeep:n,onConvert:r,convertor:uc,convertButtonText:Object(Q.__)("Convert to Blocks")})):Object(vo.createElement)(tc,{actions:[Object(vo.createElement)(To.Button,{key:"convert",onClick:this.onCompare,isLarge:!0,isPrimary:!c},Object(Q._x)("Resolve","imperative verb")),c&&Object(vo.createElement)(To.Button,{key:"edit",onClick:n,isLarge:!0,isPrimary:!0},Object(Q.__)("Convert to HTML"))],secondaryActions:s},Object(Q.__)("This block contains unexpected or invalid content."))}}]),n}(vo.Component),sc=function e(t){return Object($.createBlock)("core/freeform",{content:t.originalContent})},lc=function e(t){return Object($.createBlock)("core/html",{content:t.originalContent})},uc=function e(t){return Object($.rawHandler)({HTML:t.originalContent})},dc=Object(jo.compose)([Object(g.withSelect)(function(e,t){var n=t.clientId;return{block:e("core/editor").getBlock(n)}}),Object(g.withDispatch)(function(e,t){var n=t.block,r,o=e("core/editor").replaceBlock;return{convertToClassic:function e(){o(n.clientId,sc(n))},convertToHTML:function e(){o(n.clientId,lc(n))},convertToBlocks:function e(){o(n.clientId,uc(n))}}})])(ac),pc=Object(vo.createElement)(tc,null,Object(Q.__)("This block has encountered an error and cannot be previewed.")),bc=function(){return pc},fc,hc=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).state={hasError:!1},e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"componentDidCatch",value:function e(t){this.props.onError(t),this.setState({hasError:!0})}},{key:"render",value:function e(){return this.state.hasError?null:this.props.children}}]),t}(vo.Component),mc=n(55),vc=n.n(mc),Oc=function(e){function n(e){var t;return Object(ko.a)(this,n),(t=Object(Eo.a)(this,Object(So.a)(n).apply(this,arguments))).onChange=t.onChange.bind(Object(wo.a)(Object(wo.a)(t))),t.onBlur=t.onBlur.bind(Object(wo.a)(Object(wo.a)(t))),t.state={html:e.block.isValid?Object($.getBlockContent)(e.block):e.block.originalContent},t}return Object(Co.a)(n,e),Object(_o.a)(n,[{key:"componentDidUpdate",value:function e(t){Object(F.isEqual)(this.props.block.attributes,t.block.attributes)||this.setState({html:Object($.getBlockContent)(this.props.block)})}},{key:"onBlur",value:function e(){var t=this.state.html,n=Object($.getBlockType)(this.props.block.name),r=Object($.getBlockAttributes)(n,t,this.props.block.attributes),o=t||Object($.getSaveContent)(n,r),i=!t||Object($.isValidBlockContent)(n,r,o);this.props.onChange(this.props.clientId,r,o,i),t||this.setState({html:o})}},{key:"onChange",value:function e(t){this.setState({html:t.target.value})}},{key:"render",value:function e(){var t=this.state.html;return Object(vo.createElement)(vc.a,{className:"editor-block-list__block-html-textarea",value:t,onBlur:this.onBlur,onChange:this.onChange})}}]),n}(vo.Component),gc=Object(jo.compose)([Object(g.withSelect)(function(e,t){return{block:e("core/editor").getBlock(t.clientId)}}),Object(g.withDispatch)(function(i){return{onChange:function e(t,n,r,o){i("core/editor").updateBlock(t,{attributes:n,originalContent:r,isValid:o})}}})])(Oc);function jc(e){var t=e.name;if(!t)return null;var n=Object($.getBlockType)(t);return n?n.title:null}var yc=Object(g.withSelect)(function(e,t){var n,r,o;return{name:(0,e("core/editor").getBlockName)(t.clientId)}})(jc),kc=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).state={isFocused:!1},e.onFocus=e.onFocus.bind(Object(wo.a)(Object(wo.a)(e))),e.onBlur=e.onBlur.bind(Object(wo.a)(Object(wo.a)(e))),e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"onFocus",value:function e(t){this.setState({isFocused:!0}),t.stopPropagation()}},{key:"onBlur",value:function e(){this.setState({isFocused:!1})}},{key:"render",value:function e(){var t=this.props,n=t.clientId,r=t.rootClientId;return Object(vo.createElement)("div",{className:"editor-block-list__breadcrumb"},Object(vo.createElement)(To.Toolbar,null,r&&Object(vo.createElement)(vo.Fragment,null,Object(vo.createElement)(yc,{clientId:r}),Object(vo.createElement)("span",{className:"editor-block-list__descendant-arrow"})),Object(vo.createElement)(yc,{clientId:n})))}}]),t}(vo.Component),_c=Object(jo.compose)([Object(g.withSelect)(function(e,t){var n,r,o;return{rootClientId:(0,e("core/editor").getBlockRootClientId)(t.clientId)}})])(kc),Ec=window,Sc=Ec.Node,Cc=Ec.getSelection,wc,Tc=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).focusToolbar=e.focusToolbar.bind(Object(wo.a)(Object(wo.a)(e))),e.focusSelection=e.focusSelection.bind(Object(wo.a)(Object(wo.a)(e))),e.switchOnKeyDown=Object(F.cond)([[Object(F.matchesProperty)(["keyCode"],bi.ESCAPE),e.focusSelection]]),e.toolbar=Object(vo.createRef)(),e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"focusToolbar",value:function e(){var t=Fi.focus.tabbable.find(this.toolbar.current);t.length&&t[0].focus()}},{key:"focusSelection",value:function e(){var t=Cc();if(t){var n,r=t.focusNode;r.nodeType!==Sc.ELEMENT_NODE&&(r=r.parentElement),r&&r.focus()}}},{key:"componentDidMount",value:function e(){this.props.focusOnMount&&this.focusToolbar()}},{key:"render",value:function e(){var t=this.props,n=t.children,r=Object(O.a)(t,["children"]);return Object(vo.createElement)(To.NavigableMenu,Object(mo.a)({orientation:"horizontal",role:"toolbar",ref:this.toolbar,onKeyDown:this.switchOnKeyDown},Object(F.omit)(r,["focusOnMount"])),Object(vo.createElement)(To.KeyboardShortcuts,{bindGlobal:!0,eventName:"keydown",shortcuts:{"alt+f10":this.focusToolbar}}),n)}}]),t}(vo.Component);function Pc(e){var t=e.focusOnMount;return Object(vo.createElement)(Tc,{focusOnMount:t,className:"editor-block-contextual-toolbar","aria-label":Object(Q.__)("Block tools")},Object(vo.createElement)(Vp,null))}var Ic=Pc;function Bc(e){var t=e.multiSelectedBlockClientIds,n=e.clientId,r=e.isSelecting,o=e.isFirst,i=e.isLast;return r?null:Object(vo.createElement)($i,{key:"mover",clientId:n,clientIds:t,isFirst:o,isLast:i})}var xc=Object(g.withSelect)(function(e,t){var n=t.clientId,r=e("core/editor"),o=r.getMultiSelectedBlockClientIds,i=r.isMultiSelecting,c=r.getBlockIndex,a=r.getBlockCount,s=o(),l=c(Object(F.first)(s),n),u=c(Object(F.last)(s),n);return{multiSelectedBlockClientIds:s,isSelecting:i(),isFirst:0===l,isLast:u+1===a()}})(Bc),Lc=n(59),Ac=n.n(Lc);function Nc(e){return Object(vo.createElement)("div",{className:"editor-block-preview"},Object(vo.createElement)("div",{className:"editor-block-preview__title"},Object(Q.__)("Preview")),Object(vo.createElement)(Rc,e))}function Rc(e){var t=e.name,n=e.attributes,r=Object($.createBlock)(t,n);return Object(vo.createElement)(To.Disabled,{className:"editor-block-preview__content editor-styles-wrapper","aria-hidden":!0},Object(vo.createElement)(ai,{name:t,focus:!1,attributes:r.attributes,setAttributes:F.noop}))}var Dc=Nc;function Fc(e){var t=e.icon,n=e.hasChildBlocksWithInserterSupport,r=e.onClick,o=e.isDisabled,i=e.title,c=e.className,a=Object(O.a)(e,["icon","hasChildBlocksWithInserterSupport","onClick","isDisabled","title","className"]),s=t?{backgroundColor:t.background,color:t.foreground}:{},l=t&&t.shadowColor?{backgroundColor:t.shadowColor}:{};return Object(vo.createElement)("li",{className:"editor-block-types-list__list-item"},Object(vo.createElement)("button",Object(mo.a)({className:go()("editor-block-types-list__item",c,{"editor-block-types-list__item-has-children":n}),onClick:function e(t){t.preventDefault(),r()},disabled:o,"aria-label":i},a),Object(vo.createElement)("span",{className:"editor-block-types-list__item-icon",style:s},Object(vo.createElement)(Do,{icon:t,showColors:!0}),n&&Object(vo.createElement)("span",{className:"editor-block-types-list__item-icon-stack",style:l})),Object(vo.createElement)("span",{className:"editor-block-types-list__item-title"},i)))}var Mc=Fc;function Uc(e){var t=e.items,n=e.onSelect,r=e.onHover,o=void 0===r?function(){}:r,i=e.children;return Object(vo.createElement)("ul",{role:"list",className:"editor-block-types-list"},t&&t.map(function(t){return Object(vo.createElement)(Mc,{key:t.id,className:Object($.getBlockMenuDefaultClassName)(t.id),icon:t.icon,hasChildBlocksWithInserterSupport:t.hasChildBlocksWithInserterSupport,onClick:function e(){n(t),o(null)},onFocus:function e(){return o(t)},onMouseEnter:function e(){return o(t)},onMouseLeave:function e(){return o(null)},onBlur:function e(){return o(null)},isDisabled:t.isDisabled,title:t.title})}),i)}var Hc=Uc;function Vc(e){var t=e.rootBlockIcon,n=e.rootBlockTitle,r=e.items,o=Object(O.a)(e,["rootBlockIcon","rootBlockTitle","items"]);return Object(vo.createElement)("div",{className:"editor-inserter__child-blocks"},(t||n)&&Object(vo.createElement)("div",{className:"editor-inserter__parent-block-header"},Object(vo.createElement)(Do,{icon:t,showColors:!0}),n&&Object(vo.createElement)("h2",null,n)),Object(vo.createElement)(Hc,Object(mo.a)({items:r},o)))}var Kc=Object(jo.compose)(Object(jo.ifCondition)(function(e){var t=e.items;return t&&0<t.length}),Object(g.withSelect)(function(e,t){var n=t.rootClientId,r,o,i,c,a,s=(0,e("core/blocks").getBlockType)((0,e("core/editor").getBlockName)(n));return{rootBlockTitle:s&&s.title,rootBlockIcon:s&&s.icon}}))(Vc),zc,Wc=function e(t){var n=t.filterValue;return Object(vo.createElement)(To.Slot,{name:"Inserter.InlineElements",fillProps:{filterValue:n}},function(e){return!Object(F.isEmpty)(e)&&Object(vo.createElement)(To.PanelBody,{title:Object(Q.__)("Inline Elements"),initialOpen:!1,className:"editor-inserter__inline-elements"},Object(vo.createElement)(Hc,null,e))})},qc=9,Gc=function e(t){return t.stopPropagation()},$c=function e(t,n){var r=Yc(n),o=function e(t){return-1!==Yc(t).indexOf(r)},i=Object($.getCategories)();return t.filter(function(e){var t=Object(F.find)(i,{slug:e.category});return o(e.title)||Object(F.some)(e.keywords,o)||t&&o(t.title)})},Yc=function e(t){return t=(t=(t=(t=Object(F.deburr)(t)).replace(/^\//,"")).toLowerCase()).trim()},Qc=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).state={childItems:[],filterValue:"",hoveredItem:null,suggestedItems:[],reusableItems:[],itemsPerCategory:{},openPanels:["suggested"]},e.onChangeSearchInput=e.onChangeSearchInput.bind(Object(wo.a)(Object(wo.a)(e))),e.onHover=e.onHover.bind(Object(wo.a)(Object(wo.a)(e))),e.panels={},e.inserterResults=Object(vo.createRef)(),e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"componentDidMount",value:function e(){this.props.fetchReusableBlocks(),this.filter()}},{key:"componentDidUpdate",value:function e(t){t.items!==this.props.items&&this.filter(this.state.filterValue)}},{key:"onChangeSearchInput",value:function e(t){this.filter(t.target.value)}},{key:"onHover",value:function e(t){this.setState({hoveredItem:t});var n=this.props,r=n.showInsertionPoint,o=n.hideInsertionPoint;if(t){var i=this.props,c,a;r(i.rootClientId,i.index)}else o()}},{key:"bindPanel",value:function e(t){var n=this;return function(e){n.panels[t]=e}}},{key:"onTogglePanel",value:function e(t){var n=this;return function(){var e;-1!==n.state.openPanels.indexOf(t)?n.setState({openPanels:Object(F.without)(n.state.openPanels,t)}):(n.setState({openPanels:Object(R.a)(n.state.openPanels).concat([t])}),n.props.setTimeout(function(){Ac()(n.panels[t],n.inserterResults.current,{alignWithTop:!0})}))}}},{key:"filter",value:function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=this.props,r=n.debouncedSpeak,o=n.items,i=n.rootChildBlocks,c=$c(o,t),a=Object(F.filter)(c,function(e){var t=e.name;return Object(F.includes)(i,t)}),s=[];if(!t){var l=this.props.maxSuggestedItems||9;s=Object(F.filter)(o,function(e){return 0<e.utility}).slice(0,l)}var u=Object(F.filter)(c,{category:"reusable"}),d=function e(t){return Object(F.findIndex)(Object($.getCategories)(),function(e){return e.slug===t.category})},p=Object(F.flow)(function(e){return Object(F.filter)(e,function(e){return"reusable"!==e.category})},function(e){return Object(F.sortBy)(e,d)},function(e){return Object(F.groupBy)(e,"category")})(c),b=this.state.openPanels;if(t!==this.state.filterValue)if(t){if(u.length)b=["reusable"];else if(c.length){var f;b=[Object(F.find)(Object($.getCategories)(),function(e){var t=e.slug;return p[t]&&p[t].length}).slug]}}else b=["suggested"]
;this.setState({hoveredItem:null,childItems:a,filterValue:t,suggestedItems:s,reusableItems:u,itemsPerCategory:p,openPanels:b});var h=Object.keys(p).reduce(function(e,t){return e+p[t].length},0),m;r(Object(Q.sprintf)(Object(Q._n)("%d result found.","%d results found.",h),h),"assertive")}},{key:"onKeyDown",value:function e(t){Object(F.includes)([bi.LEFT,bi.DOWN,bi.RIGHT,bi.UP,bi.BACKSPACE,bi.ENTER],t.keyCode)&&t.stopPropagation()}},{key:"render",value:function e(){var n=this,t=this.props,r=t.instanceId,o=t.onSelect,i=t.rootClientId,c=this.state,a=c.childItems,s=c.filterValue,l=c.hoveredItem,u=c.suggestedItems,d=c.reusableItems,p=c.itemsPerCategory,b=c.openPanels,f=function e(t){return-1!==b.indexOf(t)},h=!!s;return Object(vo.createElement)("div",{className:"editor-inserter__menu",onKeyPress:Gc,onKeyDown:this.onKeyDown},Object(vo.createElement)("label",{htmlFor:"editor-inserter__search-".concat(r),className:"screen-reader-text"},Object(Q.__)("Search for a block")),Object(vo.createElement)("input",{id:"editor-inserter__search-".concat(r),type:"search",placeholder:Object(Q.__)("Search for a block"),className:"editor-inserter__search",autoFocus:!0,onChange:this.onChangeSearchInput}),Object(vo.createElement)("div",{className:"editor-inserter__results",ref:this.inserterResults,tabIndex:"0",role:"region","aria-label":Object(Q.__)("Available block types")},Object(vo.createElement)(Kc,{rootClientId:i,items:a,onSelect:o,onHover:this.onHover}),!!u.length&&Object(vo.createElement)(To.PanelBody,{title:Object(Q._x)("Most Used","blocks"),opened:f("suggested"),onToggle:this.onTogglePanel("suggested"),ref:this.bindPanel("suggested")},Object(vo.createElement)(Hc,{items:u,onSelect:o,onHover:this.onHover})),Object(vo.createElement)(Wc,{filterValue:s}),Object(F.map)(Object($.getCategories)(),function(e){var t=p[e.slug];return t&&t.length?Object(vo.createElement)(To.PanelBody,{key:e.slug,title:e.title,icon:e.icon,opened:h||f(e.slug),onToggle:n.onTogglePanel(e.slug),ref:n.bindPanel(e.slug)},Object(vo.createElement)(Hc,{items:t,onSelect:o,onHover:n.onHover})):null}),!!d.length&&Object(vo.createElement)(To.PanelBody,{className:"editor-inserter__reusable-blocks-panel",title:Object(Q.__)("Reusable"),opened:f("reusable"),onToggle:this.onTogglePanel("reusable"),icon:"controls-repeat",ref:this.bindPanel("reusable")},Object(vo.createElement)(Hc,{items:d,onSelect:o,onHover:this.onHover}),Object(vo.createElement)("a",{className:"editor-inserter__manage-reusable-blocks",href:"edit.php?post_type=wp_block"},Object(Q.__)("Manage All Reusable Blocks"))),Object(F.isEmpty)(u)&&Object(F.isEmpty)(d)&&Object(F.isEmpty)(p)&&Object(vo.createElement)("p",{className:"editor-inserter__no-results"},Object(Q.__)("No blocks found."))),l&&Object($.isReusableBlock)(l)&&Object(vo.createElement)(Dc,{name:l.name,attributes:l.initialAttributes}))}}]),t}(vo.Component),Xc=Object(jo.compose)(Object(g.withSelect)(function(e,t){var n=t.rootClientId,r=e("core/editor"),o=r.getEditedPostAttribute,i=r.getSelectedBlock,c=r.getInserterItems,a=r.getBlockName,s,l=e("core/blocks").getChildBlockNames,u=a(n);return{selectedBlock:i(),rootChildBlocks:l(u),title:o("title"),items:c(n),rootClientId:n}}),Object(g.withDispatch)(function(d,p){var e=d("core/editor"),t,n,r;return{fetchReusableBlocks:e.__experimentalFetchReusableBlocks,showInsertionPoint:e.showInsertionPoint,hideInsertionPoint:e.hideInsertionPoint,onSelect:function e(t){var n=d("core/editor"),r=n.replaceBlocks,o=n.insertBlock,i=p.selectedBlock,c=p.index,a=p.rootClientId,s=t.name,l=t.initialAttributes,u=Object($.createBlock)(s,l);i&&Object($.isUnmodifiedDefaultBlock)(i)?r(i.clientId,u):o(u,c,a),p.onSelect()}}}),To.withSpokenMessages,jo.withInstanceId,jo.withSafeTimeout)(Qc),Jc=function e(t){var n=t.onToggle,r=t.disabled,o=t.isOpen;return Object(vo.createElement)(To.IconButton,{icon:"insert",label:Object(Q.__)("Add block"),labelPosition:"bottom",onClick:n,className:"editor-inserter__toggle","aria-haspopup":"true","aria-expanded":o,disabled:r})},Zc=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).onToggle=e.onToggle.bind(Object(wo.a)(Object(wo.a)(e))),e.renderToggle=e.renderToggle.bind(Object(wo.a)(Object(wo.a)(e))),e.renderContent=e.renderContent.bind(Object(wo.a)(Object(wo.a)(e))),e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"onToggle",value:function e(t){var e=this.props.onToggle;e&&e(t)}},{key:"renderToggle",value:function e(t){var n=t.onToggle,r=t.isOpen,o=this.props,i=o.disabled,c=o.renderToggle,e=void 0===c?Jc:c;return e({onToggle:n,isOpen:r,disabled:i})}},{key:"renderContent",value:function e(t){var n=t.onClose,r=this.props,o=r.rootClientId,i=r.index;return Object(vo.createElement)(Xc,{onSelect:n,rootClientId:o,index:i})}},{key:"render",value:function e(){var t=this.props,n=t.position,r=t.title;return Object(vo.createElement)(To.Dropdown,{className:"editor-inserter",contentClassName:"editor-inserter__popover",position:n,onToggle:this.onToggle,expandOnMobile:!0,headerTitle:r,renderToggle:this.renderToggle,renderContent:this.renderContent})}}]),t}(vo.Component),ea=Object(jo.compose)([Object(g.withSelect)(function(e,t){var n=t.rootClientId,r=t.index,o=e("core/editor"),i=o.getEditedPostAttribute,c=o.getBlockInsertionPoint,a=o.hasInserterItems;if(void 0===n&&void 0===r){var s=c();n=s.rootClientId,r=s.index}return{title:i("title"),hasItems:a(n),rootClientId:n,index:r}}),Object(jo.ifCondition)(function(e){var t;return e.hasItems})])(Zc);function ta(e){var t=e.clientId;return Object(vo.createElement)("div",{className:"editor-block-list__block-mobile-toolbar"},Object(vo.createElement)(ea,null),Object(vo.createElement)($i,{clientIds:[t]}))}var na=Object(a.ifViewportMatches)("< small")(ta),ra=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).state={isInserterFocused:!1},e.onBlurInserter=e.onBlurInserter.bind(Object(wo.a)(Object(wo.a)(e))),e.onFocusInserter=e.onFocusInserter.bind(Object(wo.a)(Object(wo.a)(e))),e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"onFocusInserter",value:function e(t){t.stopPropagation(),this.setState({isInserterFocused:!0})}},{key:"onBlurInserter",value:function e(){this.setState({isInserterFocused:!1})}},{key:"render",value:function e(){var t=this.state.isInserterFocused,n=this.props,r=n.showInsertionPoint,o=n.rootClientId,i=n.insertIndex;return Object(vo.createElement)("div",{className:"editor-block-list__insertion-point"},r&&Object(vo.createElement)("div",{className:"editor-block-list__insertion-point-indicator"}),Object(vo.createElement)("div",{onFocus:this.onFocusInserter,onBlur:this.onBlurInserter,tabIndex:-1,className:go()("editor-block-list__insertion-point-inserter",{"is-visible":t})},Object(vo.createElement)(ea,{rootClientId:o,index:i})))}}]),t}(vo.Component),oa=Object(g.withSelect)(function(e,t){var n=t.clientId,r=t.rootClientId,o=e("core/editor"),i=o.getBlockIndex,c=o.getBlockInsertionPoint,a=o.isBlockInsertionPointVisible,s,l=i(n,r),u=c(),d;return{showInsertionPoint:a()&&u.index===l&&u.rootClientId===r,insertIndex:l}})(ra),ia=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).proxyEvent=e.proxyEvent.bind(Object(wo.a)(Object(wo.a)(e))),e.eventMap={},e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"proxyEvent",value:function e(t){var n=!!t.nativeEvent._blockHandled;t.nativeEvent._blockHandled=!0;var r=this.eventMap[t.type];n&&(r+="Handled"),this.props[r]&&this.props[r](t)}},{key:"render",value:function e(){var i=this,t=this.props,n=t.childHandledEvents,r=void 0===n?[]:n,o=t.forwardedRef,c=Object(O.a)(t,["childHandledEvents","forwardedRef"]),a=Object(F.reduce)(Object(R.a)(r).concat(Object(R.a)(Object.keys(c))),function(e,t){var n=t.match(/^on([A-Z][a-zA-Z]+?)(Handled)?$/);if(n){var r;!!n[2]&&delete c[t];var o="on"+n[1];e[o]=i.proxyEvent,i.eventMap[n[1].toLowerCase()]=o}return e},{});return Object(vo.createElement)("div",Object(mo.a)({ref:o},c,a))}}]),t}(vo.Component),ca=function e(t,n){return Object(vo.createElement)(ia,Object(mo.a)({},t,{forwardedRef:n}))};ca.displayName="IgnoreNestedEvents";var aa=Object(vo.forwardRef)(ca);function sa(e){var t=e.items,n=e.isLocked,r=e.onInsert;if(n)return null;var o=Object(F.filter)(t,function(e){return!(e.isDisabled||e.name===Object($.getDefaultBlockName)()&&Object(F.isEmpty)(e.initialAttributes))}).slice(0,3);return Object(vo.createElement)("div",{className:"editor-inserter-with-shortcuts"},o.map(function(t){return Object(vo.createElement)(To.IconButton,{key:t.id,className:"editor-inserter-with-shortcuts__block",onClick:function e(){return r(t)},label:Object(Q.sprintf)(Object(Q.__)("Add %s"),t.title),icon:Object(vo.createElement)(Do,{icon:t.icon})})}))}var la=Object(jo.compose)(Object(g.withSelect)(function(e,t){var n=t.rootClientId,r=e("core/editor"),o=r.getInserterItems,i=r.getTemplateLock;return{items:o(n),isLocked:!!i(n)}}),Object(g.withDispatch)(function(i,e){var c=e.clientId,a=e.rootClientId;return{onInsert:function e(t){var n=t.name,r=t.initialAttributes,o=Object($.createBlock)(n,r);c?i("core/editor").replaceBlocks(c,o):i("core/editor").insertBlock(o,void 0,a)}}}))(sa),ua=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).state={hoverArea:null},e.onMouseLeave=e.onMouseLeave.bind(Object(wo.a)(Object(wo.a)(e))),e.onMouseMove=e.onMouseMove.bind(Object(wo.a)(Object(wo.a)(e))),e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"componentWillUnmount",value:function e(){this.props.container&&this.toggleListeners(this.props.container,!1)}},{key:"componentDidMount",value:function e(){this.props.container&&this.toggleListeners(this.props.container)}},{key:"componentDidUpdate",value:function e(t){t.container!==this.props.container&&(t.container&&this.toggleListeners(t.container,!1),this.props.container&&this.toggleListeners(this.props.container,!0))}},{key:"toggleListeners",value:function e(t){var n,r=!(1<arguments.length&&void 0!==arguments[1])||arguments[1]?"addEventListener":"removeEventListener";t[r]("mousemove",this.onMouseMove),t[r]("mouseleave",this.onMouseLeave)}},{key:"onMouseLeave",value:function e(){this.state.hoverArea&&this.setState({hoverArea:null})}},{key:"onMouseMove",value:function e(t){var n=this.props,r=n.isRTL,o,i=n.container.getBoundingClientRect(),c=i.width,a=i.left,s=i.right,l=null;t.clientX-a<c/3?l=r?"right":"left":s-t.clientX<c/3&&(l=r?"left":"right"),l!==this.state.hoverArea&&this.setState({hoverArea:l})}},{key:"render",value:function e(){var t=this.state.hoverArea,n;return(0,this.props.children)({hoverArea:t})}}]),t}(vo.Component),da=Object(g.withSelect)(function(e){return{isRTL:e("core/editor").getEditorSettings().isRTL}})(ua);function pa(e){return document.querySelector('[data-block="'+e+'"]')}function ba(e){return pa(e).closest(".editor-block-list__block")}function fa(e){return e.classList.contains("editor-block-list__block")}function ha(e,t){return e.closest("[data-block]")===t.closest("[data-block]")}function ma(e,t){var n=e.querySelector(".editor-block-list__layout");return e.contains(t)&&(!n||!n.contains(t))}function va(e){return!!e.querySelector(".editor-block-list__layout")}var Oa=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).setBlockListRef=e.setBlockListRef.bind(Object(wo.a)(Object(wo.a)(e))),e.bindBlockNode=e.bindBlockNode.bind(Object(wo.a)(Object(wo.a)(e))),e.setAttributes=e.setAttributes.bind(Object(wo.a)(Object(wo.a)(e))),e.maybeHover=e.maybeHover.bind(Object(wo.a)(Object(wo.a)(e))),e.forceFocusedContextualToolbar=e.forceFocusedContextualToolbar.bind(Object(wo.a)(Object(wo.a)(e))),e.hideHoverEffects=e.hideHoverEffects.bind(Object(wo.a)(Object(wo.a)(e))),e.mergeBlocks=e.mergeBlocks.bind(Object(wo.a)(Object(wo.a)(e))),e.insertBlocksAfter=e.insertBlocksAfter.bind(Object(wo.a)(Object(wo.a)(e))),e.onFocus=e.onFocus.bind(Object(wo.a)(Object(wo.a)(e))),e.preventDrag=e.preventDrag.bind(Object(wo.a)(Object(wo.a)(e))),e.onPointerDown=e.onPointerDown.bind(Object(wo.a)(Object(wo.a)(e))),e.deleteOrInsertAfterWrapper=e.deleteOrInsertAfterWrapper.bind(Object(wo.a)(Object(wo.a)(e))),e.onBlockError=e.onBlockError.bind(Object(wo.a)(Object(wo.a)(e))),e.onTouchStart=e.onTouchStart.bind(Object(wo.a)(Object(wo.a)(e))),e.onClick=e.onClick.bind(Object(wo.a)(Object(wo.a)(e))),e.onDragStart=e.onDragStart.bind(Object(wo.a)(Object(wo.a)(e))),e.onDragEnd=e.onDragEnd.bind(Object(wo.a)(Object(wo.a)(e))),e.selectOnOpen=e.selectOnOpen.bind(Object(wo.a)(Object(wo.a)(e))),e.hadTouchStart=!1,e.state={error:null,dragging:!1,isHovered:!1},e.isForcingContextualToolbar=!1,e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"componentDidMount",value:function e(){this.props.isSelected&&this.focusTabbable()}},{key:"componentDidUpdate",value:function e(t){this.isForcingContextualToolbar&&(this.isForcingContextualToolbar=!1),(this.props.isTypingWithinBlock||this.props.isSelected)&&this.hideHoverEffects(),this.props.isSelected&&!t.isSelected&&this.focusTabbable(!0),this.props.isFirstMultiSelected&&!t.isFirstMultiSelected&&this.wrapperNode.focus()}},{key:"setBlockListRef",value:function e(t){this.wrapperNode=t,this.props.blockRef(t,this.props.clientId),this.forceUpdate()}},{key:"bindBlockNode",value:function e(t){this.node=t}},{key:"focusTabbable",value:function e(t){var n=this,r=this.props.initialPosition;if(!this.wrapperNode.contains(document.activeElement)){var o=Fi.focus.tabbable.find(this.node).filter(Fi.isTextField).filter(function(e){return!t||ma(n.node,e)}),i=-1===r,c=(i?F.last:F.first)(o);c?(c.focus(),i&&(Object(Fi.placeCaretAtHorizontalEdge)(c,!0),Object(Fi.placeCaretAtVerticalEdge)(c,!0))):this.wrapperNode.focus()}}},{key:"setAttributes",value:function e(t){var n=this.props,r=n.clientId,o=n.name,i=n.onChange,c=Object($.getBlockType)(o);i(r,t);var a=Object(F.reduce)(t,function(e,t,n){return"meta"===Object(F.get)(c,["attributes",n,"source"])&&(e[c.attributes[n].meta]=t),e},{});Object(F.size)(a)&&this.props.onMetaChange(a)}},{key:"onTouchStart",value:function e(){this.hadTouchStart=!0}},{key:"onClick",value:function e(){this.hadTouchStart=!1}},{key:"maybeHover",value:function e(){var t=this.props,n=t.isPartOfMultiSelection,r=t.isSelected,o;this.state.isHovered||n||r||this.props.isMultiSelecting||this.hadTouchStart||this.setState({isHovered:!0})}},{key:"hideHoverEffects",value:function e(){this.state.isHovered&&this.setState({isHovered:!1})}},{key:"mergeBlocks",value:function e(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=this.props,r=n.clientId,o=n.getPreviousBlockClientId,i=n.getNextBlockClientId,c=n.onMerge,a=o(r),s=i(r);!t&&!a||t&&!s||(t?c(r,s):c(a,r))}},{key:"insertBlocksAfter",value:function e(t){this.props.onInsertBlocks(t,this.props.order+1)}},{key:"onFocus",value:function e(){this.props.isSelected||this.props.isPartOfMultiSelection||this.props.onSelect()}},{key:"preventDrag",value:function e(t){t.preventDefault()}},{key:"onPointerDown",value:function e(t){0===t.button&&(t.shiftKey?this.props.isSelected||(this.props.onShiftSelection(),t.preventDefault()):(this.props.onSelectionStart(this.props.clientId),this.props.isPartOfMultiSelection&&this.props.onSelect()))}},{key:"deleteOrInsertAfterWrapper",value:function e(t){var n=t.keyCode,r=t.target;if(this.props.isSelected&&r===this.wrapperNode&&!this.props.isLocked)switch(n){case bi.ENTER:this.props.onInsertDefaultBlockAfter(),t.preventDefault();break;case bi.BACKSPACE:case bi.DELETE:var o=this.props,i=o.clientId,c;(0,o.onRemove)(i),t.preventDefault()}}},{key:"onBlockError",value:function e(t){this.setState({error:t})}},{key:"onDragStart",value:function e(){this.setState({dragging:!0})}},{key:"onDragEnd",value:function e(){this.setState({dragging:!1})}},{key:"selectOnOpen",value:function e(t){t&&!this.props.isSelected&&this.props.onSelect()}},{key:"forceFocusedContextualToolbar",value:function e(){this.isForcingContextualToolbar=!0,this.setState(function(){return{}})}},{key:"render",value:function e(){var G=this;return Object(vo.createElement)(da,{container:this.wrapperNode},function(e){var t=e.hoverArea,n=G.props,r=n.order,o=n.mode,i=n.isFocusMode,c=n.hasFixedToolbar,a=n.isLocked,s=n.isFirst,l=n.isLast,u=n.clientId,d=n.rootClientId,p=n.isSelected,b=n.isPartOfMultiSelection,f=n.isFirstMultiSelected,h=n.isTypingWithinBlock,m=n.isCaretWithinFormattedText,v=n.isMultiSelecting,O=n.isEmptyDefaultBlock,g=n.isMovable,j=n.isParentOfSelectedBlock,y=n.isDraggable,k=n.className,_=n.name,E=n.isValid,S=n.attributes,C=G.state.isHovered&&!v,w=Object($.getBlockType)(_),T=Object(Q.sprintf)(Object(Q.__)("Block: %s"),w.title),P=_===Object($.getUnregisteredTypeHandlerName)(),I=(p||C)&&O&&E,B=(p||C)&&O,x=!i&&!B&&p&&!h,L=!i&&!c&&C&&!O,A=!i&&(p||"left"===t)&&!I&&!v&&!b&&!h,N=!i&&C&&!O,R=!c&&!B&&(p&&(!h||m)||f),D=x,F=G.state,M=F.error,U=F.dragging,H=b&&f||!b,V=go()("wp-block editor-block-list__block",{"has-warning":!E||!!M||P,"is-selected":x,"is-multi-selected":b,"is-hovered":L,"is-reusable":Object($.isReusableBlock)(w),"is-dragging":U,"is-typing":h,"is-focused":i&&(p||j),"is-focus-mode":i},k),K=G.props.onReplace,z=G.props.wrapperProps;w.getEditWrapperProps&&(z=Object(Y.a)({},z,w.getEditWrapperProps(S)));var W="block-".concat(u),q=Object(vo.createElement)(ai,{name:_,isSelected:p,attributes:S,setAttributes:G.setAttributes,insertBlocksAfter:a?void 0:G.insertBlocksAfter,onReplace:a?void 0:K,mergeBlocks:a?void 0:G.mergeBlocks,clientId:u,isSelectionEnabled:G.props.isSelectionEnabled,toggleSelection:G.props.toggleSelection});return"visual"!==o&&(q=Object(vo.createElement)("div",{style:{display:"none"}},q)),Object(vo.createElement)(aa,Object(mo.a)({id:W,ref:G.setBlockListRef,onMouseOver:G.maybeHover,onMouseOverHandled:G.hideHoverEffects,onMouseLeave:G.hideHoverEffects,className:V,"data-type":_,onTouchStart:G.onTouchStart,onFocus:G.onFocus,onClick:G.onClick,onKeyDown:G.deleteOrInsertAfterWrapper,tabIndex:"0","aria-label":T,childHandledEvents:["onDragStart","onMouseDown"]},z),H&&Object(vo.createElement)(oa,{clientId:u,rootClientId:d}),Object(vo.createElement)(Zi,{index:r,clientId:u,rootClientId:d}),A&&Object(vo.createElement)($i,{clientIds:u,blockElementId:W,isFirst:s,isLast:l,isHidden:!(C||p)||"left"!==t,isDraggable:!1!==y&&!b&&g,onDragStart:G.onDragStart,onDragEnd:G.onDragEnd}),f&&Object(vo.createElement)(xc,{rootClientId:d}),Object(vo.createElement)("div",{className:"editor-block-list__block-edit"},N&&Object(vo.createElement)(_c,{clientId:u,isHidden:!(C||p)||"left"!==t}),(R||G.isForcingContextualToolbar)&&Object(vo.createElement)(Ic,{focusOnMount:G.isForcingContextualToolbar}),!R&&p&&!c&&!O&&Object(vo.createElement)(To.KeyboardShortcuts,{bindGlobal:!0,eventName:"keydown",shortcuts:{"alt+f10":G.forceFocusedContextualToolbar}}),Object(vo.createElement)(aa,{ref:G.bindBlockNode,onDragStart:G.preventDrag,onMouseDown:G.onPointerDown,"data-block":u},Object(vo.createElement)(hc,{onError:G.onBlockError},E&&q,E&&"html"===o&&Object(vo.createElement)(gc,{clientId:u}),!E&&[Object(vo.createElement)(dc,{key:"invalid-warning",clientId:u}),Object(vo.createElement)("div",{key:"invalid-preview"},Object($.getSaveElement)(w,S))]),D&&Object(vo.createElement)(na,{clientId:u}),!!M&&Object(vo.createElement)(bc,null))),I&&Object(vo.createElement)(vo.Fragment,null,Object(vo.createElement)("div",{className:"editor-block-list__side-inserter"},Object(vo.createElement)(la,{clientId:u,rootClientId:d,onToggle:G.selectOnOpen})),Object(vo.createElement)("div",{className:"editor-block-list__empty-block-inserter"},Object(vo.createElement)(ea,{position:"top right",onToggle:G.selectOnOpen}))))})}}]),t}(vo.Component),ga=Object(g.withSelect)(function(e,t){var n=t.clientId,r=t.rootClientId,o=t.isLargeViewport,i=e("core/editor"),c=i.isBlockSelected,a=i.isAncestorMultiSelected,s=i.isBlockMultiSelected,l=i.isFirstMultiSelectedBlock,u=i.isMultiSelecting,d=i.isTyping,p=i.isCaretWithinFormattedText,b=i.getBlockIndex,f=i.getBlockMode,h=i.isSelectionEnabled,m=i.getSelectedBlocksInitialCaretPosition,v=i.getEditorSettings,O=i.hasSelectedInnerBlock,g=i.getTemplateLock,j=i.getPreviousBlockClientId,y=i.getNextBlockClientId,k,_=(0,i.__unstableGetBlockWithoutInnerBlocks)(n),E=c(n),S=v(),C=S.hasFixedToolbar,w=S.focusMode,T=g(r),P=O(n,!0),I=_||{},B=I.name,x=I.attributes,L=I.isValid;return{isPartOfMultiSelection:s(n)||a(n),isFirstMultiSelected:l(n),isMultiSelecting:u(),isTypingWithinBlock:(E||P)&&d(),isCaretWithinFormattedText:p(),order:b(n,r),mode:f(n),isSelectionEnabled:h(),initialPosition:m(),isEmptyDefaultBlock:B&&Object($.isUnmodifiedDefaultBlock)({name:B,attributes:x}),isMovable:"all"!==T,isLocked:!!T,isFocusMode:w&&o,hasFixedToolbar:C&&o,block:_,name:B,attributes:x,isValid:L,isSelected:E,isParentOfSelectedBlock:P,getPreviousBlockClientId:j,getNextBlockClientId:y}}),ja=Object(g.withDispatch)(function(e,o,t){var n,r,i=(0,t.select)("core/editor").getBlockSelectionStart,c=e("core/editor"),a=c.updateBlockAttributes,s=c.selectBlock,l=c.multiSelect,u=c.insertBlocks,d=c.insertDefaultBlock,p=c.removeBlock,b=c.mergeBlocks,f=c.replaceBlocks,h=c.editPost,m=c.toggleSelection;return{onChange:function e(t,n){a(t,n)},onSelect:function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:o.clientId,n=1<arguments.length?arguments[1]:void 0;s(t,n)},onInsertBlocks:function e(t,n){var r=o.rootClientId;u(t,n,r)},onInsertDefaultBlockAfter:function e(){var t=o.order,n=o.rootClientId;d({},n,t+1)},onRemove:function e(t){p(t)},onMerge:function e(){b.apply(void 0,arguments)},onReplace:function e(t){f([o.clientId],t)},onMetaChange:function e(t){h({meta:t})},onShiftSelection:function e(){o.isSelectionEnabled&&(i()?l(i(),o.clientId):s(o.clientId))},toggleSelection:function e(t){m(t)}}}),ya=Object(jo.compose)(Object(a.withViewportMatch)({isLargeViewport:"medium"}),ga,ja,Object(To.withFilters)("editor.BlockListBlock"))(Oa),ka=n(49);function _a(e){var t=e.isLocked,n=e.isVisible,r=e.onAppend,o=e.showPrompt,i=e.placeholder,c=e.rootClientId,a=e.hovered,s=e.setState;if(t||!n)return null;var l=Object(ka.decodeEntities)(i)||Object(Q.__)("Start writing or type / to choose a block");return Object(vo.createElement)("div",{"data-root-client-id":c||"",className:"wp-block editor-default-block-appender",onMouseEnter:function e(){return s({hovered:!0})},onMouseLeave:function e(){return s({hovered:!1})}},Object(vo.createElement)(Zi,{rootClientId:c}),Object(vo.createElement)(vc.a,{role:"button","aria-label":Object(Q.__)("Add block"),className:"editor-default-block-appender__content",readOnly:!0,onFocus:r,value:o?l:""}),a&&Object(vo.createElement)(la,{rootClientId:c}),Object(vo.createElement)(ea,{position:"top right"}))}var Ea=Object(jo.compose)(Object(jo.withState)({hovered:!1}),Object(g.withSelect)(function(e,t){var n=e("core/editor"),r=n.getBlockCount,o=n.getBlockName,i=n.isBlockValid,c=n.getEditorSettings,a=n.getTemplateLock,s=!r(t.rootClientId),l=o(t.lastBlockClientId)===Object($.getDefaultBlockName)(),u=i(t.lastBlockClientId),d,p=c().bodyPlaceholder;return{isVisible:s||!l||!u,showPrompt:s,isLocked:!!a(t.rootClientId),placeholder:p}}),Object(g.withDispatch)(function(e,n){var t=e("core/editor"),r=t.insertDefaultBlock,o=t.startTyping;return{onAppend:function e(){var t=n.rootClientId;r(void 0,t),o()}}}))(_a);function Sa(e){var t=e.blockClientIds,n=e.rootClientId,r=e.canInsertDefaultBlock,o;return e.isLocked?null:r?Object(vo.createElement)(aa,{childHandledEvents:["onFocus","onClick","onKeyDown"]},Object(vo.createElement)(Ea,{rootClientId:n,lastBlockClientId:Object(F.last)(t)})):Object(vo.createElement)("div",{className:"block-list-appender"},Object(vo.createElement)(ea,{rootClientId:n,renderToggle:function e(t){var n=t.onToggle,r=t.disabled,o=t.isOpen;return Object(vo.createElement)(To.Button,{"aria-label":Object(Q.__)("Add block"),onClick:n,className:"block-list-appender__toggle","aria-haspopup":"true","aria-expanded":o,disabled:r},Object(vo.createElement)(To.Dashicon,{icon:"insert"}))}}))}var Ca=Object(g.withSelect)(function(e,t){var n=t.rootClientId,r=e("core/editor"),o=r.getBlockOrder,i=r.canInsertBlockType,c;return{isLocked:!!(0,r.getTemplateLock)(n),blockClientIds:o(n),canInsertDefaultBlock:i(Object($.getDefaultBlockName)(),n)}})(Sa),wa=function(e){function n(e){var t;return Object(ko.a)(this,n),(t=Object(Eo.a)(this,Object(So.a)(n).call(this,e))).onSelectionStart=t.onSelectionStart.bind(Object(wo.a)(Object(wo.a)(t))),t.onSelectionEnd=t.onSelectionEnd.bind(Object(wo.a)(Object(wo.a)(t))),t.setBlockRef=t.setBlockRef.bind(Object(wo.a)(Object(wo.a)(t))),t.setLastClientY=t.setLastClientY.bind(Object(wo.a)(Object(wo.a)(t))),t.onPointerMove=Object(F.throttle)(t.onPointerMove.bind(Object(wo.a)(Object(wo.a)(t))),100),t.onScroll=function(){return t.onPointerMove({clientY:t.lastClientY})},t.lastClientY=0,t.nodes={},t}return Object(Co.a)(n,e),Object(_o.a)(n,[{key:"componentDidMount",value:function e(){window.addEventListener("mousemove",this.setLastClientY)}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("mousemove",this.setLastClientY)}},{key:"setLastClientY",value:function e(t){var n=t.clientY;this.lastClientY=n}},{key:"setBlockRef",value:function e(t,n){null===t?delete this.nodes[n]:this.nodes=Object(Y.a)({},this.nodes,Object(D.a)({},n,t))}},{key:"onPointerMove",value:function e(t){var n=t.clientY;this.props.isMultiSelecting||this.props.onStartMultiSelect();var r=pa(this.selectionAtStart).getBoundingClientRect();if(!(n>=r.top&&n<=r.bottom)){var o=n-r.top,i=Object(F.findLast)(this.coordMapKeys,function(e){return e<o});this.onSelectionChange(this.coordMap[i])}}},{key:"onSelectionStart",value:function e(t){if(this.props.isSelectionEnabled){var n=this.nodes[t].getBoundingClientRect(),r=Object(F.mapValues)(this.nodes,function(e){return e.getBoundingClientRect().top-n.top});this.coordMap=Object(F.invert)(r),this.coordMapKeys=Object(F.sortBy)(Object.values(r)),this.selectionAtStart=t,window.addEventListener("mousemove",this.onPointerMove),window.addEventListener("scroll",this.onScroll,!0),window.addEventListener("mouseup",this.onSelectionEnd)}}},{key:"onSelectionChange",value:function e(t){var n=this.props,r=n.onMultiSelect,o=n.selectionStart,i=n.selectionEnd,c=this.selectionAtStart,a=c===t;c&&this.props.isSelectionEnabled&&(a&&o&&r(null,null),a||i===t||r(c,t))}},{key:"onSelectionEnd",value:function e(){this.onPointerMove.cancel(),delete this.coordMap,delete this.coordMapKeys,delete this.selectionAtStart,window.removeEventListener("mousemove",this.onPointerMove),window.removeEventListener("scroll",this.onScroll,!0),window.removeEventListener("mouseup",this.onSelectionEnd),this.props.isMultiSelecting&&this.props.onStopMultiSelect()}},{key:"render",value:function e(){var n=this,t=this.props,r=t.blockClientIds,o=t.rootClientId,i=t.isDraggable;return Object(vo.createElement)("div",{className:"editor-block-list__layout"},Object(F.map)(r,function(e,t){return Object(vo.createElement)(ya,{key:"block-"+e,index:t,clientId:e,blockRef:n.setBlockRef,onSelectionStart:n.onSelectionStart,rootClientId:o,isFirst:0===t,isLast:t===r.length-1,isDraggable:i})}),Object(vo.createElement)(Ca,{rootClientId:o}))}}]),n}(vo.Component),Ta=Object(jo.compose)([Object(g.withSelect)(function(e,t){var n=e("core/editor"),r=n.getBlockOrder,o=n.isSelectionEnabled,i=n.isMultiSelecting,c=n.getMultiSelectedBlocksStartClientId,a=n.getMultiSelectedBlocksEndClientId,s;return{blockClientIds:r(t.rootClientId),selectionStart:c(),selectionEnd:a(),isSelectionEnabled:o(),isMultiSelecting:i()}}),Object(g.withDispatch)(function(e){var t=e("core/editor"),n,r,o;return{onStartMultiSelect:t.startMultiSelect,onStopMultiSelect:t.stopMultiSelect,onMultiSelect:t.multiSelect}})])(wa),Pa=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).state={templateInProcess:!!e.props.template},e.updateNestedSettings(),e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"getTemplateLock",value:function e(){var t=this.props,n=t.templateLock,r=t.parentLock;return void 0===n?r:n}},{key:"componentDidMount",value:function e(){var t;0!==this.props.block.innerBlocks.length&&"all"!==this.getTemplateLock()||this.synchronizeBlocksWithTemplate(),this.state.templateInProcess&&this.setState({templateInProcess:!1})}},{key:"componentDidUpdate",value:function e(t){var n=this.props,r=n.template,o,i=n.block.innerBlocks,c;(this.updateNestedSettings(),0===i.length||"all"===this.getTemplateLock())&&(!Object(F.isEqual)(r,t.template)&&this.synchronizeBlocksWithTemplate())}},{key:"synchronizeBlocksWithTemplate",value:function e(){var t=this.props,n=t.template,r=t.block,o=t.replaceInnerBlocks,i=r.innerBlocks,c=Object($.synchronizeBlocksWithTemplate)(i,n);Object(F.isEqual)(c,i)||o(c)}},{key:"updateNestedSettings",value:function e(){var t=this.props,n=t.blockListSettings,r=t.allowedBlocks,e=t.updateNestedSettings,o={allowedBlocks:r,templateLock:this.getTemplateLock()};Di()(n,o)||e(o)}},{key:"render",value:function e(){var t=this.props,n=t.clientId,r=t.isSmallScreen,o=t.isSelectedBlockInRoot,i=this.state.templateInProcess,c=go()("editor-inner-blocks",{"has-overlay":r&&!o});return Object(vo.createElement)("div",{className:c},!i&&Object(vo.createElement)(Ta,{rootClientId:n}))}}]),t}(vo.Component);(Pa=Object(jo.compose)([xo(function(e){return Object(F.pick)(e,["clientId"])}),Object(a.withViewportMatch)({isSmallScreen:"< medium"}),Object(g.withSelect)(function(e,t){var n=e("core/editor"),r=n.isBlockSelected,o=n.hasSelectedInnerBlock,i=n.getBlock,c=n.getBlockListSettings,a=n.getBlockRootClientId,s=n.getTemplateLock,l=t.clientId,u=a(l);return{isSelectedBlockInRoot:r(l)||o(l),block:i(l),blockListSettings:c(l),parentLock:s(u)}}),Object(g.withDispatch)(function(n,e){var t=n("core/editor"),r=t.replaceBlocks,o=t.insertBlocks,i=t.updateBlockListSettings,c=e.block,a=e.clientId,s=e.templateInsertUpdatesSelection,l=void 0===s||s;return{replaceInnerBlocks:function e(t){var n=Object(F.map)(c.innerBlocks,"clientId");n.length?r(n,t):o(t,void 0,a,l)},updateNestedSettings:function e(t){n(i(a,t))}}})])(Pa)).Content=Object($.withBlockContentContext)(function(e){var t=e.BlockContent;return Object(vo.createElement)(t,null)});var Ia=Pa,Ba=Object(To.createSlotFill)("InspectorAdvancedControls"),xa=Ba.Fill,La=Ba.Slot,Aa=Lo(xa);Aa.Slot=La;var Na=Aa,Ra=Object(To.createSlotFill)("InspectorControls"),Da=Ra.Fill,Fa=Ra.Slot,Ma=Lo(Da);Ma.Slot=Fa;var Ua=Ma,Ha=Object(Q.__)("(current %s: %s)");function Va(e){var t=e.colors,n=e.disableCustomColors,r=e.label,o=e.onChange,i=e.value,c=Si(t,i),a=c&&c.name,s=Object(Q.sprintf)(Ha,r.toLowerCase(),a||i),l=Object(vo.createElement)(vo.Fragment,null,r,i&&Object(vo.createElement)(To.ColorIndicator,{colorValue:i,"aria-label":s}));return Object(vo.createElement)(To.BaseControl,{className:"editor-color-palette-control",label:l},Object(vo.createElement)(yi,Object(mo.a)({className:"editor-color-palette-control__color-palette",value:i,onChange:o},{colors:t,disableCustomColors:n})))}var Ka=Object(jo.compose)([ji,Object(jo.ifCondition)(function(e){var t;return e.hasColorsToChoose})])(Va),za=function e(t,n){return void 0!==n.disableCustomColors?n.disableCustomColors:t},Wa=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=1<arguments.length?arguments[1]:void 0,r=2<arguments.length?arguments[2]:void 0;return!za(n,r)||0<(r.colors||t).length},qa=function e(t){var n=t.colors,r=t.disableCustomColors,o=t.colorSettings;return Object(F.some)(o,function(e){return Wa(n,r,e)})},Ga=Object(Q.__)("(%s: %s)"),$a=function e(t,s){return t.map(function(e,t){var n=e.value,r=e.label,o=e.colors;if(!n)return null;var i=Si(o||s,n),c=i&&i.name,a=Object(Q.sprintf)(Ga,r.toLowerCase(),c||n);return Object(vo.createElement)(To.ColorIndicator,{key:t,colorValue:n,"aria-label":a})})},Ya=Object(jo.ifCondition)(qa)(function(e){var t=e.children,n=e.colors,r=e.colorSettings,o=e.disableCustomColors,i=e.title,c=Object(O.a)(e,["children","colors","colorSettings",
"disableCustomColors","title"]),a="editor-panel-color-settings",s=Object(vo.createElement)("span",{className:"".concat(a,"__panel-title")},i,$a(r,n));return Object(vo.createElement)(To.PanelBody,Object(mo.a)({className:a,title:s},c),r.map(function(e,t){return Object(vo.createElement)(Ka,Object(mo.a)({key:t},Object(Y.a)({colors:n,disableCustomColors:o},e)))}),t)}),Qa=ji(Ya);function Xa(e){var n=e.onChange,t=e.className,r=Object(O.a)(e,["onChange","className"]);return Object(vo.createElement)(vc.a,Object(mo.a)({className:go()("editor-plain-text",t),onChange:function e(t){return n(t.target.value)}},r))}var Ja=Xa,Za=n(41),es=n.n(Za),ts=n(32),ns=n(65),rs=n.n(ns),os=function e(t){var n=t.formatTypes,c=t.onChange,a=t.value;return Object(vo.createElement)(vo.Fragment,null,n.map(function(e){var t=e.name,n=e.edit;if(!n)return null;var r=Object(v.getActiveFormat)(a,t),o=void 0!==r,i=o&&r.attributes||{};return Object(vo.createElement)(n,{key:t,isActive:o,activeAttributes:i,value:a,onChange:c})}))},is=Object(g.withSelect)(function(e){var t,n;return{formatTypes:(0,e("core/rich-text").getFormatTypes)()}})(os),cs,as=function e(t){var n=t.controls;return Object(vo.createElement)("div",{className:"editor-format-toolbar"},Object(vo.createElement)(To.Toolbar,null,n.map(function(e){return Object(vo.createElement)(To.Slot,{name:"RichText.ToolbarControls.".concat(e),key:e})}),Object(vo.createElement)(To.Slot,{name:"RichText.ToolbarControls"})))},ss=n(192),ls=n.n(ss),us=function e(t){return Object(F.startsWith)(t,"aria-")},ds=function e(t){return Object(F.pickBy)(t,function(e,t){return us(t)&&!Object(F.isNil)(e)})},ps=function e(t,n){var r=Object(F.keys)(ds(t)),o=Object(F.keys)(ds(n)),i,c;return{removedKeys:Object(F.difference)(r,o),updatedKeys:o.filter(function(e){return!Object(F.isEqual)(t[e],n[e])})}},bs,fs=window.getSelection,hs=window.Node.TEXT_NODE,ms=window.navigator.userAgent,vs="\ufeff";function Os(i){function t(e){e.stopImmediatePropagation();var t=document.createEvent("Event");t.initEvent("input",!0,!1),t.data=e.data,e.target.dispatchEvent(t)}function n(e){var t=e.target,n=e.keyCode,r;if((bi.BACKSPACE===n||bi.DELETE===n)&&i.contains(t)){var o=document.createEvent("Event");o.initEvent("input",!0,!1),o.data=null,t.dispatchEvent(o)}}return i.addEventListener("textinput",t),document.addEventListener("keyup",n,!0),function e(){i.removeEventListener("textinput",t),document.removeEventListener("keyup",n,!0)}}var gs="data-is-placeholder-visible",js=0<=ms.indexOf("Trident"),ys=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).call(this))).bindEditorNode=e.bindEditorNode.bind(Object(wo.a)(Object(wo.a)(e))),e.onFocus=e.onFocus.bind(Object(wo.a)(Object(wo.a)(e))),e.onKeyDown=e.onKeyDown.bind(Object(wo.a)(Object(wo.a)(e))),e.initialize=e.initialize.bind(Object(wo.a)(Object(wo.a)(e))),e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"onFocus",value:function e(){this.props.onFocus&&this.props.onFocus(),this.initialize()}},{key:"shouldComponentUpdate",value:function e(t){var n=this;this.configureIsPlaceholderVisible(t.isPlaceholderVisible),Object(F.isEqual)(this.props.style,t.style)||(this.editorNode.setAttribute("style",""),Object.assign(this.editorNode.style,t.style)),Object(F.isEqual)(this.props.className,t.className)||(this.editorNode.className=go()(t.className,"editor-rich-text__tinymce"));var r=ps(this.props,t),o=r.removedKeys,i=r.updatedKeys;return o.forEach(function(e){return n.editorNode.removeAttribute(e)}),i.forEach(function(e){return n.editorNode.setAttribute(e,t[e])}),!1}},{key:"componentWillUnmount",value:function e(){this.editor&&(this.editor.destroy(),delete this.editor)}},{key:"configureIsPlaceholderVisible",value:function e(t){var n=String(!!t);this.editorNode.getAttribute(gs)!==n&&this.editorNode.setAttribute(gs,n)}},{key:"initialize",value:function e(){var r=this;if(!this.initialize.called){this.initialize.called=!0;var t=this.props.multilineTag,n={theme:!1,inline:!0,toolbar:!1,browser_spellcheck:!0,entity_encoding:"raw",convert_urls:!1,verify_html:!1,inline_boundaries_selector:"a[href],code,b,i,strong,em,del,ins,sup,sub",plugins:[],forced_root_block:t||!1,custom_undo_redo_levels:1,lists_indent_on_tab:!1};"li"===t&&n.plugins.push("lists"),ls.a.init(Object(Y.a)({},n,{target:this.editorNode,setup:function e(t){var n;r.editor=t,r.props.onSetup(t),t.on("preinit",function(){n=t.dom.setHTML,t.dom.setHTML=function(){}}),t.on("init",function(){["z","y"].forEach(function(e){t.shortcuts.remove("meta+".concat(e))}),t.shortcuts.remove("meta+shift+z"),["b","i","u"].forEach(function(e){t.shortcuts.remove("meta+".concat(e))}),[1,2,3,4,5,6,7,8,9].forEach(function(e){t.shortcuts.remove("access+".concat(e))}),t.dom.setHTML=n,js&&document.activeElement!==r.editorNode&&document.activeElement.contains(r.editorNode)&&r.editorNode.focus()}),t.on("keydown",r.onKeyDown,!0)}}))}}},{key:"bindEditorNode",value:function e(t){this.editorNode=t,this.props.setRef&&this.props.setRef(t),js&&(t?this.removeInternetExplorerInputFix=Os(t):this.removeInternetExplorerInputFix())}},{key:"onKeyDown",value:function e(t){var n=t.keyCode,r=n===bi.DELETE||n===bi.BACKSPACE;if(n===bi.ENTER||r&&Object(Fi.isEntirelySelected)(this.editorNode))return t.preventDefault(),!1;if(n===bi.LEFT||n===bi.RIGHT){var o,i=fs().focusNode,c=i.nodeType,a=i.nodeValue,s,l;if(c===hs)if(1===a.length&&a[0]===vs)i[t.keyCode===bi.LEFT?"previousSibling":"nextSibling"]||(t.preventDefault=F.noop)}}},{key:"render",value:function e(){var t,n=ds(this.props),r=this.props,o=r.tagName,i=void 0===o?"div":o,c=r.style,a=r.record,s=r.valueToEditableHTML,l=r.className,u=r.isPlaceholderVisible,d=r.onPaste,p=r.onInput,b=r.onKeyDown,f=r.onCompositionEnd,h=r.onBlur;return"table"!==i&&(n.role="textbox",n["aria-multiline"]=!0),Object(vo.createElement)(i,Object(Y.a)({},n,(t={className:go()(l,"editor-rich-text__tinymce"),contentEditable:!0},Object(D.a)(t,gs,u),Object(D.a)(t,"ref",this.bindEditorNode),Object(D.a)(t,"style",c),Object(D.a)(t,"suppressContentEditableWarning",!0),Object(D.a)(t,"dangerouslySetInnerHTML",{__html:s(a)}),Object(D.a)(t,"onPaste",d),Object(D.a)(t,"onInput",p),Object(D.a)(t,"onFocus",this.onFocus),Object(D.a)(t,"onBlur",h),Object(D.a)(t,"onKeyDown",b),Object(D.a)(t,"onCompositionEnd",f),t)))}}]),t}(vo.Component);function ks(e){var s=e.onReplace,l=e.valueToFormat,u=e.onCreateUndoLevel,d=e.onChange,p=Object($.getBlockTransforms)("from").filter(function(e){var t;return"prefix"===e.type});return[function(e){if(!s)return e;var t=Object(v.getSelectionStart)(e),n=Object(v.getTextContent)(e),r=n.slice(t-1,t);if(!/\s/.test(r))return e;var o=n.slice(0,t).trim(),i=Object($.findTransform)(p,function(e){var t=e.prefix;return o===t});if(!i)return e;var c=l(Object(v.slice)(e,t,n.length)),a=i.transform(c);return u(),s([a]),e},function(e){var t="`",n=Object(v.getSelectionStart)(e),r=Object(v.getTextContent)(e),o;if("`"!==r.slice(n-1,n))return e;var i,c=r.slice(0,n-1).lastIndexOf("`");if(-1===c)return e;var a=c,s=n-2;return a===s?e:(d(e),e=Object(v.remove)(e,a,a+1),e=Object(v.remove)(e,s,s+1),e=Object(v.applyFormat)(e,{type:"code"},a,s))}]}var _s=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).onUse=e.onUse.bind(Object(wo.a)(Object(wo.a)(e))),e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"onUse",value:function e(){return this.props.onUse(),!1}},{key:"render",value:function e(){var t=this.props,n=t.character,r=t.type;return Object(vo.createElement)(To.KeyboardShortcuts,{bindGlobal:!0,shortcuts:Object(D.a)({},bi.rawShortcut[r](n),this.onUse)})}}]),t}(vo.Component);function Es(e){return!e.selection||e.selection.getNode().closest("ol,ul")===e.getBody()}function Ss(e,t,n){if(document.activeElement!==e.getBody())return t===n;var r,o=e.selection.getNode().closest("ol,ul");return o?o.nodeName.toLowerCase()===t:void 0}var Cs=function e(t){var n=t.editor,r=t.onTagNameChange,o=t.tagName,i=t.onSyncDOM;return Object(vo.createElement)(vo.Fragment,null,Object(vo.createElement)(_s,{type:"primary",character:"[",onUse:function e(){n.execCommand("Outdent"),i()}}),Object(vo.createElement)(_s,{type:"primary",character:"]",onUse:function e(){n.execCommand("Indent"),i()}}),Object(vo.createElement)(_s,{type:"primary",character:"m",onUse:function e(){n.execCommand("Indent"),i()}}),Object(vo.createElement)(_s,{type:"primaryShift",character:"m",onUse:function e(){n.execCommand("Outdent"),i()}}),Object(vo.createElement)(pi,null,Object(vo.createElement)(To.Toolbar,{controls:[{icon:"editor-ul",title:Object(Q.__)("Convert to unordered list"),isActive:Ss(n,"ul",o),onClick:function e(){Es(n)?r("ul"):(n.execCommand("InsertUnorderedList"),i())}},{icon:"editor-ol",title:Object(Q.__)("Convert to ordered list"),isActive:Ss(n,"ol",o),onClick:function e(){Es(n)?r("ol"):(n.execCommand("InsertOrderedList"),i())}},{icon:"editor-outdent",title:Object(Q.__)("Outdent list item"),onClick:function e(){n.execCommand("Outdent"),i()}},{icon:"editor-indent",title:Object(Q.__)("Indent list item"),onClick:function e(){n.execCommand("Indent"),i()}}]})))},ws=[bi.rawShortcut.primary("z"),bi.rawShortcut.primaryShift("z"),bi.rawShortcut.primary("y")],Ts=Object(vo.createElement)(To.KeyboardShortcuts,{bindGlobal:!0,shortcuts:Object(F.fromPairs)(ws.map(function(e){return[e,function(e){return e.preventDefault()}]}))}),Ps=function e(){return Ts};function Is(e){var t=e.name,n=e.shortcutType,r=e.shortcutCharacter,o=Object(O.a)(e,["name","shortcutType","shortcutCharacter"]),i,c="RichText.ToolbarControls";return t&&(c+=".".concat(t)),n&&r&&(i=bi.displayShortcut[n](r)),Object(vo.createElement)(To.Fill,{name:c},Object(vo.createElement)(To.ToolbarButton,Object(mo.a)({},o,{shortcut:i})))}function Bs(e,t){return e.some(function(e){return-1!==Yc(e).indexOf(Yc(t))})}var xs=Object(g.withSelect)(function(e,t){var n=t.name;return{formatType:e("core/rich-text").getFormatType(n)}})(function(c){return Object(vo.createElement)(To.Fill,{name:"Inserter.InlineElements"},function(e){var t=e.filterValue,n=c.formatType,r=n.keywords,o=void 0===r?[]:r,i=n.title;return o.push(i,c.title),t&&!Bs(o,t)?null:Object(vo.createElement)(Mc,Object(mo.a)({},c,{icon:Object($.normalizeIconObject)(c.icon)}))})}),Ls,As=window.getSelection,Ns=function(e){function i(e){var t,n=e.value,r=e.onReplace,o=e.multiline;return Object(ko.a)(this,i),t=Object(Eo.a)(this,Object(So.a)(i).apply(this,arguments)),!0!==o&&"p"!==o&&"li"!==o||(t.multilineTag=!0===o?"p":o),"li"===t.multilineTag&&(t.multilineWrapperTags=["ul","ol"]),t.props.onSplit?(t.onSplit=t.props.onSplit,rs()("wp.editor.RichText onSplit prop",{plugin:"Gutenberg",alternative:"wp.editor.RichText unstableOnSplit prop"})):t.props.unstableOnSplit&&(t.onSplit=t.props.unstableOnSplit),t.onSetup=t.onSetup.bind(Object(wo.a)(Object(wo.a)(t))),t.onFocus=t.onFocus.bind(Object(wo.a)(Object(wo.a)(t))),t.onBlur=t.onBlur.bind(Object(wo.a)(Object(wo.a)(t))),t.onChange=t.onChange.bind(Object(wo.a)(Object(wo.a)(t))),t.onDeleteKeyDown=t.onDeleteKeyDown.bind(Object(wo.a)(Object(wo.a)(t))),t.onKeyDown=t.onKeyDown.bind(Object(wo.a)(Object(wo.a)(t))),t.onPaste=t.onPaste.bind(Object(wo.a)(Object(wo.a)(t))),t.onCreateUndoLevel=t.onCreateUndoLevel.bind(Object(wo.a)(Object(wo.a)(t))),t.setFocusedElement=t.setFocusedElement.bind(Object(wo.a)(Object(wo.a)(t))),t.onInput=t.onInput.bind(Object(wo.a)(Object(wo.a)(t))),t.onCompositionEnd=t.onCompositionEnd.bind(Object(wo.a)(Object(wo.a)(t))),t.onSelectionChange=t.onSelectionChange.bind(Object(wo.a)(Object(wo.a)(t))),t.getRecord=t.getRecord.bind(Object(wo.a)(Object(wo.a)(t))),t.createRecord=t.createRecord.bind(Object(wo.a)(Object(wo.a)(t))),t.applyRecord=t.applyRecord.bind(Object(wo.a)(Object(wo.a)(t))),t.isEmpty=t.isEmpty.bind(Object(wo.a)(Object(wo.a)(t))),t.valueToFormat=t.valueToFormat.bind(Object(wo.a)(Object(wo.a)(t))),t.setRef=t.setRef.bind(Object(wo.a)(Object(wo.a)(t))),t.valueToEditableHTML=t.valueToEditableHTML.bind(Object(wo.a)(Object(wo.a)(t))),t.formatToValue=es()(t.formatToValue.bind(Object(wo.a)(Object(wo.a)(t))),{size:1}),t.savedContent=n,t.patterns=ks({onReplace:r,onCreateUndoLevel:t.onCreateUndoLevel,valueToFormat:t.valueToFormat,onChange:t.onChange}),t.enterPatterns=Object($.getBlockTransforms)("from").filter(function(e){var t;return"enter"===e.type}),t.state={},t.usedDeprecatedChildrenSource=Array.isArray(n),t.lastHistoryValue=n,t}return Object(Co.a)(i,e),Object(_o.a)(i,[{key:"componentWillUnmount",value:function e(){document.removeEventListener("selectionchange",this.onSelectionChange)}},{key:"setRef",value:function e(t){this.editableRef=t}},{key:"onSetup",value:function e(t){this.editor=t}},{key:"setFocusedElement",value:function e(){this.props.setFocusedElement&&this.props.setFocusedElement(this.props.instanceId)}},{key:"getRecord",value:function e(){var t=this.formatToValue(this.props.value),n=t.formats,r=t.text,o=this.state,i,c;return{formats:n,text:r,start:o.start,end:o.end}}},{key:"createRecord",value:function e(){var t=As().getRangeAt(0);return Object(v.create)({element:this.editableRef,range:t,multilineTag:this.multilineTag,multilineWrapperTags:this.multilineWrapperTags,removeNode:function e(t){return"all"===t.getAttribute("data-mce-bogus")},unwrapNode:function e(t){return!!t.getAttribute("data-mce-bogus")},removeAttribute:function e(t){return 0===t.indexOf("data-mce-")},filterString:function e(t){return t.replace(vs,"")},prepareEditableTree:this.props.prepareEditableTree})}},{key:"applyRecord",value:function e(t){Object(v.apply)({value:t,current:this.editableRef,multilineTag:this.multilineTag,multilineWrapperTags:this.multilineWrapperTags,createLinePadding:function e(t){var n=t.createElement("br");return n.setAttribute("data-mce-bogus","1"),n},prepareEditableTree:this.props.prepareEditableTree})}},{key:"isEmpty",value:function e(){return Object(v.isEmpty)(this.formatToValue(this.props.value))}},{key:"onPaste",value:function e(t){var n=t.clipboardData,r=n.items,o=n.files;r=Object(F.isNil)(r)?[]:r,o=Object(F.isNil)(o)?[]:o;var i=Object(F.find)(Object(R.a)(r).concat(Object(R.a)(o)),function(e){var t=e.type;return/^image\/(?:jpe?g|png|gif)$/.test(t)}),c="",a="";try{c=n.getData("text/plain"),a=n.getData("text/html")}catch(e){try{a=n.getData("Text")}catch(e){return}}if(t.preventDefault(),window.console.log("Received HTML:\n\n",a),window.console.log("Received plain text:\n\n",c),i&&!a){var s=i.getAsFile?i.getAsFile():i,l=Object($.pasteHandler)({HTML:'<img src="'.concat(Object(ts.createBlobURL)(s),'">'),mode:"BLOCKS",tagName:this.props.tagName}),u=this.props.onReplace&&this.isEmpty();return window.console.log("Received item:\n\n",s),void(u?this.props.onReplace(l):this.onSplit&&this.splitContent(l))}var d=this.getRecord();if(!Object(v.isCollapsed)(d)){var p=(a||c).replace(/<[^>]+>/g,"").trim();if(Object(j.isURL)(p))return this.onChange(Object(v.applyFormat)(d,{type:"a",attributes:{href:Object(ka.decodeEntities)(p)}})),void window.console.log("Created link:\n\n",p)}var b=this.props.onReplace&&this.isEmpty(),f="INLINE";b?f="BLOCKS":this.onSplit&&(f="AUTO");var h=Object($.pasteHandler)({HTML:a,plainText:c,mode:f,tagName:this.props.tagName,canUserUseUnfilteredHTML:this.props.canUserUseUnfilteredHTML});if("string"==typeof h){var m=Object(v.create)({html:h});this.onChange(Object(v.insert)(d,m))}else if(this.onSplit){if(!h.length)return;b?this.props.onReplace(h):this.splitContent(h,{paste:!0})}}},{key:"onFocus",value:function e(){var t=this.props.unstableOnFocus;t&&t(),document.addEventListener("selectionchange",this.onSelectionChange)}},{key:"onBlur",value:function e(){document.removeEventListener("selectionchange",this.onSelectionChange)}},{key:"onInput",value:function e(t){if(!t.nativeEvent.isComposing){var n=this.createRecord(),r=this.patterns.reduce(function(e,t){return t(e)},n);this.onChange(r,{withoutHistory:!0}),this.props.clearTimeout(this.onInput.timeout),this.onInput.timeout=this.props.setTimeout(this.onCreateUndoLevel,1e3)}}},{key:"onCompositionEnd",value:function e(){this.onChange(this.createRecord())}},{key:"onSelectionChange",value:function e(){var t=this.createRecord(),n=t.start,r=t.end,o=t.formats;if(n!==this.state.start||r!==this.state.end){var i=this.props.isCaretWithinFormattedText;!i&&o[n]?this.props.onEnterFormattedText():i&&!o[n]&&this.props.onExitFormattedText(),this.setState({start:n,end:r})}}},{key:"onChangeEditableValue",value:function e(t){var n=t.formats,r=t.text;Object(F.get)(this.props,["onChangeEditableValue"],[]).forEach(function(e){e(n,r)})}},{key:"onChange",value:function e(t){var n,r=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).withoutHistory;this.applyRecord(t);var o=t.start,i=t.end;this.onChangeEditableValue(t),this.savedContent=this.valueToFormat(t),this.props.onChange(this.savedContent),this.setState({start:o,end:i}),r||this.onCreateUndoLevel()}},{key:"onCreateUndoLevel",value:function e(){this.lastHistoryValue!==this.savedContent&&(this.props.onCreateUndoLevel(),this.lastHistoryValue=this.savedContent)}},{key:"onDeleteKeyDown",value:function e(t){var n=this.props,r=n.onMerge,o=n.onRemove;if(r||o){var i,c=t.keyCode===bi.BACKSPACE;if(Object(v.isCollapsed)(this.createRecord())){var a=this.isEmpty(),s;(a||Object(Fi.isHorizontalEdge)(this.editableRef,c))&&(r&&r(!c),o&&a&&c&&o(!c),t.preventDefault())}}}},{key:"onKeyDown",value:function e(t){var n=t.keyCode;if(n===bi.DELETE||n===bi.BACKSPACE){var r=this.createRecord(),o=Object(v.getSelectionStart)(r),i=Object(v.getSelectionEnd)(r),c;if(0===o&&0!==i&&i===r.text.length)return this.onChange(Object(v.remove)(r)),void t.preventDefault();if(this.multilineTag)n===bi.BACKSPACE?Object(v.charAt)(r,o-1)===v.LINE_SEPARATOR&&(c=Object(v.remove)(r,Object(v.isCollapsed)(r)?o-1:o,i)):Object(v.charAt)(r,i)===v.LINE_SEPARATOR&&(c=Object(v.remove)(r,o,Object(v.isCollapsed)(r)?i+1:i)),c&&(this.onChange(c),t.preventDefault());this.onDeleteKeyDown(t)}else if(n===bi.ENTER){t.preventDefault();var a=this.createRecord();if(this.props.onReplace){var s=Object(v.getTextContent)(a),l=Object($.findTransform)(this.enterPatterns,function(e){return e.regExp.test(s)});if(l)return void this.props.onReplace([l.transform({content:s})])}if(this.multilineTag)this.onSplit&&Object(v.isEmptyLine)(a)?this.onSplit.apply(this,Object(R.a)(Object(v.split)(a).map(this.valueToFormat))):this.onChange(Object(v.insertLineSeparator)(a));else if(t.shiftKey||!this.onSplit){var u=Object(v.getTextContent)(a),d=u.length,p="\n";a.end!==d||"\n"===u.charAt(d-1)&&0!==d||(p="\n\n"),this.onChange(Object(v.insert)(a,p))}else this.splitContent()}}},{key:"splitContent",value:function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=this.createRecord();if(this.onSplit){var o=Object(v.split)(r),i=Object(b.a)(o,2),c=i[0],a=i[1];Object(v.isEmpty)(a)?c=r:Object(v.isEmpty)(c)&&(a=r),n.paste&&(c=Object(v.isEmpty)(c)?null:c,a=Object(v.isEmpty)(a)?null:a),c&&(c=this.valueToFormat(c)),a&&(a=this.valueToFormat(a)),this.onSplit.apply(this,[c,a].concat(Object(R.a)(t)))}}},{key:"componentDidUpdate",value:function e(n){var r=this,t=this.props,o=t.tagName,i=t.value,c=t.isSelected,a;if(o===n.tagName&&i!==n.value&&i!==this.savedContent){if(Array.isArray(i)&&Object(F.isEqual)(i,this.savedContent))return;var s=this.formatToValue(i);if(c){var l=this.formatToValue(n.value),u=Object(v.getTextContent)(l).length;s.start=u,s.end=u}this.applyRecord(s),this.savedContent=i}if(Object.keys(this.props).some(function(t){return 0===t.indexOf("format_")&&(Object(F.isPlainObject)(r.props[t])?Object.keys(r.props[t]).some(function(e){return r.props[t][e]!==n[t][e]}):r.props[t]!==n[t])})){var d=this.formatToValue(i);c&&(d.start=this.state.start,d.end=this.state.end),this.applyRecord(d)}}},{key:"getFormatProps",value:function e(){return Object(F.pickBy)(this.props,function(e,t){return t.startsWith("format_")})}},{key:"formatToValue",value:function e(t){return Array.isArray(t)?Object(v.create)({html:$.children.toHTML(t),multilineTag:this.multilineTag,multilineWrapperTags:this.multilineWrapperTags}):"string"===this.props.format?Object(v.create)({html:t,multilineTag:this.multilineTag,multilineWrapperTags:this.multilineWrapperTags}):null===t?Object(v.create)():t}},{key:"valueToEditableHTML",value:function e(t){return Object(v.unstableToDom)({value:t,multilineTag:this.multilineTag,multilineWrapperTags:this.multilineWrapperTags,createLinePadding:function e(t){var n=t.createElement("br");return n.setAttribute("data-mce-bogus","1"),n},prepareEditableTree:this.props.prepareEditableTree}).body.innerHTML}},{key:"removeEditorOnlyFormats",value:function e(t){return this.props.formatTypes.forEach(function(e){e.__experimentalCreatePrepareEditableTree&&(t=Object(v.removeFormat)(t,e.name,0,t.text.length))}),t}},{key:"valueToFormat",value:function e(t){return t=this.removeEditorOnlyFormats(t),this.usedDeprecatedChildrenSource?$.children.fromDOM(Object(v.unstableToDom)({value:t,multilineTag:this.multilineTag,multilineWrapperTags:this.multilineWrapperTags}).body.childNodes):"string"===this.props.format?Object(v.toHTMLString)({value:t,multilineTag:this.multilineTag,multilineWrapperTags:this.multilineWrapperTags}):t}},{key:"render",value:function e(){var r=this,t=this.props,n=t.tagName,o=void 0===n?"div":n,i=t.style,c=t.wrapperClassName,a=t.className,s=t.inlineToolbar,l=void 0!==s&&s,u=t.formattingControls,d=t.placeholder,p=t.keepPlaceholderOnFocus,b=void 0!==p&&p,f=t.isSelected,h=t.autocompleters,m=t.onTagNameChange,v=this.multilineTag,O=ds(this.props),g=["editor",o].join(),j=d&&(!f||b)&&this.isEmpty(),y=go()(c,"editor-rich-text"),k=this.getRecord();return Object(vo.createElement)("div",{className:y,onFocus:this.setFocusedElement},f&&this.editor&&"li"===this.multilineTag&&Object(vo.createElement)(Cs,{editor:this.editor,onTagNameChange:m,tagName:o,onSyncDOM:function e(){return r.onChange(r.createRecord())}}),f&&!l&&Object(vo.createElement)(pi,null,Object(vo.createElement)(as,{controls:u})),f&&l&&Object(vo.createElement)(To.IsolatedEventContainer,{className:"editor-rich-text__inline-toolbar"},Object(vo.createElement)(as,{controls:u})),Object(vo.createElement)(Ro,{onReplace:this.props.onReplace,completers:h,record:k,onChange:this.onChange},function(e){var t=e.listBoxId,n=e.activeId;return Object(vo.createElement)(vo.Fragment,null,Object(vo.createElement)(ys,Object(mo.a)({tagName:o,onSetup:r.onSetup,style:i,record:k,valueToEditableHTML:r.valueToEditableHTML,isPlaceholderVisible:j,"aria-label":d,"aria-autocomplete":"list","aria-owns":t,"aria-activedescendant":n},O,{className:a,key:g,onPaste:r.onPaste,onInput:r.onInput,onCompositionEnd:r.onCompositionEnd,onKeyDown:r.onKeyDown,onFocus:r.onFocus,onBlur:r.onBlur,multilineTag:r.multilineTag,multilineWrapperTags:r.multilineWrapperTags,setRef:r.setRef})),j&&Object(vo.createElement)(o,{className:go()("editor-rich-text__tinymce",a),style:i},v?Object(vo.createElement)(v,null,d):d),f&&Object(vo.createElement)(is,{value:k,onChange:r.onChange}))}),f&&Object(vo.createElement)(Ps,null))}}]),i}(vo.Component);Ns.defaultProps={formattingControls:["bold","italic","link","strikethrough"],format:"string",value:""};var Rs=Object(jo.compose)([jo.withInstanceId,xo(function(e,t){return!1===t.isSelected?{clientId:e.clientId}:!0===t.isSelected?{isSelected:e.isSelected,clientId:e.clientId}:{isSelected:e.isSelected&&e.focusedElement===t.instanceId,setFocusedElement:e.setFocusedElement,clientId:e.clientId}}),Object(g.withSelect)(function(e){var t=e("core/editor"),n=t.canUserUseUnfilteredHTML,r=t.isCaretWithinFormattedText,o,i=e("core/rich-text").getFormatTypes;return{canUserUseUnfilteredHTML:n(),isCaretWithinFormattedText:r(),formatTypes:i()}}),Object(g.withDispatch)(function(e){var t=e("core/editor"),n,r,o,i,c;return{onCreateUndoLevel:t.createUndoLevel,onRedo:t.redo,onUndo:t.undo,onEnterFormattedText:t.enterFormattedText,onExitFormattedText:t.exitFormattedText}}),jo.withSafeTimeout,Object(To.withFilters)("experimentalRichText")])(Ns);Rs.Content=function(e){var t=e.value,n=e.tagName,r=e.multiline,o=Object(O.a)(e,["value","tagName","multiline"]),i=t,c;!0!==r&&"p"!==r&&"li"!==r||(c=!0===r?"p":r),Array.isArray(t)&&(i=$.children.toHTML(t)),!i&&c&&(i="<".concat(c,"></").concat(c,">"));var a=Object(vo.createElement)(vo.RawHTML,null,i);return n?Object(vo.createElement)(n,Object(F.omit)(o,["format"]),a):a},Rs.isEmpty=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return Array.isArray(e)&&!e||0===e.length},Rs.Content.defaultProps={format:"string",value:""};var Ds=Rs,Fs=function(e){var t=e.urlQueryArgs,n=void 0===t?{}:t,r=Object(O.a)(e,["urlQueryArgs"]),o,i=Object(g.select)("core/editor").getCurrentPostId;return n=Object(Y.a)({post_id:i()},n),Object(vo.createElement)(To.ServerSideRender,Object(mo.a)({urlQueryArgs:n},r))},Ms=function e(){return null},Us=Object(To.withFilters)("editor.MediaUpload")(Ms),Hs,Vs=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).toggleSettingsVisibility=e.toggleSettingsVisibility.bind(Object(wo.a)(Object(wo.a)(e))),e.state={isSettingsExpanded:!1},e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"toggleSettingsVisibility",value:function e(){this.setState({isSettingsExpanded:!this.state.isSettingsExpanded})}},{key:"render",value:function e(){var t=this.props,n=t.children,r=t.renderSettings,o=t.onClose,i=t.onClickOutside,c=t.position,a=void 0===c?"bottom center":c,s=t.focusOnMount,l=void 0===s?"firstElement":s,u=this.state.isSettingsExpanded,d=!!r&&u;return Object(vo.createElement)(To.Popover,{className:"editor-url-popover",focusOnMount:l,position:a,onClose:o,onClickOutside:i},Object(vo.createElement)("div",{className:"editor-url-popover__row"},n,!!r&&Object(vo.createElement)(To.IconButton,{className:"editor-url-popover__settings-toggle",icon:"ellipsis",label:Object(Q.__)("Link Settings"),onClick:this.toggleSettingsVisibility,"aria-expanded":u})),d&&Object(vo.createElement)("div",{className:"editor-url-popover__row editor-url-popover__settings"},r()))}}]),t}(vo.Component);function Ks(e){return e?Object(F.flatMap)(e,function(e,t){var n=e.split("/"),r,o=Object(b.a)(n,1)[0],i=t.split("|");return[e].concat(Object(R.a)(Object(F.map)(i,function(e){return"".concat(o,"/").concat(e)})))}):e}function zs(e){return Ws.apply(this,arguments)}function Ws(){return(Ws=Object(Hr.a)(regeneratorRuntime.mark(function e(n){var r,o,i,c,a,s,l,u,d,p,b,f,h,m,v,O,g,j,y,k,_,E,S,C,w,T,P,I,B;return regeneratorRuntime.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:r=n.allowedTypes,o=n.additionalData,i=void 0===o?{}:o,c=n.filesList,a=n.maxUploadFileSize,s=n.onError,l=void 0===s?F.noop:s,u=n.onFileChange,d=n.wpAllowedMimeTypes,p=void 0===d?null:d,b=Object(R.a)(c),f=[],h=function e(t,n){Object(ts.revokeBlobURL)(Object(F.get)(f,[t,"url"])),f[t]=n,u(Object(F.compact)(f))},m=function e(t){return!r||Object(F.some)(r,function(e){return Object(F.includes)(e,"/")?e===t:Object(F.startsWith)(t,"".concat(e,"/"))})},v=Ks(p),O=function e(t){return Object(F.includes)(v,t)},g=function e(t){t.message=[Object(vo.createElement)("strong",{key:"filename"},t.file.name),": ",t.message],l(t)},j=[],k=!(y=!0),_=void 0,t.prev=12,E=b[Symbol.iterator]();case 14:if(y=(S=E.next()).done){t.next=34;break}if(C=S.value,v&&!O(C.type))return g({code:"MIME_TYPE_NOT_ALLOWED_FOR_USER",message:Object(Q.__)("Sorry, this file type is not permitted for security reasons."),file:C}),t.abrupt("continue",31);t.next=19;break;case 19:if(m(C.type)){t.next=22;break}return g({code:"MIME_TYPE_NOT_SUPPORTED",message:Object(Q.__)("Sorry, this file type is not supported here."),file:C}),t.abrupt("continue",31);case 22:if(a&&C.size>a)return g({code:"SIZE_ABOVE_LIMIT",message:Object(Q.__)("This file exceeds the maximum upload size for this site."),file:C}),t.abrupt("continue",31);t.next=25;break;case 25:if(C.size<=0)return g({code:"EMPTY_FILE",message:Object(Q.__)("This file is empty."),file:C}),t.abrupt("continue",31);t.next=28;break;case 28:j.push(C),f.push({url:Object(ts.createBlobURL)(C)}),u(f);case 31:y=!0,t.next=14;break;case 34:t.next=40;break;case 36:t.prev=36,t.t0=t.catch(12),k=!0,_=t.t0;case 40:t.prev=40,t.prev=41,y||null==E.return||E.return();case 43:if(t.prev=43,k)throw _;t.next=46;break;case 46:return t.finish(43);case 47:return t.finish(40);case 48:w=0;case 49:if(w<j.length)return T=j[w],t.prev=51,t.next=54,qs(T,i);t.next=68;break;case 54:P=t.sent,I=Object(Y.a)({},Object(F.omit)(P,["alt_text","source_url"]),{alt:P.alt_text,caption:Object(F.get)(P,["caption","raw"],""),title:P.title.raw,url:P.source_url}),h(w,I),t.next=65;break;case 59:t.prev=59,t.t1=t.catch(51),h(w,null),B=void 0,B=Object(F.has)(t.t1,["message"])?Object(F.get)(t.t1,["message"]):Object(Q.sprintf)(Object(Q.__)("Error while uploading file %s to the media library."),T.name),l({code:"GENERAL",message:B,file:T});case 65:++w,t.next=49;break;case 68:case"end":return t.stop()}},e,this,[[12,36,40,48],[41,,43,47],[51,59]])}))).apply(this,arguments)}function qs(e,t){var n=new window.FormData;return n.append("file",e,e.name||e.type.replace("/",".")),n.append("title",e.name?e.name.replace(/\.[^.]+$/,""):e.type.replace("/",".")),Object(F.forEach)(t,function(e,t){return n.append(t,e)}),Kr()({path:"/wp/v2/media",body:n,method:"POST"})}var Gs=function(e){var t=e.allowedTypes,n=e.filesList,r=e.maxUploadFileSize,o=e.onError,i=void 0===o?F.noop:o,c=e.onFileChange,a=Object(g.select)("core/editor"),s=a.getCurrentPostId,l=a.getEditorSettings,u=l().allowedMimeTypes;r=r||l().maxUploadFileSize,zs({allowedTypes:t,filesList:n,onFileChange:c,additionalData:{post:s()},maxUploadFileSize:r,onError:function e(t){var n=t.message;return i(n)},wpAllowedMimeTypes:u})};function $s(e,t){return Object(j.addQueryArgs)(e,t)}function Ys(e){return Object(F.toLower)(Object(F.deburr)(Object(F.trim)(e.replace(/[\s\./_]+/g,"-"),"-")))}var Qs=function e(t){var n=t.src,r=t.onChange,o=t.onSubmit,i=t.onClose;return Object(vo.createElement)(Vs,{onClose:i},Object(vo.createElement)("form",{className:"editor-media-placeholder__url-input-form",onSubmit:o},Object(vo.createElement)("input",{className:"editor-media-placeholder__url-input-field",type:"url","aria-label":Object(Q.__)("URL"),placeholder:Object(Q.__)("Paste or type URL"),onChange:r,value:n}),Object(vo.createElement)(To.IconButton,{className:"editor-media-placeholder__url-input-submit-button",icon:"editor-break",label:Object(Q.__)("Apply"),type:"submit"})))},Xs=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).state={src:"",isURLInputVisible:!1},e.onChangeSrc=e.onChangeSrc.bind(Object(wo.a)(Object(wo.a)(e))),e.onSubmitSrc=e.onSubmitSrc.bind(Object(wo.a)(Object(wo.a)(e))),e.onUpload=e.onUpload.bind(Object(wo.a)(Object(wo.a)(e))),e.onFilesUpload=e.onFilesUpload.bind(Object(wo.a)(Object(wo.a)(e))),e.openURLInput=e.openURLInput.bind(Object(wo.a)(Object(wo.a)(e))),e.closeURLInput=e.closeURLInput.bind(Object(wo.a)(Object(wo.a)(e))),e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"onlyAllowsImages",value:function e(){var t=this.props.allowedTypes;return!!t&&Object(F.every)(t,function(e){return"image"===e||Object(F.startsWith)(e,"image/")})}},{key:"componentDidMount",value:function e(){this.setState({src:Object(F.get)(this.props.value,["src"],"")})}},{key:"componentDidUpdate",value:function e(t){Object(F.get)(t.value,["src"],"")!==Object(F.get)(this.props.value,["src"],"")&&this.setState({src:Object(F.get)(this.props.value,["src"],"")})}},{key:"onChangeSrc",value:function e(t){this.setState({src:t.target.value})}},{key:"onSubmitSrc",value:function e(t){t.preventDefault(),this.state.src&&this.props.onSelectURL&&(this.props.onSelectURL(this.state.src),this.closeURLInput())}},{key:"onUpload",value:function e(t){this.onFilesUpload(t.target.files)}},{key:"onFilesUpload",value:function e(t){var n=this.props,r=n.onSelect,o=n.multiple,i=n.onError,c=n.allowedTypes,a;Gs({allowedTypes:c,filesList:t,onFileChange:o?r:function(e){var t,n=Object(b.a)(e,1)[0]
;return r(n)},onError:i})}},{key:"openURLInput",value:function e(){this.setState({isURLInputVisible:!0})}},{key:"closeURLInput",value:function e(){this.setState({isURLInputVisible:!1})}},{key:"render",value:function e(){var t=this.props,n=t.accept,r=t.icon,o=t.className,i=t.labels,c=void 0===i?{}:i,a=t.onSelect,s=t.value,l=void 0===s?{}:s,u=t.onSelectURL,d=t.onHTMLDrop,p=void 0===d?F.noop:d,b=t.multiple,f=void 0!==b&&b,h=t.notices,m=t.allowedTypes,v=void 0===m?[]:m,O=t.hasUploadPermissions,g=this.state,j=g.isURLInputVisible,y=g.src,k=c.instructions||"",_=c.title||"";if(O||u||(k=Object(Q.__)("To edit this block, you need permission to upload media.")),!k||!_){var E=1===v.length,S=E&&"audio"===v[0],C=E&&"image"===v[0],w=E&&"video"===v[0];k||(O?(k=Object(Q.__)("Drag a media file, upload a new one or select a file from your library."),S?k=Object(Q.__)("Drag an audio, upload a new one or select a file from your library."):C?k=Object(Q.__)("Drag an image, upload a new one or select a file from your library."):w&&(k=Object(Q.__)("Drag a video, upload a new one or select a file from your library."))):!O&&u&&(k=Object(Q.__)("Given your current role, you can only link a media file, you cannot upload."),S?k=Object(Q.__)("Given your current role, you can only link an audio, you cannot upload."):C?k=Object(Q.__)("Given your current role, you can only link an image, you cannot upload."):w&&(k=Object(Q.__)("Given your current role, you can only link a video, you cannot upload.")))),_||(_=Object(Q.__)("Media"),S?_=Object(Q.__)("Audio"):C?_=Object(Q.__)("Image"):w&&(_=Object(Q.__)("Video")))}return Object(vo.createElement)(To.Placeholder,{icon:r,label:_,instructions:k,className:go()("editor-media-placeholder",o),notices:h},Object(vo.createElement)(Qi,null,Object(vo.createElement)(To.DropZone,{onFilesDrop:this.onFilesUpload,onHTMLDrop:p}),Object(vo.createElement)(To.FormFileUpload,{isLarge:!0,className:"editor-media-placeholder__button",onChange:this.onUpload,accept:n,multiple:f},Object(Q.__)("Upload")),Object(vo.createElement)(Us,{gallery:f&&this.onlyAllowsImages(),multiple:f,onSelect:a,allowedTypes:v,value:l.id,render:function e(t){var n=t.open;return Object(vo.createElement)(To.Button,{isLarge:!0,className:"editor-media-placeholder__button",onClick:n},Object(Q.__)("Media Library"))}})),u&&Object(vo.createElement)("div",{className:"editor-media-placeholder__url-input-container"},Object(vo.createElement)(To.Button,{className:"editor-media-placeholder__button",onClick:this.openURLInput,isToggled:j,isLarge:!0},Object(Q.__)("Insert from URL")),j&&Object(vo.createElement)(Qs,{src:y,onChange:this.onChangeSrc,onSubmit:this.onSubmitSrc,onClose:this.closeURLInput})))}}]),t}(vo.Component),Js=Object(g.withSelect)(function(e){var t,n;return{hasUploadPermissions:(0,e("core").hasUploadPermissions)()}}),Zs=Object(jo.compose)(Js,Object(To.withFilters)("editor.MediaPlaceholder"))(Xs),el=function e(t){return t.stopPropagation()},tl=function(e){function r(e){var t,n=e.autocompleteRef;return Object(ko.a)(this,r),(t=Object(Eo.a)(this,Object(So.a)(r).apply(this,arguments))).onChange=t.onChange.bind(Object(wo.a)(Object(wo.a)(t))),t.onKeyDown=t.onKeyDown.bind(Object(wo.a)(Object(wo.a)(t))),t.autocompleteRef=n||Object(vo.createRef)(),t.inputRef=Object(vo.createRef)(),t.updateSuggestions=Object(F.throttle)(t.updateSuggestions.bind(Object(wo.a)(Object(wo.a)(t))),200),t.suggestionNodes=[],t.state={posts:[],showSuggestions:!1,selectedSuggestion:null},t}return Object(Co.a)(r,e),Object(_o.a)(r,[{key:"componentDidUpdate",value:function e(){var t=this,n=this.state,r=n.showSuggestions,o=n.selectedSuggestion;r&&null!==o&&!this.scrollingIntoView&&(this.scrollingIntoView=!0,Ac()(this.suggestionNodes[o],this.autocompleteRef.current,{onlyScrollIfNeeded:!0}),setTimeout(function(){t.scrollingIntoView=!1},100))}},{key:"componentWillUnmount",value:function e(){delete this.suggestionsRequest}},{key:"bindSuggestionNode",value:function e(t){var n=this;return function(e){n.suggestionNodes[t]=e}}},{key:"updateSuggestions",value:function e(t){var n=this;if(t.length<2||/^https?:/.test(t))this.setState({showSuggestions:!1,selectedSuggestion:null,loading:!1});else{this.setState({showSuggestions:!0,selectedSuggestion:null,loading:!0});var r=Kr()({path:Object(j.addQueryArgs)("/wp/v2/search",{search:t,per_page:20,type:"post"})});r.then(function(e){n.suggestionsRequest===r&&(n.setState({posts:e,loading:!1}),e.length?n.props.debouncedSpeak(Object(Q.sprintf)(Object(Q._n)("%d result found, use up and down arrow keys to navigate.","%d results found, use up and down arrow keys to navigate.",e.length),e.length),"assertive"):n.props.debouncedSpeak(Object(Q.__)("No results."),"assertive"))}).catch(function(){n.suggestionsRequest===r&&n.setState({loading:!1})}),this.suggestionsRequest=r}}},{key:"onChange",value:function e(t){var n=t.target.value;this.props.onChange(n),this.updateSuggestions(n)}},{key:"onKeyDown",value:function e(t){var n=this.state,r=n.showSuggestions,o=n.selectedSuggestion,i=n.posts,c=n.loading;if(r&&i.length&&!c){var a=this.state.posts[this.state.selectedSuggestion];switch(t.keyCode){case bi.UP:t.stopPropagation(),t.preventDefault();var s=o?o-1:i.length-1;this.setState({selectedSuggestion:s});break;case bi.DOWN:t.stopPropagation(),t.preventDefault();var l=null===o||o===i.length-1?0:o+1;this.setState({selectedSuggestion:l});break;case bi.TAB:null!==this.state.selectedSuggestion&&(this.selectLink(a),this.props.speak(Object(Q.__)("Link selected")));break;case bi.ENTER:null!==this.state.selectedSuggestion&&(t.stopPropagation(),this.selectLink(a))}}else switch(t.keyCode){case bi.UP:0!==t.target.selectionStart&&(t.stopPropagation(),t.preventDefault(),t.target.setSelectionRange(0,0));break;case bi.DOWN:this.props.value.length!==t.target.selectionStart&&(t.stopPropagation(),t.preventDefault(),t.target.setSelectionRange(this.props.value.length,this.props.value.length))}}},{key:"selectLink",value:function e(t){this.props.onChange(t.url,t),this.setState({selectedSuggestion:null,showSuggestions:!1})}},{key:"handleOnClick",value:function e(t){this.selectLink(t),this.inputRef.current.focus()}},{key:"render",value:function e(){var n=this,t=this.props,r=t.value,o=void 0===r?"":r,i=t.autoFocus,c=void 0===i||i,a=t.instanceId,s=this.state,l=s.showSuggestions,u=s.posts,d=s.selectedSuggestion,p=s.loading;return Object(vo.createElement)("div",{className:"editor-url-input"},Object(vo.createElement)("input",{autoFocus:c,type:"text","aria-label":Object(Q.__)("URL"),required:!0,value:o,onChange:this.onChange,onInput:el,placeholder:Object(Q.__)("Paste URL or type to search"),onKeyDown:this.onKeyDown,role:"combobox","aria-expanded":l,"aria-autocomplete":"list","aria-owns":"editor-url-input-suggestions-".concat(a),"aria-activedescendant":null!==d?"editor-url-input-suggestion-".concat(a,"-").concat(d):void 0,ref:this.inputRef}),p&&Object(vo.createElement)(To.Spinner,null),l&&!!u.length&&Object(vo.createElement)(To.Popover,{position:"bottom",noArrow:!0,focusOnMount:!1},Object(vo.createElement)("div",{className:"editor-url-input__suggestions",id:"editor-url-input-suggestions-".concat(a),ref:this.autocompleteRef,role:"listbox"},u.map(function(t,e){return Object(vo.createElement)("button",{key:t.id,role:"option",tabIndex:"-1",id:"editor-url-input-suggestion-".concat(a,"-").concat(e),ref:n.bindSuggestionNode(e),className:go()("editor-url-input__suggestion",{"is-selected":e===d}),onClick:function e(){return n.handleOnClick(t)},"aria-selected":e===d},Object(ka.decodeEntities)(t.title)||Object(Q.__)("(no title)"))}))))}}]),r}(vo.Component),nl=Object(To.withSpokenMessages)(Object(jo.withInstanceId)(tl)),rl,ol=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).toggle=e.toggle.bind(Object(wo.a)(Object(wo.a)(e))),e.submitLink=e.submitLink.bind(Object(wo.a)(Object(wo.a)(e))),e.state={expanded:!1},e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"toggle",value:function e(){this.setState({expanded:!this.state.expanded})}},{key:"submitLink",value:function e(t){t.preventDefault(),this.toggle()}},{key:"render",value:function e(){var t=this.props,n=t.url,r=t.onChange,o=this.state.expanded,i=n?Object(Q.__)("Edit Link"):Object(Q.__)("Insert Link");return Object(vo.createElement)("div",{className:"editor-url-input__button"},Object(vo.createElement)(To.IconButton,{icon:"admin-links",label:i,onClick:this.toggle,className:go()("components-toolbar__control",{"is-active":n})}),o&&Object(vo.createElement)("form",{className:"editor-url-input__button-modal",onSubmit:this.submitLink},Object(vo.createElement)("div",{className:"editor-url-input__button-modal-line"},Object(vo.createElement)(To.IconButton,{className:"editor-url-input__back",icon:"arrow-left-alt",label:Object(Q.__)("Close"),onClick:this.toggle}),Object(vo.createElement)(nl,{value:n||"",onChange:r}),Object(vo.createElement)(To.IconButton,{icon:"editor-break",label:Object(Q.__)("Submit"),type:"submit"}))))}}]),t}(vo.Component),il=function(e){function t(){return Object(ko.a)(this,t),Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"componentDidUpdate",value:function e(t){var n=this.props,r=n.isDirty,o=n.editsReference,i=n.isAutosaveable;t.isDirty===r&&t.isAutosaveable===i&&t.editsReference===o||this.toggleTimer(r&&i)}},{key:"componentWillUnmount",value:function e(){this.toggleTimer(!1)}},{key:"toggleTimer",value:function e(t){var n=this;clearTimeout(this.pendingSave);var r=this.props.autosaveInterval;t&&(this.pendingSave=setTimeout(function(){return n.props.autosave()},1e3*r))}},{key:"render",value:function e(){return null}}]),t}(vo.Component),cl=Object(jo.compose)([Object(g.withSelect)(function(e){var t=e("core/editor"),n=t.isEditedPostDirty,r=t.isEditedPostAutosaveable,o=t.getEditorSettings,i=t.getReferenceByDistinctEdits,c,a=o().autosaveInterval;return{isDirty:n(),isAutosaveable:r(),editsReference:i(),autosaveInterval:a}}),Object(g.withDispatch)(function(e){return{autosave:e("core/editor").autosave}})])(il),al,sl=function e(t){var n=t.children,r=t.isValid,o=t.level,i=t.onClick,c=t.path,a=void 0===c?[]:c;return Object(vo.createElement)("li",{className:go()("document-outline__item","is-".concat(o.toLowerCase()),{"is-invalid":!r})},Object(vo.createElement)("button",{className:"document-outline__button",onClick:i},Object(vo.createElement)("span",{className:"document-outline__emdash","aria-hidden":"true"}),a.map(function(e,t){var n=e.clientId;return Object(vo.createElement)("strong",{key:t,className:"document-outline__level"},Object(vo.createElement)(yc,{clientId:n}))}),Object(vo.createElement)("strong",{className:"document-outline__level"},o),Object(vo.createElement)("span",{className:"document-outline__item-content"},n),Object(vo.createElement)("span",{className:"screen-reader-text"},Object(Q.__)("(Click to focus this heading)"))))},ll=Object(vo.createElement)("em",null,Object(Q.__)("(Empty heading)")),ul=[Object(vo.createElement)("br",{key:"incorrect-break"}),Object(vo.createElement)("em",{key:"incorrect-message"},Object(Q.__)("(Incorrect heading level)"))],dl=[Object(vo.createElement)("br",{key:"incorrect-break-h1"}),Object(vo.createElement)("em",{key:"incorrect-message-h1"},Object(Q.__)("(Your theme may already use a H1 for the post title)"))],pl=[Object(vo.createElement)("br",{key:"incorrect-break-multiple-h1"}),Object(vo.createElement)("em",{key:"incorrect-message-multiple-h1"},Object(Q.__)("(Multiple H1 headings are not recommended)"))],bl=function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return Object(F.flatMap)(e,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return"core/heading"===e.name?Object(Y.a)({},e,{path:n,level:e.attributes.level,isEmpty:fl(e)}):t(e.innerBlocks,Object(R.a)(n).concat([e]))})},fl=function e(t){return!t.attributes.content||0===t.attributes.content.length},hl=function e(t){var n=t.blocks,r=void 0===n?[]:n,o=t.title,i=t.onSelect,c=t.isTitleSupported,a=bl(r);if(a.length<1)return null;var s=1,l=function e(t){return i(t)},u=function e(){var t=document.querySelector(".editor-post-title__input");t&&t.focus()},d=c&&o,p,b=1<Object(F.countBy)(a,"level")[1];return Object(vo.createElement)("div",{className:"document-outline"},Object(vo.createElement)("ul",null,d&&Object(vo.createElement)(sl,{level:Object(Q.__)("Title"),isValid:!0,onClick:u},o),a.map(function(t,e){var n=t.level>s+1,r=!(t.isEmpty||n||!t.level||1===t.level&&(b||d));return s=t.level,Object(vo.createElement)(sl,{key:e,level:"H".concat(t.level),isValid:r,onClick:function e(){return l(t.clientId)},path:t.path},t.isEmpty?ll:Object(v.getTextContent)(Object(v.create)({html:t.attributes.content})),n&&ul,1===t.level&&b&&pl,d&&1===t.level&&!b&&dl)})))},ml=Object(jo.compose)(Object(g.withSelect)(function(e){var t=e("core/editor"),n=t.getEditedPostAttribute,r=t.getBlocks,o,i,c=(0,e("core").getPostType)(n("type"));return{title:n("title"),blocks:r(),isTitleSupported:Object(F.get)(c,["supports","title"],!1)}}),Object(g.withDispatch)(function(e){var t,n;return{onSelect:e("core/editor").selectBlock}}))(hl);function vl(e){var t=e.blocks,n=e.children,r;return Object(F.filter)(t,function(e){return"core/heading"===e.name}).length<1?null:n}var Ol=Object(g.withSelect)(function(e){return{blocks:e("core/editor").getBlocks()}})(vl);function gl(e){var t=e.onDuplicate,n=e.onRemove,r=e.onInsertBefore,o=e.onInsertAfter,i=e.isLocked,c=e.canDuplicate,a;return(0,e.children)({onDuplicate:t,onRemove:n,onInsertAfter:o,onInsertBefore:r,isLocked:i,canDuplicate:c})}var jl=Object(jo.compose)([Object(g.withSelect)(function(e,t){var n=e("core/editor"),r=n.getBlocksByClientId,o=n.getBlockIndex,i=n.getTemplateLock,c=n.getBlockRootClientId,a=r(t.clientIds),s=Object(F.every)(a,function(e){return!!e&&Object($.hasBlockSupport)(e.name,"multiple",!0)}),l=c(t.clientIds[0]);return{firstSelectedIndex:o(Object(F.first)(Object(F.castArray)(t.clientIds)),l),lastSelectedIndex:o(Object(F.last)(Object(F.castArray)(t.clientIds)),l),isLocked:!!i(l),blocks:a,canDuplicate:s,rootClientId:l,extraProps:t}}),Object(g.withDispatch)(function(e,t){var n=t.clientIds,r=t.rootClientId,o=t.blocks,i=t.firstSelectedIndex,c=t.lastSelectedIndex,a=t.isLocked,s=t.canDuplicate,l=e("core/editor"),u=l.insertBlocks,d=l.multiSelect,p=l.removeBlocks,b=l.insertDefaultBlock;return{onDuplicate:function e(){if(!a&&s){var t=o.map(function(e){return Object($.cloneBlock)(e)});u(t,c+1,r),1<t.length&&d(Object(F.first)(t).clientId,Object(F.last)(t).clientId)}},onRemove:function e(){a||p(n)},onInsertBefore:function e(){a||b({},r,i)},onInsertAfter:function e(){a||b({},r,c+1)}}})])(gl),yl=function e(t){return t.preventDefault(),t},kl={duplicate:{raw:bi.rawShortcut.primaryShift("d"),display:bi.displayShortcut.primaryShift("d")},removeBlock:{raw:bi.rawShortcut.access("z"),display:bi.displayShortcut.access("z")},insertBefore:{raw:bi.rawShortcut.primaryAlt("t"),display:bi.displayShortcut.primaryAlt("t")},insertAfter:{raw:bi.rawShortcut.primaryAlt("y"),display:bi.displayShortcut.primaryAlt("y")}},_l=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).selectAll=e.selectAll.bind(Object(wo.a)(Object(wo.a)(e))),e.undoOrRedo=e.undoOrRedo.bind(Object(wo.a)(Object(wo.a)(e))),e.save=e.save.bind(Object(wo.a)(Object(wo.a)(e))),e.deleteSelectedBlocks=e.deleteSelectedBlocks.bind(Object(wo.a)(Object(wo.a)(e))),e.clearMultiSelection=e.clearMultiSelection.bind(Object(wo.a)(Object(wo.a)(e))),e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"selectAll",value:function e(t){var n=this.props,r=n.rootBlocksClientIds,o=n.onMultiSelect;t.preventDefault(),o(Object(F.first)(r),Object(F.last)(r))}},{key:"undoOrRedo",value:function e(t){var n=this.props,r=n.onRedo,o=n.onUndo;t.shiftKey?r():o(),t.preventDefault()}},{key:"save",value:function e(t){t.preventDefault(),this.props.onSave()}},{key:"deleteSelectedBlocks",value:function e(t){var n=this.props,r=n.selectedBlockClientIds,o=n.hasMultiSelection,i=n.onRemove,c=n.isLocked;o&&(t.preventDefault(),c||i(r))}},{key:"clearMultiSelection",value:function e(){var t=this.props,n=t.hasMultiSelection,r=t.clearSelectedBlock;n&&(r(),window.getSelection().removeAllRanges())}},{key:"render",value:function e(){var t,n=this.props.selectedBlockClientIds;return Object(vo.createElement)(vo.Fragment,null,Object(vo.createElement)(To.KeyboardShortcuts,{shortcuts:(t={},Object(D.a)(t,bi.rawShortcut.primary("a"),this.selectAll),Object(D.a)(t,bi.rawShortcut.primary("z"),this.undoOrRedo),Object(D.a)(t,bi.rawShortcut.primaryShift("z"),this.undoOrRedo),Object(D.a)(t,"backspace",this.deleteSelectedBlocks),Object(D.a)(t,"del",this.deleteSelectedBlocks),Object(D.a)(t,"escape",this.clearMultiSelection),t)}),Object(vo.createElement)(To.KeyboardShortcuts,{bindGlobal:!0,shortcuts:Object(D.a)({},bi.rawShortcut.primary("s"),this.save)}),0<n.length&&Object(vo.createElement)(jl,{clientIds:n},function(e){var t,n=e.onDuplicate,r=e.onRemove,o=e.onInsertAfter,i=e.onInsertBefore;return Object(vo.createElement)(To.KeyboardShortcuts,{bindGlobal:!0,shortcuts:(t={},Object(D.a)(t,kl.duplicate.raw,Object(F.flow)(yl,n)),Object(D.a)(t,kl.removeBlock.raw,Object(F.flow)(yl,r)),Object(D.a)(t,kl.insertBefore.raw,Object(F.flow)(yl,i)),Object(D.a)(t,kl.insertAfter.raw,Object(F.flow)(yl,o)),t)})}))}}]),t}(vo.Component),El=Object(jo.compose)([Object(g.withSelect)(function(e){var t=e("core/editor"),n=t.getBlockOrder,r=t.getMultiSelectedBlockClientIds,o=t.hasMultiSelection,i=t.isEditedPostDirty,c=t.getBlockRootClientId,a=t.getTemplateLock,s,l=(0,t.getSelectedBlockClientId)(),u=l?[l]:r();return{rootBlocksClientIds:n(),hasMultiSelection:o(),isLocked:Object(F.some)(u,function(e){return!!a(c(e))}),isDirty:i(),selectedBlockClientIds:u}}),Object(g.withDispatch)(function(e,t){var n=e("core/editor"),r=n.clearSelectedBlock,o=n.multiSelect,i=n.redo,c=n.undo,a=n.removeBlocks,s=n.savePost;return{onSave:function e(){t.isDirty&&s()},clearSelectedBlock:r,onMultiSelect:o,onRedo:i,onUndo:c,onRemove:a}})])(_l);function Sl(e){var t=e.hasRedo,n=e.redo;return Object(vo.createElement)(To.IconButton,{icon:"redo",label:Object(Q.__)("Redo"),shortcut:bi.displayShortcut.primaryShift("z"),"aria-disabled":!t,onClick:t?n:void 0,className:"editor-history__redo"})}var Cl=Object(jo.compose)([Object(g.withSelect)(function(e){return{hasRedo:e("core/editor").hasEditorRedo()}}),Object(g.withDispatch)(function(e){return{redo:e("core/editor").redo}})])(Sl);function wl(e){var t=e.hasUndo,n=e.undo;return Object(vo.createElement)(To.IconButton,{icon:"undo",label:Object(Q.__)("Undo"),shortcut:bi.displayShortcut.primary("z"),"aria-disabled":!t,onClick:t?n:void 0,className:"editor-history__undo"})}var Tl=Object(jo.compose)([Object(g.withSelect)(function(e){return{hasUndo:e("core/editor").hasEditorUndo()}}),Object(g.withDispatch)(function(e){return{undo:e("core/editor").undo}})])(wl);function Pl(e){var t=e.isValid,n=Object(O.a)(e,["isValid"]);if(t)return null;var r=function e(){window.confirm(Object(Q.__)("Resetting the template may result in loss of content, do you want to continue?"))&&n.synchronizeTemplate()};return Object(vo.createElement)(To.Notice,{className:"editor-template-validation-notice",isDismissible:!1,status:"warning"},Object(vo.createElement)("p",null,Object(Q.__)("The content of your post doesnt match the template assigned to your post type.")),Object(vo.createElement)("div",null,Object(vo.createElement)(To.Button,{isDefault:!0,onClick:n.resetTemplateValidity},Object(Q.__)("Keep it as is")),Object(vo.createElement)(To.Button,{onClick:r,isPrimary:!0},Object(Q.__)("Reset the template"))))}var Il=Object(jo.compose)([Object(g.withSelect)(function(e){return{isValid:e("core/editor").isValidTemplate()}}),Object(g.withDispatch)(function(e){var t=e("core/editor"),n=t.setTemplateValidity,r;return{resetTemplateValidity:function e(){return n(!0)},synchronizeTemplate:t.synchronizeTemplate}})])(Pl);function Bl(e){return Object(vo.createElement)(To.NoticeList,e,Object(vo.createElement)(Il,null))}var xl=Object(jo.compose)([Object(g.withSelect)(function(e){return{notices:e("core/notices").getNotices()}}),Object(g.withDispatch)(function(e){return{onRemove:e("core/notices").removeNotice}})])(Bl);function Ll(e){var t=e.availableTemplates,n=e.postType,r=e.children,o;return!Object(F.get)(n,["supports","page-attributes"],!1)&&Object(F.isEmpty)(t)?null:r}var Al=Object(g.withSelect)(function(e){var t=e("core/editor"),n=t.getEditedPostAttribute,r=t.getEditorSettings,o,i=e("core").getPostType,c,a=r().availableTemplates;return{postType:i(n("type")),availableTemplates:a}})(Ll);function Nl(e){var t=e.postType,n=e.children,r=e.supportKeys,o=!0;return t&&(o=Object(F.some)(Object(F.castArray)(r),function(e){return!!t.supports[e]})),o?n:null}var Rl=Object(g.withSelect)(function(e){var t,n=e("core/editor").getEditedPostAttribute,r,o;return{postType:(0,e("core").getPostType)(n("type"))}})(Nl),Dl=Object(jo.withState)({orderInput:null})(function(e){var r=e.onUpdateOrder,t=e.order,n=void 0===t?0:t,o=e.orderInput,i=e.setState,c=function e(t){i({orderInput:t});var n=Number(t);Number.isInteger(n)&&""!==Object(F.invoke)(t,["trim"])&&r(Number(t))},a=null===o?n:o;return Object(vo.createElement)(To.TextControl,{className:"editor-page-attributes__order",type:"number",label:Object(Q.__)("Order"),value:a,onChange:c,size:6,onBlur:function e(){i({orderInput:null})}})});function Fl(e){return Object(vo.createElement)(Rl,{supportKeys:"page-attributes"},Object(vo.createElement)(Dl,e))}var Ml=Object(jo.compose)([Object(g.withSelect)(function(e){return{order:e("core/editor").getEditedPostAttribute("menu_order")}}),Object(g.withDispatch)(function(n){return{onUpdateOrder:function e(t){n("core/editor").editPost({menu_order:t})}}})])(Fl);function Ul(e){var r=Object(F.groupBy)(e,"parent"),t;return function n(e){return e.map(function(e){var t=r[e.id];return Object(Y.a)({},e,{children:t&&t.length?n(t):[]})})}(r[0]||[])}function Hl(e){var t=e.parent,n=e.postType,r=e.items,o=e.onUpdateParent,i=Object(F.get)(n,["hierarchical"],!1),c=Object(F.get)(n,["labels","parent_item_colon"]),a=r||[];if(!i||!c||!a.length)return null;var s=Ul(a.map(function(e){return{id:e.id,parent:e.parent,name:e.title.raw?e.title.raw:"#".concat(e.id," (").concat(Object(Q.__)("no title"),")")}}));return Object(vo.createElement)(To.TreeSelect,{label:c,noOptionLabel:"(".concat(Object(Q.__)("no parent"),")"),tree:s,selectedId:t,onChange:o})}var Vl=Object(g.withSelect)(function(e){var t=e("core"),n=t.getPostType,r=t.getEntityRecords,o=e("core/editor"),i=o.getCurrentPostId,c=o.getEditedPostAttribute,a=c("type"),s=n(a),l=i(),u=Object(F.get)(s,["hierarchical"],!1),d={per_page:-1,exclude:l,parent_exclude:l,orderby:"menu_order",order:"asc"};return{parent:c("parent"),items:u?r("postType",a,d):[],postType:s}}),Kl=Object(g.withDispatch)(function(e){var t,n=e("core/editor").editPost;return{onUpdateParent:function e(t){n({parent:t||0})}}}),zl=Object(jo.compose)([Vl,Kl])(Hl);function Wl(e){var t=e.availableTemplates,n=e.selectedTemplate,r=e.onUpdate;return Object(F.isEmpty)(t)?null:Object(vo.createElement)(To.SelectControl,{label:Object(Q.__)("Template:"),value:n,onChange:r,className:"editor-page-attributes__template",options:Object(F.map)(t,function(e,t){return{value:t,label:e}})})}var ql=Object(jo.compose)(Object(g.withSelect)(function(e){var t=e("core/editor"),n=t.getEditedPostAttribute,r,o,i=(0,t.getEditorSettings)().availableTemplates;return{selectedTemplate:n("template"),availableTemplates:i}}),Object(g.withDispatch)(function(n){return{onUpdate:function e(t){n("core/editor").editPost({template:t||""})}}}))(Wl);function Gl(e){var t=e.hasAssignAuthorAction,n=e.authors,r=e.children;return!t||n.length<2?null:Object(vo.createElement)(Rl,{supportKeys:"author"},r)}var $l=Object(jo.compose)([Object(g.withSelect)(function(e){var t=e("core/editor").getCurrentPost();return{hasAssignAuthorAction:Object(F.get)(t,["_links","wp:action-assign-author"],!1),postType:e("core/editor").getCurrentPostType(),authors:e("core").getAuthors()}}),jo.withInstanceId])(Gl),Yl=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).setAuthorId=e.setAuthorId.bind(Object(wo.a)(Object(wo.a)(e))),e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"setAuthorId",value:function e(t){var n=this.props.onUpdateAuthor,r=t.target.value;n(Number(r))}},{key:"render",value:function e(){var t=this.props,n=t.postAuthor,r=t.instanceId,o=t.authors,i="post-author-selector-"+r;return Object(vo.createElement)($l,null,Object(vo.createElement)("label",{htmlFor:i},Object(Q.__)("Author")),Object(vo.createElement)("select",{id:i,value:n,onChange:this.setAuthorId,className:"editor-post-author__select"},o.map(function(e){return Object(vo.createElement)("option",{key:e.id,value:e.id},e.name)})))}}]),t}(vo.Component),Ql=Object(jo.compose)([Object(g.withSelect)(function(e){return{postAuthor:e("core/editor").getEditedPostAttribute("author"),authors:e("core").getAuthors()}}),Object(g.withDispatch)(function(n){return{onUpdateAuthor:function e(t){n("core/editor").editPost({author:t})}}}),jo.withInstanceId])(Yl);function Xl(e){var t=e.commentStatus,n=void 0===t?"open":t,r=Object(O.a)(e,["commentStatus"]),o=function e(){return r.editPost({comment_status:"open"===n?"closed":"open"})};return Object(vo.createElement)(To.CheckboxControl,{label:Object(Q.__)("Allow Comments"),checked:"open"===n,onChange:o})}var Jl=Object(jo.compose)([Object(g.withSelect)(function(e){return{commentStatus:e("core/editor").getEditedPostAttribute("comment_status")}}),Object(g.withDispatch)(function(e){return{editPost:e("core/editor").editPost}})])(Xl);function Zl(e){var t=e.excerpt,n=e.onUpdateExcerpt;return Object(vo.createElement)("div",{className:"editor-post-excerpt"},Object(vo.createElement)(To.TextareaControl,{label:Object(Q.__)("Write an excerpt (optional)"),className:"editor-post-excerpt__textarea",onChange:function e(t){return n(t)},value:t}),Object(vo.createElement)(To.ExternalLink,{href:"https://codex.wordpress.org/Excerpt"},Object(Q.__)("Learn more about manual excerpts")))}var eu=Object(jo.compose)([Object(g.withSelect)(function(e){return{excerpt:e("core/editor").getEditedPostAttribute("excerpt")}}),Object(g.withDispatch)(function(n){return{onUpdateExcerpt:function e(t){n("core/editor").editPost({excerpt:t})}}})])(Zl);function tu(e){return Object(vo.createElement)(Rl,Object(mo.a)({},e,{supportKeys:"excerpt"}))}var nu=tu;function ru(e){var n=e.themeSupports,t=e.children,r=e.postType,o=e.supportKeys,i;return Object(F.some)(Object(F.castArray)(o),function(e){var t=Object(F.get)(n,[e],!1);return"post-thumbnails"===e&&Object(F.isArray)(t)?Object(F.includes)(t,r):t})?t:null}var ou=Object(g.withSelect)(function(e){var t,n=e("core").getThemeSupports,r,o;return{postType:(0,e("core/editor").getEditedPostAttribute)("type"),themeSupports:n()}})(ru);function iu(e){return Object(vo.createElement)(ou,{supportKeys:"post-thumbnails"},Object(vo.createElement)(Rl,Object(mo.a)({},e,{supportKeys:"thumbnail"})))}var cu=iu,au=["image"],su=Object(Q.__)("Featured Image"),lu=Object(Q.__)("Set featured image"),uu=Object(Q.__)("Remove image");function du(e){var t=e.currentPostId,n=e.featuredImageId,r=e.onUpdateImage,o=e.onRemoveImage,i=e.media,c=e.postType,a=Object(F.get)(c,["labels"],{}),s=Object(vo.createElement)("p",null,Object(Q.__)("To edit the featured image, you need permission to upload media.")),l,u,d;if(i){var p=Object(yo.applyFilters)("editor.PostFeaturedImage.imageSize","post-thumbnail",i.id,t);d=Object(F.has)(i,["media_details","sizes",p])?(l=i.media_details.sizes[p].width,u=i.media_details.sizes[p].height,i.media_details.sizes[p].source_url):(l=i.media_details.width,u=i.media_details.height,i.source_url)}return Object(vo.createElement)(cu,null,Object(vo.createElement)("div",{className:"editor-post-featured-image"},!!n&&Object(vo.createElement)(Qi,{fallback:s},Object(vo.createElement)(Us,{title:a.featured_image||su,onSelect:r,allowedTypes:au,modalClass:"editor-post-featured-image__media-modal",render:function e(t){var n=t.open;return Object(vo.createElement)(To.Button,{className:"editor-post-featured-image__preview",onClick:n,"aria-label":Object(Q.__)("Edit or update the image")},i&&Object(vo.createElement)(To.ResponsiveWrapper,{naturalWidth:l,naturalHeight:u},Object(vo.createElement)("img",{src:d,alt:""})),!i&&Object(vo.createElement)(To.Spinner,null))},value:n})),!!n&&i&&!i.isLoading&&Object(vo.createElement)(Qi,null,Object(vo.createElement)(Us,{title:a.featured_image||su,onSelect:r,allowedTypes:au,modalClass:"editor-post-featured-image__media-modal",render:function e(t){var n=t.open;return Object(vo.createElement)(To.Button,{onClick:n,isDefault:!0,isLarge:!0},Object(Q.__)("Replace image"))}})),!n&&Object(vo.createElement)("div",null,Object(vo.createElement)(Qi,{fallback:s},Object(vo.createElement)(Us,{title:a.featured_image||su,onSelect:r,allowedTypes:au,modalClass:"editor-post-featured-image__media-modal",render:function e(t){var n=t.open;return Object(vo.createElement)(To.Button,{className:"editor-post-featured-image__toggle",onClick:n},a.set_featured_image||lu)}}))),!!n&&Object(vo.createElement)(Qi,null,Object(vo.createElement)(To.Button,{onClick:o,isLink:!0,isDestructive:!0},a.remove_featured_image||uu))))}var pu=Object(g.withSelect)(function(e){var t=e("core"),n=t.getMedia,r=t.getPostType,o=e("core/editor"),i=o.getCurrentPostId,c=o.getEditedPostAttribute,a=c("featured_media");return{media:a?n(a):null,currentPostId:i(),postType:r(c("type")),featuredImageId:a}}),bu=Object(g.withDispatch)(function(e){var t,n=e("core/editor").editPost;return{onUpdateImage:function e(t){n({featured_media:t.id})},onRemoveImage:function e(){n({featured_media:0})}}}),fu=Object(jo.compose)(pu,bu,Object(To.withFilters)("editor.PostFeaturedImage"))(du);function hu(e){var t=e.disablePostFormats,n=Object(O.a)(e,["disablePostFormats"]);return!t&&Object(vo.createElement)(Rl,Object(mo.a)({},n,{supportKeys:"post-formats"}))}var mu=Object(g.withSelect)(function(e){var t;return{disablePostFormats:e("core/editor").getEditorSettings().disablePostFormats}})(hu),vu=[{id:"aside",caption:Object(Q.__)("Aside")},{id:"gallery",caption:Object(Q.__)("Gallery")},{id:"link",caption:Object(Q.__)("Link")},{id:"image",caption:Object(Q.__)("Image")},{id:"quote",caption:Object(Q.__)("Quote")},{id:"standard",caption:Object(Q.__)("Standard")},{id:"status",caption:Object(Q.__)("Status")},{id:"video",caption:Object(Q.__)("Video")},{id:"audio",caption:Object(Q.__)("Audio")},{id:"chat",caption:Object(Q.__)("Chat")}];function Ou(e){var n=e.onUpdatePostFormat,t=e.postFormat,r=void 0===t?"standard":t,o=e.supportedFormats,i=e.suggestedFormat,c,a="post-format-selector-"+e.instanceId,s=vu.filter(function(e){return Object(F.includes)(o,e.id)}),l=Object(F.find)(s,function(e){return e.id===i});return Object(vo.createElement)(mu,null,Object(vo.createElement)("div",{className:"editor-post-format"},Object(vo.createElement)("div",{className:"editor-post-format__content"},Object(vo.createElement)("label",{htmlFor:a},Object(Q.__)("Post Format")),Object(vo.createElement)(To.SelectControl,{value:r,onChange:function e(t){return n(t)},id:a,options:s.map(function(e){return{label:e.caption,value:e.id}})})),l&&l.id!==r&&Object(vo.createElement)("div",{className:"editor-post-format__suggestion"},Object(Q.__)("Suggestion:")," ",Object(vo.createElement)(To.Button,{isLink:!0,onClick:function e(){return n(l.id)}},l.caption))))}var gu=Object(jo.compose)([Object(g.withSelect)(function(e){var t=e("core/editor"),n=t.getEditedPostAttribute,r=t.getSuggestedPostFormat,o=n("format"),i=e("core").getThemeSupports(),c;return{postFormat:o,supportedFormats:Object(F.union)([o],Object(F.get)(i,["formats"],[])),suggestedFormat:r()}}),Object(g.withDispatch)(function(n){return{onUpdatePostFormat:function e(t){n("core/editor").editPost({format:t})}}}),
jo.withInstanceId])(Ou);function ju(e){var t=e.lastRevisionId,n=e.revisionsCount,r=e.children;return!t||n<2?null:Object(vo.createElement)(Rl,{supportKeys:"revisions"},r)}var yu=Object(g.withSelect)(function(e){var t=e("core/editor"),n=t.getCurrentPostLastRevisionId,r=t.getCurrentPostRevisionsCount;return{lastRevisionId:n(),revisionsCount:r()}})(ju);function ku(e){var t=e.lastRevisionId,n=e.revisionsCount;return Object(vo.createElement)(yu,null,Object(vo.createElement)(To.IconButton,{href:$s("revision.php",{revision:t,gutenberg:!0}),className:"editor-post-last-revision__title",icon:"backup"},Object(Q.sprintf)(Object(Q._n)("%d Revision","%d Revisions",n),n)))}var _u=Object(g.withSelect)(function(e){var t=e("core/editor"),n=t.getCurrentPostLastRevisionId,r=t.getCurrentPostRevisionsCount;return{lastRevisionId:n(),revisionsCount:r()}})(ku),Eu=n(99),Su=n.n(Eu);function Cu(e){var t=Object(vo.renderToString)(Object(vo.createElement)("div",{className:"editor-post-preview-button__interstitial-message"},Object(vo.createElement)(To.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 96 96"},Object(vo.createElement)(To.Path,{className:"outer",d:"M48 12c19.9 0 36 16.1 36 36S67.9 84 48 84 12 67.9 12 48s16.1-36 36-36",fill:"none"}),Object(vo.createElement)(To.Path,{className:"inner",d:"M69.5 46.4c0-3.9-1.4-6.7-2.6-8.8-1.6-2.6-3.1-4.9-3.1-7.5 0-2.9 2.2-5.7 5.4-5.7h.4C63.9 19.2 56.4 16 48 16c-11.2 0-21 5.7-26.7 14.4h2.1c3.3 0 8.5-.4 8.5-.4 1.7-.1 1.9 2.4.2 2.6 0 0-1.7.2-3.7.3L40 67.5l7-20.9L42 33c-1.7-.1-3.3-.3-3.3-.3-1.7-.1-1.5-2.7.2-2.6 0 0 5.3.4 8.4.4 3.3 0 8.5-.4 8.5-.4 1.7-.1 1.9 2.4.2 2.6 0 0-1.7.2-3.7.3l11.5 34.3 3.3-10.4c1.6-4.5 2.4-7.8 2.4-10.5zM16.1 48c0 12.6 7.3 23.5 18 28.7L18.8 35c-1.7 4-2.7 8.4-2.7 13zm32.5 2.8L39 78.6c2.9.8 5.9 1.3 9 1.3 3.7 0 7.3-.6 10.6-1.8-.1-.1-.2-.3-.2-.4l-9.8-26.9zM76.2 36c0 3.2-.6 6.9-2.4 11.4L64 75.6c9.5-5.5 15.9-15.8 15.9-27.6 0-5.5-1.4-10.8-3.9-15.3.1 1 .2 2.1.2 3.3z",fill:"none"})),Object(vo.createElement)("p",null,Object(Q.__)("Generating preview"))));t+='\n\t\t<style>\n\t\t\tbody {\n\t\t\t\tmargin: 0;\n\t\t\t}\n\t\t\t.editor-post-preview-button__interstitial-message {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\theight: 100vh;\n\t\t\t\twidth: 100vw;\n\t\t\t}\n\t\t\t@-webkit-keyframes paint {\n\t\t\t\t0% {\n\t\t\t\t\tstroke-dashoffset: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t@-moz-keyframes paint {\n\t\t\t\t0% {\n\t\t\t\t\tstroke-dashoffset: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t@-o-keyframes paint {\n\t\t\t\t0% {\n\t\t\t\t\tstroke-dashoffset: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t@keyframes paint {\n\t\t\t\t0% {\n\t\t\t\t\tstroke-dashoffset: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.editor-post-preview-button__interstitial-message svg {\n\t\t\t\twidth: 192px;\n\t\t\t\theight: 192px;\n\t\t\t\tstroke: #555d66;\n\t\t\t\tstroke-width: 0.75;\n\t\t\t}\n\t\t\t.editor-post-preview-button__interstitial-message svg .outer,\n\t\t\t.editor-post-preview-button__interstitial-message svg .inner {\n\t\t\t\tstroke-dasharray: 280;\n\t\t\t\tstroke-dashoffset: 280;\n\t\t\t\t-webkit-animation: paint 1.5s ease infinite alternate;\n\t\t\t\t-moz-animation: paint 1.5s ease infinite alternate;\n\t\t\t\t-o-animation: paint 1.5s ease infinite alternate;\n\t\t\t\tanimation: paint 1.5s ease infinite alternate;\n\t\t\t}\n\t\t\tp {\n\t\t\t\ttext-align: center;\n\t\t\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;\n\t\t\t}\n\t\t</style>\n\t',e.write(t),e.title=Object(Q.__)("Generating preview"),e.close()}var wu=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).openPreviewWindow=e.openPreviewWindow.bind(Object(wo.a)(Object(wo.a)(e))),e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"componentDidUpdate",value:function e(t){var n=this.props.previewLink;n&&!t.previewLink&&this.setPreviewWindowLink(n)}},{key:"setPreviewWindowLink",value:function e(t){var n=this.previewWindow;n&&!n.closed&&(n.location=t)}},{key:"getWindowTarget",value:function e(){var t=this.props.postId;return"wp-preview-".concat(t)}},{key:"openPreviewWindow",value:function e(t){t.preventDefault(),this.previewWindow&&!this.previewWindow.closed||(this.previewWindow=window.open("",this.getWindowTarget())),this.previewWindow.focus(),this.props.isAutosaveable?(this.props.isDraft?this.props.savePost({isPreview:!0}):this.props.autosave({isPreview:!0}),Cu(this.previewWindow.document)):this.setPreviewWindowLink(t.target.href)}},{key:"render",value:function e(){var t=this.props,n=t.previewLink,r=t.currentPostLink,o=t.isSaveable,i=n||r;return Object(vo.createElement)(To.Button,{isLarge:!0,className:"editor-post-preview",href:i,target:this.getWindowTarget(),disabled:!o,onClick:this.openPreviewWindow},Object(Q._x)("Preview","imperative verb"),Object(vo.createElement)("span",{className:"screen-reader-text"},Object(Q.__)("(opens in a new tab)")),Object(vo.createElement)(P.DotTip,{tipId:"core/editor.preview"},Object(Q.__)("Click Preview to load a preview of this page, so you can make sure youre happy with your blocks.")))}}]),t}(vo.Component),Tu=Object(jo.compose)([Object(g.withSelect)(function(e,t){var n=t.forcePreviewLink,r=t.forceIsAutosaveable,o=e("core/editor"),i=o.getCurrentPostId,c=o.getCurrentPostAttribute,a=o.getEditedPostAttribute,s=o.isEditedPostSaveable,l=o.isEditedPostAutosaveable,u=o.getEditedPostPreviewLink,d,p=e("core").getPostType,b=u(),f=p(a("type"));return{postId:i(),currentPostLink:c("link"),previewLink:void 0!==n?n:b,isSaveable:s(),isAutosaveable:r||l(),isViewable:Object(F.get)(f,["viewable"],!1),isDraft:-1!==["draft","auto-draft"].indexOf(a("status"))}}),Object(g.withDispatch)(function(e){return{autosave:e("core/editor").autosave,savePost:e("core/editor").savePost}}),Object(jo.ifCondition)(function(e){var t;return e.isViewable})])(wu),Pu=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).sendPostLock=e.sendPostLock.bind(Object(wo.a)(Object(wo.a)(e))),e.receivePostLock=e.receivePostLock.bind(Object(wo.a)(Object(wo.a)(e))),e.releasePostLock=e.releasePostLock.bind(Object(wo.a)(Object(wo.a)(e))),e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"componentDidMount",value:function e(){Su()(document).on("heartbeat-send.refresh-lock",this.sendPostLock).on("heartbeat-tick.refresh-lock",this.receivePostLock)}},{key:"componentWillUnmount",value:function e(){Su()(document).off("heartbeat-send.refresh-lock",this.sendPostLock).off("heartbeat-tick.refresh-lock",this.receivePostLock)}},{key:"sendPostLock",value:function e(t,n){var r=this.props,o=r.isLocked,i=r.activePostLock,c=r.postId;o||(n["wp-refresh-post-lock"]={lock:i,post_id:c})}},{key:"receivePostLock",value:function e(t,n){if(n["wp-refresh-post-lock"]){var r=this.props,o=r.autosave,i=r.updatePostLock,c=n["wp-refresh-post-lock"];c.lock_error?(o(),i({isLocked:!0,isTakeover:!0,user:{avatar:c.lock_error.avatar_src}})):c.new_lock&&i({isLocked:!1,activePostLock:c.new_lock})}}},{key:"releasePostLock",value:function e(){var t=this.props,n=t.isLocked,r=t.activePostLock,o=t.postLockUtils,i=t.postId;if(!n&&r){var c={action:"wp-remove-post-lock",_wpnonce:o.unlockNonce,post_ID:i,active_post_lock:r};Su.a.post({async:!1,url:o.ajaxUrl,data:c})}}},{key:"render",value:function e(){var t=this.props,n=t.user,r=t.postId,o=t.isLocked,i=t.isTakeover,c=t.postLockUtils,a=t.postType;if(!o)return null;var s=n.name,l=n.avatar,u=Object(j.addQueryArgs)("post.php",{"get-post-lock":"1",lockKey:!0,post:r,action:"edit",_wpnonce:c.nonce}),d=$s("edit.php",{post_type:Object(F.get)(a,["slug"])}),p=Object(F.get)(a,["labels","all_items"]);return Object(vo.createElement)(To.Modal,{title:i?Object(Q.__)("Someone else has taken over this post."):Object(Q.__)("This post is already being edited."),focusOnMount:!0,shouldCloseOnClickOutside:!1,shouldCloseOnEsc:!1,isDismissable:!1,className:"editor-post-locked-modal"},!!l&&Object(vo.createElement)("img",{src:l,alt:Object(Q.__)("Avatar"),className:"editor-post-locked-modal__avatar"}),!!i&&Object(vo.createElement)("div",null,Object(vo.createElement)("div",null,s?Object(Q.sprintf)(Object(Q.__)("%s now has editing control of this post. Dont worry, your changes up to this moment have been saved."),s):Object(Q.__)("Another user now has editing control of this post. Dont worry, your changes up to this moment have been saved.")),Object(vo.createElement)("div",{className:"editor-post-locked-modal__buttons"},Object(vo.createElement)(To.Button,{isPrimary:!0,isLarge:!0,href:d},p))),!i&&Object(vo.createElement)("div",null,Object(vo.createElement)("div",null,s?Object(Q.sprintf)(Object(Q.__)("%s is currently working on this post, which means you cannot make changes, unless you take over."),s):Object(Q.__)("Another user is currently working on this post, which means you cannot make changes, unless you take over.")),Object(vo.createElement)("div",{className:"editor-post-locked-modal__buttons"},Object(vo.createElement)(To.Button,{isDefault:!0,isLarge:!0,href:d},p),Object(vo.createElement)(Tu,null),Object(vo.createElement)(To.Button,{isPrimary:!0,isLarge:!0,href:u},Object(Q.__)("Take Over")))))}}]),t}(vo.Component),Iu=Object(jo.compose)(Object(g.withSelect)(function(e){var t=e("core/editor"),n=t.getEditorSettings,r=t.isPostLocked,o=t.isPostLockTakeover,i=t.getPostLockUser,c=t.getCurrentPostId,a=t.getActivePostLock,s=t.getEditedPostAttribute,l,u=e("core").getPostType;return{isLocked:r(),isTakeover:o(),user:i(),postId:c(),postLockUtils:n().postLockUtils,activePostLock:a(),postType:u(s("type"))}}),Object(g.withDispatch)(function(e){var t=e("core/editor"),n,r;return{autosave:t.autosave,updatePostLock:t.updatePostLock}}),Object(jo.withGlobalEvents)({beforeunload:"releasePostLock"}))(Pu);function Bu(e){var t=e.hasPublishAction,n=e.isPublished,r=e.children;return n||!t?null:r}var xu=Object(jo.compose)(Object(g.withSelect)(function(e){var t=e("core/editor"),n=t.isCurrentPostPublished,r=t.getCurrentPostType,o=t.getCurrentPost;return{hasPublishAction:Object(F.get)(o(),["_links","wp:action-publish"],!1),isPublished:n(),postType:r()}}))(Bu);function Lu(e){var n=e.status,r=e.onUpdateStatus,t=function e(){var t;r("pending"===n?"draft":"pending")};return Object(vo.createElement)(xu,null,Object(vo.createElement)(To.CheckboxControl,{label:Object(Q.__)("Pending Review"),checked:"pending"===n,onChange:t}))}var Au=Object(jo.compose)(Object(g.withSelect)(function(e){return{status:e("core/editor").getEditedPostAttribute("status")}}),Object(g.withDispatch)(function(n){return{onUpdateStatus:function e(t){n("core/editor").editPost({status:t})}}}))(Lu);function Nu(e){var t=e.pingStatus,n=void 0===t?"open":t,r=Object(O.a)(e,["pingStatus"]),o=function e(){return r.editPost({ping_status:"open"===n?"closed":"open"})};return Object(vo.createElement)(To.CheckboxControl,{label:Object(Q.__)("Allow Pingbacks & Trackbacks"),checked:"open"===n,onChange:o})}var Ru=Object(jo.compose)([Object(g.withSelect)(function(e){return{pingStatus:e("core/editor").getEditedPostAttribute("ping_status")}}),Object(g.withDispatch)(function(e){return{editPost:e("core/editor").editPost}})])(Nu);function Du(e){var t=e.isPublished,n=e.isBeingScheduled,r=e.isSaving,o=e.isPublishing,i=e.hasPublishAction,c=e.isAutosaving;return o?Object(Q.__)("Publishing"):t&&r&&!c?Object(Q.__)("Updating"):n&&r&&!c?Object(Q.__)("Scheduling"):i?t?Object(Q.__)("Update"):n?Object(Q.__)("Schedule"):Object(Q.__)("Publish"):Object(Q.__)("Submit for Review")}var Fu=Object(jo.compose)([Object(g.withSelect)(function(e,t){var n=t.forceIsSaving,r=e("core/editor"),o=r.isCurrentPostPublished,i=r.isEditedPostBeingScheduled,c=r.isSavingPost,a=r.isPublishingPost,s=r.getCurrentPost,l=r.getCurrentPostType,u=r.isAutosavingPost;return{isPublished:o(),isBeingScheduled:i(),isSaving:n||c(),isPublishing:a(),hasPublishAction:Object(F.get)(s(),["_links","wp:action-publish"],!1),postType:l(),isAutosaving:u()}})])(Du),Mu=function(e){function n(e){var t;return Object(ko.a)(this,n),(t=Object(Eo.a)(this,Object(So.a)(n).call(this,e))).buttonNode=Object(vo.createRef)(),t}return Object(Co.a)(n,e),Object(_o.a)(n,[{key:"componentDidMount",value:function e(){this.props.focusOnMount&&this.buttonNode.current.focus()}},{key:"render",value:function e(){var t=this.props,n=t.forceIsDirty,r=t.forceIsSaving,o=t.hasPublishAction,i=t.isBeingScheduled,c=t.isOpen,a=t.isPostSavingLocked,s=t.isPublishable,l=t.isPublished,u=t.isSaveable,d=t.isSaving,p=t.isToggle,b=t.onSave,f=t.onStatusChange,h=t.onSubmit,m=void 0===h?F.noop:h,v=t.onToggle,O=t.visibility,g,j,y;y=o?i?"future":"private"===O?"private":"publish":"pending";var k,_={"aria-disabled":d||r||!u||a||!s&&!n,className:"editor-post-publish-button",isBusy:d&&l,isLarge:!0,isPrimary:!0,onClick:function e(){m(),f(y),b()}},E={"aria-disabled":l||d||r||!u||!s&&!n,"aria-expanded":c,className:"editor-post-publish-panel__toggle",isBusy:d&&l,isPrimary:!0,onClick:v},S=i?Object(Q.__)("Schedule"):Object(Q.__)("Publish"),C=Object(vo.createElement)(Fu,{forceIsSaving:r}),w=p?E:_,T=p?S:C;return Object(vo.createElement)(To.Button,Object(mo.a)({ref:this.buttonNode},w),T,Object(vo.createElement)(P.DotTip,{tipId:"core/editor.publish"},Object(Q.__)("Finished writing? Thats great, lets get this published right now. Just click Publish and youre good to go.")))}}]),n}(vo.Component),Uu=Object(jo.compose)([Object(g.withSelect)(function(e){var t=e("core/editor"),n=t.isSavingPost,r=t.isEditedPostBeingScheduled,o=t.getEditedPostVisibility,i=t.isCurrentPostPublished,c=t.isEditedPostSaveable,a=t.isEditedPostPublishable,s=t.isPostSavingLocked,l=t.getCurrentPost,u=t.getCurrentPostType;return{isSaving:n(),isBeingScheduled:r(),visibility:o(),isSaveable:c(),isPostSavingLocked:s(),isPublishable:a(),isPublished:i(),hasPublishAction:Object(F.get)(l(),["_links","wp:action-publish"],!1),postType:u()}}),Object(g.withDispatch)(function(e){var t=e("core/editor"),n=t.editPost,r;return{onStatusChange:function e(t){return n({status:t})},onSave:t.savePost}})])(Mu),Hu=[{value:"public",label:Object(Q.__)("Public"),info:Object(Q.__)("Visible to everyone.")},{value:"private",label:Object(Q.__)("Private"),info:Object(Q.__)("Only visible to site admins and editors.")},{value:"password",label:Object(Q.__)("Password Protected"),info:Object(Q.__)("Protected with a password you choose. Only those with the password can view this post.")}],Vu=function(e){function n(e){var t;return Object(ko.a)(this,n),(t=Object(Eo.a)(this,Object(So.a)(n).apply(this,arguments))).setPublic=t.setPublic.bind(Object(wo.a)(Object(wo.a)(t))),t.setPrivate=t.setPrivate.bind(Object(wo.a)(Object(wo.a)(t))),t.setPasswordProtected=t.setPasswordProtected.bind(Object(wo.a)(Object(wo.a)(t))),t.updatePassword=t.updatePassword.bind(Object(wo.a)(Object(wo.a)(t))),t.state={hasPassword:!!e.password},t}return Object(Co.a)(n,e),Object(_o.a)(n,[{key:"setPublic",value:function e(){var t=this.props,n=t.visibility,r=t.onUpdateVisibility,o=t.status;r("private"===n?"draft":o),this.setState({hasPassword:!1})}},{key:"setPrivate",value:function e(){if(window.confirm(Object(Q.__)("Would you like to privately publish this post now?"))){var t=this.props,n=t.onUpdateVisibility,r=t.onSave;n("private"),this.setState({hasPassword:!1}),r()}}},{key:"setPasswordProtected",value:function e(){var t=this.props,n=t.visibility,r=t.onUpdateVisibility,o=t.status,i;r("private"===n?"draft":o,t.password||""),this.setState({hasPassword:!0})}},{key:"updatePassword",value:function e(t){var n=this.props,r=n.status,o;(0,n.onUpdateVisibility)(r,t.target.value)}},{key:"render",value:function e(){var t=this.props,n=t.visibility,r=t.password,o=t.instanceId,i={public:{onSelect:this.setPublic,checked:"public"===n&&!this.state.hasPassword},private:{onSelect:this.setPrivate,checked:"private"===n},password:{onSelect:this.setPasswordProtected,checked:this.state.hasPassword}};return[Object(vo.createElement)("fieldset",{key:"visibility-selector",className:"editor-post-visibility__dialog-fieldset"},Object(vo.createElement)("legend",{className:"editor-post-visibility__dialog-legend"},Object(Q.__)("Post Visibility")),Hu.map(function(e){var t=e.value,n=e.label,r=e.info;return Object(vo.createElement)("div",{key:t,className:"editor-post-visibility__choice"},Object(vo.createElement)("input",{type:"radio",name:"editor-post-visibility__setting-".concat(o),value:t,onChange:i[t].onSelect,checked:i[t].checked,id:"editor-post-".concat(t,"-").concat(o),"aria-describedby":"editor-post-".concat(t,"-").concat(o,"-description"),className:"editor-post-visibility__dialog-radio"}),Object(vo.createElement)("label",{htmlFor:"editor-post-".concat(t,"-").concat(o),className:"editor-post-visibility__dialog-label"},n),Object(vo.createElement)("p",{id:"editor-post-".concat(t,"-").concat(o,"-description"),className:"editor-post-visibility__dialog-info"},r))})),this.state.hasPassword&&Object(vo.createElement)("div",{className:"editor-post-visibility__dialog-password",key:"password-selector"},Object(vo.createElement)("label",{htmlFor:"editor-post-visibility__dialog-password-input-".concat(o),className:"screen-reader-text"},Object(Q.__)("Create password")),Object(vo.createElement)("input",{className:"editor-post-visibility__dialog-password-input",id:"editor-post-visibility__dialog-password-input-".concat(o),type:"text",onChange:this.updatePassword,value:r,placeholder:Object(Q.__)("Use a secure password")}))]}}]),n}(vo.Component),Ku=Object(jo.compose)([Object(g.withSelect)(function(e){var t=e("core/editor"),n=t.getEditedPostAttribute,r=t.getEditedPostVisibility;return{status:n("status"),visibility:r(),password:n("password")}}),Object(g.withDispatch)(function(e){var t=e("core/editor"),n=t.savePost,r=t.editPost;return{onSave:n,onUpdateVisibility:function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;r({status:t,password:n})}}}),jo.withInstanceId])(Vu);function zu(e){var t=e.visibility,n;return function e(){return Object(F.find)(Hu,{value:t}).label}(t)}var Wu=Object(g.withSelect)(function(e){return{visibility:e("core/editor").getEditedPostVisibility()}})(zu);function qu(e){var t=e.date,n=e.onUpdateDate,r=Object(jt.__experimentalGetSettings)(),o=/a(?!\\)/i.test(r.formats.time.toLowerCase().replace(/\\\\/g,"").split("").reverse().join(""));return Object(vo.createElement)(To.DateTimePicker,{key:"date-time-picker",currentDate:t,onChange:n,is12Hour:o})}var Gu=Object(jo.compose)([Object(g.withSelect)(function(e){return{date:e("core/editor").getEditedPostAttribute("date")}}),Object(g.withDispatch)(function(n){return{onUpdateDate:function e(t){n("core/editor").editPost({date:t})}}})])(qu);function $u(e){var t=e.date,n=e.isFloating,r=Object(jt.__experimentalGetSettings)();return t&&!n?Object(jt.dateI18n)(r.formats.datetimeAbbreviated,t):Object(Q.__)("Immediately")}var Yu=Object(g.withSelect)(function(e){return{date:e("core/editor").getEditedPostAttribute("date"),isFloating:e("core/editor").isEditedPostDateFloating()}})($u),Qu={per_page:-1,orderby:"count",order:"desc",_fields:"id,name"},Xu=20,Ju=function e(t,n){return t.toLowerCase()===n.toLowerCase()},Zu=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).onChange=e.onChange.bind(Object(wo.a)(Object(wo.a)(e))),e.searchTerms=Object(F.throttle)(e.searchTerms.bind(Object(wo.a)(Object(wo.a)(e))),500),e.findOrCreateTerm=e.findOrCreateTerm.bind(Object(wo.a)(Object(wo.a)(e))),e.state={loading:!1,availableTerms:[],selectedTerms:[]},e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"componentDidMount",value:function e(){var t=this;Object(F.isEmpty)(this.props.terms)||(this.setState({loading:!1}),this.initRequest=this.fetchTerms({include:this.props.terms.join(","),per_page:-1}),this.initRequest.then(function(){t.setState({loading:!1})},function(e){"abort"!==e.statusText&&t.setState({loading:!1})}))}},{key:"componentWillUnmount",value:function e(){Object(F.invoke)(this.initRequest,["abort"]),Object(F.invoke)(this.searchRequest,["abort"])}},{key:"componentDidUpdate",value:function e(t){t.terms!==this.props.terms&&this.updateSelectedTerms(this.props.terms)}},{key:"fetchTerms",value:function e(){var n=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=this.props.taxonomy,o=Object(Y.a)({},Qu,t),i=Kr()({path:Object(j.addQueryArgs)("/wp/v2/".concat(r.rest_base),o)});return i.then(function(t){n.setState(function(e){return{availableTerms:e.availableTerms.concat(t.filter(function(t){return!Object(F.find)(e.availableTerms,function(e){return e.id===t.id})}))}}),n.updateSelectedTerms(n.props.terms)}),i}},{key:"updateSelectedTerms",value:function e(){var r=this,t,n=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var n=Object(F.find)(r.state.availableTerms,function(e){return e.id===t});return n&&e.push(n.name),e},[]);this.setState({selectedTerms:n})}},{key:"findOrCreateTerm",value:function e(n){var r=this,o=this.props.taxonomy;return Kr()({path:"/wp/v2/".concat(o.rest_base),method:"POST",data:{name:n}}).catch(function(e){var t;return"term_exists"===e.code?(r.addRequest=Kr()({path:Object(j.addQueryArgs)("/wp/v2/".concat(o.rest_base),Object(Y.a)({},Qu,{search:n}))}),r.addRequest.then(function(e){return Object(F.find)(e,function(e){return Ju(e.name,n)})})):Promise.reject(e)})}},{key:"onChange",value:function e(t){var n=this,r=Object(F.uniqBy)(t,function(e){return e.toLowerCase()});this.setState({selectedTerms:r});var o=r.filter(function(t){return!Object(F.find)(n.state.availableTerms,function(e){return Ju(e.name,t)})}),i=function e(t,n){return t.map(function(t){return Object(F.find)(n,function(e){return Ju(e.name,t)}).id})};if(0===o.length)return this.props.onUpdateTerms(i(r,this.state.availableTerms),this.props.taxonomy.rest_base);Promise.all(o.map(this.findOrCreateTerm)).then(function(e){var t=n.state.availableTerms.concat(e);return n.setState({availableTerms:t}),n.props.onUpdateTerms(i(r,t),n.props.taxonomy.rest_base)})}},{key:"searchTerms",value:function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";Object(F.invoke)(this.searchRequest,["abort"]),this.searchRequest=this.fetchTerms({search:t})}},{key:"render",value:function e(){var t=this.props,n=t.slug,r=t.taxonomy,o;if(!t.hasAssignAction)return null;var i=this.state,c=i.loading,a=i.availableTerms,s=i.selectedTerms,l=a.map(function(e){return e.name}),u=Object(F.get)(r,["labels","add_new_item"],"post_tag"===n?Object(Q.__)("Add New Tag"):Object(Q.__)("Add New Term")),d=Object(F.get)(r,["labels","singular_name"],"post_tag"===n?Object(Q.__)("Tag"):Object(Q.__)("Term")),p=Object(Q.sprintf)(Object(Q._x)("%s added","term"),d),b=Object(Q.sprintf)(Object(Q._x)("%s removed","term"),d),f=Object(Q.sprintf)(Object(Q._x)("Remove %s","term"),d);return Object(vo.createElement)(To.FormTokenField,{value:s,displayTransform:F.unescape,suggestions:l,onChange:this.onChange,onInputChange:this.searchTerms,maxSuggestions:20,disabled:c,label:u,messages:{added:p,removed:b,remove:f}})}}]),t}(vo.Component),ed=Object(jo.compose)(Object(g.withSelect)(function(e,t){var n=t.slug,r,o=e("core/editor").getCurrentPost,i,c,a=(0,e("core").getTaxonomy)(n);return{hasCreateAction:!!a&&Object(F.get)(o(),["_links","wp:action-create-"+a.rest_base],!1),hasAssignAction:!!a&&Object(F.get)(o(),["_links","wp:action-assign-"+a.rest_base],!1),terms:a?e("core/editor").getEditedPostAttribute(a.rest_base):[],taxonomy:a}}),Object(g.withDispatch)(function(r){return{onUpdateTerms:function e(t,n){r("core/editor").editPost(Object(D.a)({},n,t))}}}),Object(To.withFilters)("editor.PostTaxonomyType"))(Zu),td=function e(){var t=[Object(Q.__)("Suggestion:"),Object(vo.createElement)("span",{className:"editor-post-publish-panel__link",key:"label"},Object(Q.__)("Add tags"))];return Object(vo.createElement)(To.PanelBody,{initialOpen:!1,title:t},Object(vo.createElement)("p",null,Object(Q.__)("Tags help users and search engines navigate your site and find your content. Add a few keywords to describe your post.")),Object(vo.createElement)(ed,{slug:"post_tag"}))},nd=function(e){function n(e){var t;return Object(ko.a)(this,n),(t=Object(Eo.a)(this,Object(So.a)(n).call(this,e))).state={hadTagsWhenOpeningThePanel:e.hasTags},t}return Object(Co.a)(n,e),Object(_o.a)(n,[{key:"render",value:function e(){return this.state.hadTagsWhenOpeningThePanel?null:Object(vo.createElement)(td,null)}}]),n}(vo.Component),rd=Object(jo.compose)(Object(g.withSelect)(function(e){var t=e("core/editor").getCurrentPostType(),n=e("core").getTaxonomy("post_tag"),r=n&&e("core/editor").getEditedPostAttribute(n.rest_base);return{areTagsFetched:void 0!==n,isPostTypeSupported:n&&Object(F.some)(n.types,function(e){return e===t}),hasTags:r&&r.length}}),Object(jo.ifCondition)(function(e){var t=e.areTagsFetched,n;return e.isPostTypeSupported&&t}))(nd),od=function e(t){var n=t.suggestedPostFormat,r=t.suggestionText,o=t.onUpdatePostFormat;return Object(vo.createElement)(To.Button,{isLink:!0,onClick:function e(){return o(n)}},r)},id=function e(t){var n=t.suggestion,r=t.onUpdatePostFormat,o=[Object(Q.__)("Suggestion:"),Object(vo.createElement)("span",{className:"editor-post-publish-panel__link",key:"label"},Object(Q.__)("Use a post format"))];return Object(vo.createElement)(To.PanelBody,{initialOpen:!1,title:o},Object(vo.createElement)("p",null,Object(Q.__)("Your theme uses post formats to highlight different kinds of content, like images or videos. Apply a post format to see this special styling.")),Object(vo.createElement)("p",null,Object(vo.createElement)(od,{onUpdatePostFormat:r,suggestedPostFormat:n.id,suggestionText:Object(Q.sprintf)(Object(Q.__)('Apply the "%1$s" format.'),n.caption)})))},cd=function e(t,n){var r=vu.filter(function(e){return Object(F.includes)(t,e.id)});return Object(F.find)(r,function(e){return e.id===n})},ad=Object(jo.compose)(Object(g.withSelect)(function(e){var t=e("core/editor"),n=t.getEditedPostAttribute,r=t.getSuggestedPostFormat,o=Object(F.get)(e("core").getThemeSupports(),["formats"],[]);return{currentPostFormat:n("format"),suggestion:cd(o,r())}}),Object(g.withDispatch)(function(n){return{onUpdatePostFormat:function e(t){n("core/editor").editPost({format:t})}}}),Object(jo.ifCondition)(function(e){var t=e.suggestion,n=e.currentPostFormat;return t&&t.id!==n}))(id);function sd(e){var t=e.hasPublishAction,n=e.isBeingScheduled,r=e.children,o,i;return i=t?n?(o=Object(Q.__)("Are you ready to schedule?"),Object(Q.__)("Your work will be published at the specified date and time.")):(o=Object(Q.__)("Are you ready to publish?"),Object(Q.__)("Double-check your settings before publishing.")):(o=Object(Q.__)("Are you ready to submit for review?"),Object(Q.__)("When youre ready, submit your work for review, and an Editor will be able to approve it for you.")),Object(vo.createElement)("div",{className:"editor-post-publish-panel__prepublish"},Object(vo.createElement)("div",null,Object(vo.createElement)("strong",null,o)),Object(vo.createElement)("p",null,i),t&&Object(vo.createElement)(vo.Fragment,null,Object(vo.createElement)(To.PanelBody,{initialOpen:!1,title:[Object(Q.__)("Visibility:"),Object(vo.createElement)("span",{className:"editor-post-publish-panel__link",key:"label"},Object(vo.createElement)(Wu,null))]},Object(vo.createElement)(Ku,null)),Object(vo.createElement)(To.PanelBody,{initialOpen:!1,title:[Object(Q.__)("Publish:"),Object(vo.createElement)("span",{className:"editor-post-publish-panel__link",key:"label"},Object(vo.createElement)(Yu,null))]},Object(vo.createElement)(Gu,null)),Object(vo.createElement)(ad,null),Object(vo.createElement)(rd,null),r))}var ld=Object(g.withSelect)(function(e){var t=e("core/editor"),n=t.getCurrentPost,r=t.isEditedPostBeingScheduled;return{hasPublishAction:Object(F.get)(n(),["_links","wp:action-publish"],!1),isBeingScheduled:r()}})(sd),ud=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).state={showCopyConfirmation:!1},e.onCopy=e.onCopy.bind(Object(wo.a)(Object(wo.a)(e))),e.onSelectInput=e.onSelectInput.bind(Object(wo.a)(Object(wo.a)(e))),e.postLink=Object(vo.createRef)(),e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"componentDidMount",value:function e(){this.props.focusOnMount&&this.postLink.current.focus()}},{key:"componentWillUnmount",value:function e(){clearTimeout(this.dismissCopyConfirmation)}},{key:"onCopy",value:function e(){var t=this;this.setState({showCopyConfirmation:!0}),clearTimeout(this.dismissCopyConfirmation),this.dismissCopyConfirmation=setTimeout(function(){t.setState({showCopyConfirmation:!1})},4e3)}},{key:"onSelectInput",value:function e(t){t.target.select()}},{key:"render",value:function e(){var t=this.props,n=t.children,r=t.isScheduled,o=t.post,i=t.postType,c=Object(F.get)(i,["labels","singular_name"]),a=Object(F.get)(i,["labels","view_item"]),s=r?Object(vo.createElement)(vo.Fragment,null,Object(Q.__)("is now scheduled. It will go live on")," ",Object(vo.createElement)(Yu,null),"."):Object(Q.__)("is now live.");return Object(vo.createElement)("div",{className:"post-publish-panel__postpublish"},Object(vo.createElement)(To.PanelBody,{className:"post-publish-panel__postpublish-header"},Object(vo.createElement)("a",{ref:this.postLink,href:o.link},o.title||Object(Q.__)("(no title)"))," ",s),Object(vo.createElement)(To.PanelBody,null,Object(vo.createElement)("p",{className:"post-publish-panel__postpublish-subheader"},Object(vo.createElement)("strong",null,Object(Q.__)("Whats next?"))),Object(vo.createElement)(To.TextControl,{className:"post-publish-panel__postpublish-post-address",readOnly:!0,label:Object(Q.sprintf)(Object(Q.__)("%s address"),c),value:o.link,onFocus:this.onSelectInput}),Object(vo.createElement)("div",{className:"post-publish-panel__postpublish-buttons"},!r&&Object(vo.createElement)(To.Button,{isDefault:!0,href:o.link},a),Object(vo.createElement)(To.ClipboardButton,{isDefault:!0,text:o.link,onCopy:this.onCopy},this.state.showCopyConfirmation?Object(Q.__)("Copied!"):Object(Q.__)("Copy Link")))),n)}}]),t}(vo.Component),dd=Object(g.withSelect)(function(e){var t=e("core/editor"),n=t.getEditedPostAttribute,r=t.getCurrentPost,o=t.isCurrentPostScheduled,i,c=e("core").getPostType;return{post:r(),postType:c(n("type")),isScheduled:o()}})(ud),pd=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).onSubmit=e.onSubmit.bind(Object(wo.a)(Object(wo.a)(e))),e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"componentDidUpdate",value:function e(t){t.isPublished&&!this.props.isSaving&&this.props.isDirty&&this.props.onClose()}},{key:"onSubmit",value:function e(){var t=this.props,n=t.onClose,r=t.hasPublishAction,o=t.isPostTypeViewable;r&&o||n()}},{key:"render",value:function e(){var t=this.props,n=t.forceIsDirty,r=t.forceIsSaving,o=t.isBeingScheduled,i=t.isPublished,c=t.isPublishSidebarEnabled,a=t.isScheduled,s=t.isSaving,l=t.onClose,u=t.onTogglePublishSidebar,d=t.PostPublishExtension,p=t.PrePublishExtension,b=Object(O.a)(t,["forceIsDirty","forceIsSaving","isBeingScheduled","isPublished","isPublishSidebarEnabled","isScheduled","isSaving","onClose","onTogglePublishSidebar","PostPublishExtension","PrePublishExtension"]),f=Object(F.omit)(b,["hasPublishAction","isDirty","isPostTypeViewable"]),h=i||a&&o,m=!h&&!s,v=h&&!s;return Object(vo.createElement)("div",Object(mo.a)({className:"editor-post-publish-panel"},f),Object(vo.createElement)("div",{className:"editor-post-publish-panel__header"},v?Object(vo.createElement)("div",{className:"editor-post-publish-panel__header-published"},a?Object(Q.__)("Scheduled"):Object(Q.__)("Published")):Object(vo.createElement)("div",{className:"editor-post-publish-panel__header-publish-button"},Object(vo.createElement)(Uu,{focusOnMount:!0,onSubmit:this.onSubmit,forceIsDirty:n,forceIsSaving:r}),Object(vo.createElement)("span",{className:"editor-post-publish-panel__spacer"})),Object(vo.createElement)(To.IconButton,{
"aria-expanded":!0,onClick:l,icon:"no-alt",label:Object(Q.__)("Close panel")})),Object(vo.createElement)("div",{className:"editor-post-publish-panel__content"},m&&Object(vo.createElement)(ld,null,p&&Object(vo.createElement)(p,null)),v&&Object(vo.createElement)(dd,{focusOnMount:!0},d&&Object(vo.createElement)(d,null)),s&&Object(vo.createElement)(To.Spinner,null)),Object(vo.createElement)("div",{className:"editor-post-publish-panel__footer"},Object(vo.createElement)(To.CheckboxControl,{label:Object(Q.__)("Always show pre-publish checks."),checked:c,onChange:u})))}}]),t}(vo.Component),bd=Object(jo.compose)([Object(g.withSelect)(function(e){var t,n=e("core").getPostType,r=e("core/editor"),o=r.getCurrentPost,i=r.getEditedPostAttribute,c=r.isCurrentPostPublished,a=r.isCurrentPostScheduled,s=r.isEditedPostBeingScheduled,l=r.isEditedPostDirty,u=r.isSavingPost,d,p=e("core/editor").isPublishSidebarEnabled,b=n(i("type"));return{hasPublishAction:Object(F.get)(o(),["_links","wp:action-publish"],!1),isPostTypeViewable:Object(F.get)(b,["viewable"],!1),isBeingScheduled:s(),isDirty:l(),isPublished:c(),isPublishSidebarEnabled:p(),isSaving:u(),isScheduled:a()}}),Object(g.withDispatch)(function(e,t){var n=t.isPublishSidebarEnabled,r=e("core/editor"),o=r.disablePublishSidebar,i=r.enablePublishSidebar;return{onTogglePublishSidebar:function e(){n?o():i()}}}),To.withFocusReturn,To.withConstrainedTabbing])(pd);function fd(e){var t=e.isSaving,n=e.isPublished,r=e.isScheduled,o=e.onClick;if(!n&&!r)return null;var i=function e(){var t;n?t=Object(Q.__)("Are you sure you want to unpublish this post?"):r&&(t=Object(Q.__)("Are you sure you want to unschedule this post?")),window.confirm(t)&&o()};return Object(vo.createElement)(To.Button,{className:"editor-post-switch-to-draft",onClick:i,disabled:t,isTertiary:!0},Object(Q.__)("Switch to Draft"))}var hd=Object(jo.compose)([Object(g.withSelect)(function(e){var t=e("core/editor"),n=t.isSavingPost,r=t.isCurrentPostPublished,o=t.isCurrentPostScheduled;return{isSaving:n(),isPublished:r(),isScheduled:o()}}),Object(g.withDispatch)(function(e){var t=e("core/editor"),n=t.editPost,r=t.savePost;return{onClick:function e(){n({status:"draft"}),r()}}})])(fd),md=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).state={forceSavedMessage:!1},e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"componentDidUpdate",value:function e(t){var n=this;t.isSaving&&!this.props.isSaving&&(this.setState({forceSavedMessage:!0}),this.props.setTimeout(function(){n.setState({forceSavedMessage:!1})},1e3))}},{key:"render",value:function e(){var t=this.props,n=t.post,r=t.isNew,o=t.isScheduled,i=t.isPublished,c=t.isDirty,a=t.isSaving,s=t.isSaveable,l=t.onSave,u=t.isAutosaving,d=t.isPending,p=t.isLargeViewport,b=this.state.forceSavedMessage,f=Object(F.get)(n,["_links","wp:action-publish"],!1);if(a){var h=go()("editor-post-saved-state","is-saving",{"is-autosaving":u});return Object(vo.createElement)("span",{className:h},Object(vo.createElement)(To.Dashicon,{icon:"cloud"}),u?Object(Q.__)("Autosaving"):Object(Q.__)("Saving"))}if(i||o)return Object(vo.createElement)(hd,null);if(!s)return null;if(b||!r&&!c)return Object(vo.createElement)("span",{className:"editor-post-saved-state is-saved"},Object(vo.createElement)(To.Dashicon,{icon:"saved"}),Object(Q.__)("Saved"));if(!f&&d)return null;var m=d?Object(Q.__)("Save as Pending"):Object(Q.__)("Save Draft");return p?Object(vo.createElement)(To.Button,{className:"editor-post-save-draft",onClick:l,shortcut:bi.displayShortcut.primary("s"),isTertiary:!0},m):Object(vo.createElement)(To.IconButton,{className:"editor-post-save-draft",label:m,onClick:l,shortcut:bi.displayShortcut.primary("s"),icon:"cloud-upload"})}}]),t}(vo.Component),vd=Object(jo.compose)([Object(g.withSelect)(function(e,t){var n=t.forceIsDirty,r=t.forceIsSaving,o=e("core/editor"),i=o.isEditedPostNew,c=o.isCurrentPostPublished,a=o.isCurrentPostScheduled,s=o.isEditedPostDirty,l=o.isSavingPost,u=o.isEditedPostSaveable,d=o.getCurrentPost,p=o.isAutosavingPost,b=o.getEditedPostAttribute;return{post:d(),isNew:i(),isPublished:c(),isScheduled:a(),isDirty:n||s(),isSaving:r||l(),isSaveable:u(),isAutosaving:p(),isPending:"pending"===b("status")}}),Object(g.withDispatch)(function(e){return{onSave:e("core/editor").savePost}}),jo.withSafeTimeout,Object(a.withViewportMatch)({isLargeViewport:"medium"})])(md);function Od(e){var t=e.hasPublishAction,n=e.children;return t?n:null}var gd=Object(jo.compose)([Object(g.withSelect)(function(e){var t=e("core/editor"),n=t.getCurrentPost,r=t.getCurrentPostType;return{hasPublishAction:Object(F.get)(n(),["_links","wp:action-publish"],!1),postType:r()}})])(Od);function jd(e){var t=e.hasStickyAction,n=e.postType,r=e.children;return"post"===n&&t?r:null}var yd=Object(jo.compose)([Object(g.withSelect)(function(e){var t=e("core/editor").getCurrentPost();return{hasStickyAction:Object(F.get)(t,["_links","wp:action-sticky"],!1),postType:e("core/editor").getCurrentPostType()}})])(jd);function kd(e){var t=e.onUpdateSticky,n=e.postSticky,r=void 0!==n&&n;return Object(vo.createElement)(yd,null,Object(vo.createElement)(To.CheckboxControl,{label:Object(Q.__)("Stick to the Front Page"),checked:r,onChange:function e(){return t(!r)}}))}var _d=Object(jo.compose)([Object(g.withSelect)(function(e){return{postSticky:e("core/editor").getEditedPostAttribute("sticky")}}),Object(g.withDispatch)(function(n){return{onUpdateSticky:function e(t){n("core/editor").editPost({sticky:t})}}})])(kd),Ed={per_page:-1,orderby:"name",order:"asc",_fields:"id,name,parent"},Sd=8,Cd=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).findTerm=e.findTerm.bind(Object(wo.a)(Object(wo.a)(e))),e.onChange=e.onChange.bind(Object(wo.a)(Object(wo.a)(e))),e.onChangeFormName=e.onChangeFormName.bind(Object(wo.a)(Object(wo.a)(e))),e.onChangeFormParent=e.onChangeFormParent.bind(Object(wo.a)(Object(wo.a)(e))),e.onAddTerm=e.onAddTerm.bind(Object(wo.a)(Object(wo.a)(e))),e.onToggleForm=e.onToggleForm.bind(Object(wo.a)(Object(wo.a)(e))),e.setFilterValue=e.setFilterValue.bind(Object(wo.a)(Object(wo.a)(e))),e.sortBySelected=e.sortBySelected.bind(Object(wo.a)(Object(wo.a)(e))),e.state={loading:!0,availableTermsTree:[],availableTerms:[],adding:!1,formName:"",formParent:"",showForm:!1,filterValue:"",filteredTermsTree:[]},e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"onChange",value:function e(t){var n=this.props,r=n.onUpdateTerms,o=n.terms,i=void 0===o?[]:o,c=n.taxonomy,a=parseInt(t.target.value,10),s,l;r(-1!==i.indexOf(a)?Object(F.without)(i,a):Object(R.a)(i).concat([a]),c.rest_base)}},{key:"onChangeFormName",value:function e(t){var n=""===t.target.value.trim()?"":t.target.value;this.setState({formName:n})}},{key:"onChangeFormParent",value:function e(t){this.setState({formParent:t})}},{key:"onToggleForm",value:function e(){this.setState(function(e){return{showForm:!e.showForm}})}},{key:"findTerm",value:function e(t,n,r){return Object(F.find)(t,function(e){return(!e.parent&&!n||parseInt(e.parent)===parseInt(n))&&e.name.toLowerCase()===r.toLowerCase()})}},{key:"onAddTerm",value:function e(t){var o=this;t.preventDefault();var n=this.props,i=n.onUpdateTerms,c=n.taxonomy,a=n.terms,s=n.slug,r=this.state,l=r.formName,u=r.formParent,d=r.adding,p=r.availableTerms;if(""!==l&&!d){var b=this.findTerm(p,u,l),f;if(b)return Object(F.some)(a,function(e){return e===b.id})||i(Object(R.a)(a).concat([b.id]),c.rest_base),void this.setState({formName:"",formParent:""});this.setState({adding:!0}),this.addRequest=Kr()({path:"/wp/v2/".concat(c.rest_base),method:"POST",data:{name:l,parent:u||void 0}}),this.addRequest.catch(function(e){var t;return"term_exists"===e.code?(o.addRequest=Kr()({path:Object(j.addQueryArgs)("/wp/v2/".concat(c.rest_base),Object(Y.a)({},Ed,{parent:u||0,search:l}))}),o.addRequest.then(function(e){return o.findTerm(e,u,l)})):Promise.reject(e)}).then(function(t){var e,n=!!Object(F.find)(o.state.availableTerms,function(e){return e.id===t.id})?o.state.availableTerms:[t].concat(Object(R.a)(o.state.availableTerms)),r=Object(Q.sprintf)(Object(Q._x)("%s added","term"),Object(F.get)(o.props.taxonomy,["labels","singular_name"],"category"===s?Object(Q.__)("Category"):Object(Q.__)("Term")));o.props.speak(r,"assertive"),o.addRequest=null,o.setState({adding:!1,formName:"",formParent:"",availableTerms:n,availableTermsTree:o.sortBySelected(Ul(n))}),i(Object(R.a)(a).concat([t.id]),c.rest_base)},function(e){"abort"!==e.statusText&&(o.addRequest=null,o.setState({adding:!1}))})}}},{key:"componentDidMount",value:function e(){this.fetchTerms()}},{key:"componentWillUnmount",value:function e(){Object(F.invoke)(this.fetchRequest,["abort"]),Object(F.invoke)(this.addRequest,["abort"])}},{key:"componentDidUpdate",value:function e(t){this.props.taxonomy!==t.taxonomy&&this.fetchTerms()}},{key:"fetchTerms",value:function e(){var n=this,t=this.props.taxonomy;t&&(this.fetchRequest=Kr()({path:Object(j.addQueryArgs)("/wp/v2/".concat(t.rest_base),Ed)}),this.fetchRequest.then(function(e){var t=n.sortBySelected(Ul(e));n.fetchRequest=null,n.setState({loading:!1,availableTermsTree:t,availableTerms:e})},function(e){"abort"!==e.statusText&&(n.fetchRequest=null,n.setState({loading:!1}))}))}},{key:"sortBySelected",value:function e(t){var r=this.props.terms,i=function e(t){return-1!==r.indexOf(t.id)||void 0!==t.children&&!!(0<t.children.map(e).filter(function(e){return e}).length);var n},n=function e(t,n){var r=i(t),o=i(n);return r===o?0:r&&!o?-1:!r&&o?1:0};return t.sort(n),t}},{key:"setFilterValue",value:function e(t){var n=this.state.availableTermsTree,r=t.target.value,o=n.map(this.getFilterMatcher(r)).filter(function(e){return e}),i=function e(t){for(var n=0,r=0;r<t.length;r++)n++,void 0!==t[r].children&&(n+=e(t[r].children));return n};this.setState({filterValue:r,filteredTermsTree:o});var c=i(o),a=Object(Q.sprintf)(Object(Q._n)("%d result found.","%d results found.",c),c);this.props.debouncedSpeak(a,"assertive")}},{key:"getFilterMatcher",value:function e(r){var t;return function e(t){if(""===r)return t;var n=Object(Y.a)({},t);return 0<n.children.length&&(n.children=n.children.map(e).filter(function(e){return e})),(-1!==n.name.toLowerCase().indexOf(r)||0<n.children.length)&&n}}},{key:"renderTerms",value:function e(t){var n=this,r=this.props.terms,o=void 0===r?[]:r;return t.map(function(e){var t="editor-post-taxonomies-hierarchical-term-".concat(e.id);return Object(vo.createElement)("div",{key:e.id,className:"editor-post-taxonomies__hierarchical-terms-choice"},Object(vo.createElement)("input",{id:t,className:"editor-post-taxonomies__hierarchical-terms-input",type:"checkbox",checked:-1!==o.indexOf(e.id),value:e.id,onChange:n.onChange}),Object(vo.createElement)("label",{htmlFor:t},Object(F.unescape)(e.name)),!!e.children.length&&Object(vo.createElement)("div",{className:"editor-post-taxonomies__hierarchical-terms-subchoices"},n.renderTerms(e.children)))})}},{key:"render",value:function e(){var t=this.props,o=t.slug,i=t.taxonomy,n=t.instanceId,r=t.hasCreateAction,c;if(!t.hasAssignAction)return null;var a=this.state,s=a.availableTermsTree,l=a.availableTerms,u=a.filteredTermsTree,d=a.formName,p=a.formParent,b=a.loading,f=a.showForm,h=a.filterValue,m=function e(t,n,r){return Object(F.get)(i,["labels",t],"category"===o?n:r)},v=m("add_new_item",Object(Q.__)("Add new category"),Object(Q.__)("Add new term")),O=m("new_item_name",Object(Q.__)("Add new category"),Object(Q.__)("Add new term")),g=m("parent_item",Object(Q.__)("Parent Category"),Object(Q.__)("Parent Term")),j=" ".concat(g," "),y=v,k="editor-post-taxonomies__hierarchical-terms-input-".concat(n),_="editor-post-taxonomies__hierarchical-terms-filter-".concat(n),E=Object(Q.sprintf)(Object(Q._x)("Search %s","term"),Object(F.get)(this.props.taxonomy,["name"],"category"===o?Object(Q.__)("Categories"):Object(Q.__)("Terms"))),S=Object(Q.sprintf)(Object(Q._x)("Available %s","term"),Object(F.get)(this.props.taxonomy,["name"],"category"===o?Object(Q.__)("Categories"):Object(Q.__)("Terms"))),C=8<=l.length;return[C&&Object(vo.createElement)("label",{key:"filter-label",htmlFor:_},E),C&&Object(vo.createElement)("input",{type:"search",id:_,value:h,onChange:this.setFilterValue,className:"editor-post-taxonomies__hierarchical-terms-filter",key:"term-filter-input"}),Object(vo.createElement)("div",{className:"editor-post-taxonomies__hierarchical-terms-list",key:"term-list",tabIndex:"0",role:"group","aria-label":S},this.renderTerms(""!==h?u:s)),!b&&r&&Object(vo.createElement)(To.Button,{key:"term-add-button",onClick:this.onToggleForm,className:"editor-post-taxonomies__hierarchical-terms-add","aria-expanded":f,isLink:!0},v),f&&Object(vo.createElement)("form",{onSubmit:this.onAddTerm,key:"hierarchical-terms-form"},Object(vo.createElement)("label",{htmlFor:k,className:"editor-post-taxonomies__hierarchical-terms-label"},O),Object(vo.createElement)("input",{type:"text",id:k,className:"editor-post-taxonomies__hierarchical-terms-input",value:d,onChange:this.onChangeFormName,required:!0}),!!l.length&&Object(vo.createElement)(To.TreeSelect,{label:g,noOptionLabel:j,onChange:this.onChangeFormParent,selectedId:p,tree:s}),Object(vo.createElement)(To.Button,{isDefault:!0,type:"submit",className:"editor-post-taxonomies__hierarchical-terms-submit"},y))]}}]),t}(vo.Component),wd=Object(jo.compose)([Object(g.withSelect)(function(e,t){var n=t.slug,r,o=e("core/editor").getCurrentPost,i,c,a=(0,e("core").getTaxonomy)(n);return{hasCreateAction:!!a&&Object(F.get)(o(),["_links","wp:action-create-"+a.rest_base],!1),hasAssignAction:!!a&&Object(F.get)(o(),["_links","wp:action-assign-"+a.rest_base],!1),terms:a?e("core/editor").getEditedPostAttribute(a.rest_base):[],taxonomy:a}}),Object(g.withDispatch)(function(r){return{onUpdateTerms:function e(t,n){r("core/editor").editPost(Object(D.a)({},n,t))}}}),To.withSpokenMessages,jo.withInstanceId,Object(To.withFilters)("editor.PostTaxonomyType")])(Cd);function Td(e){var t=e.postType,n=e.taxonomies,r=e.taxonomyWrapper,o=void 0===r?F.identity:r,i=Object(F.filter)(n,function(e){return Object(F.includes)(e.types,t)}),c;return Object(F.filter)(i,function(e){return e.visibility.show_ui}).map(function(e){var t=e.hierarchical?wd:ed;return Object(vo.createElement)(vo.Fragment,{key:"taxonomy-".concat(e.slug)},o(Object(vo.createElement)(t,{slug:e.slug}),e))})}var Pd=Object(jo.compose)([Object(g.withSelect)(function(e){return{postType:e("core/editor").getCurrentPostType(),taxonomies:e("core").getTaxonomies({per_page:-1})}})])(Td);function Id(e){var t=e.postType,n=e.taxonomies,r=e.children,o;return Object(F.some)(n,function(e){return Object(F.includes)(e.types,t)})?r:null}var Bd=Object(jo.compose)([Object(g.withSelect)(function(e){return{postType:e("core/editor").getCurrentPostType(),taxonomies:e("core").getTaxonomies()}})])(Id),xd=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).edit=e.edit.bind(Object(wo.a)(Object(wo.a)(e))),e.stopEditing=e.stopEditing.bind(Object(wo.a)(Object(wo.a)(e))),e.state={},e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"edit",value:function e(t){var n=t.target.value;this.props.onChange(n),this.setState({value:n,isDirty:!0})}},{key:"stopEditing",value:function e(){this.state.isDirty&&(this.props.onPersist(this.state.value),this.setState({isDirty:!1}))}},{key:"render",value:function e(){var t=this.state.value,n=this.props.instanceId;return Object(vo.createElement)(vo.Fragment,null,Object(vo.createElement)("label",{htmlFor:"post-content-".concat(n),className:"screen-reader-text"},Object(Q.__)("Type text or HTML")),Object(vo.createElement)(vc.a,{autoComplete:"off",dir:"auto",value:t,onChange:this.edit,onBlur:this.stopEditing,className:"editor-post-text-editor",id:"post-content-".concat(n),placeholder:Object(Q.__)("Start writing with text or HTML")}))}}],[{key:"getDerivedStateFromProps",value:function e(t,n){return n.isDirty?null:{value:t.value,isDirty:!1}}}]),t}(vo.Component),Ld=Object(jo.compose)([Object(g.withSelect)(function(e){var t,n;return{value:(0,e("core/editor").getEditedPostContent)()}}),Object(g.withDispatch)(function(e){var t=e("core/editor"),n=t.editPost,r=t.resetBlocks;return{onChange:function e(t){n({content:t})},onPersist:function e(t){r(Object($.parse)(t))}}}),jo.withInstanceId])(xd),Ad=function(e){function o(e){var t,n=e.permalinkParts,r=e.slug;return Object(ko.a)(this,o),(t=Object(Eo.a)(this,Object(So.a)(o).apply(this,arguments))).state={editedPostName:r||n.postName},t.onSavePermalink=t.onSavePermalink.bind(Object(wo.a)(Object(wo.a)(t))),t}return Object(Co.a)(o,e),Object(_o.a)(o,[{key:"onSavePermalink",value:function e(t){var n=Ys(this.state.editedPostName);t.preventDefault(),this.props.onSave(),n!==this.props.postName&&(this.props.editPost({slug:n}),this.setState({editedPostName:n}))}},{key:"render",value:function e(){var n=this,t=this.props.permalinkParts,r=t.prefix,o=t.suffix,i=this.state.editedPostName;return Object(vo.createElement)("form",{className:"editor-post-permalink-editor",onSubmit:this.onSavePermalink},Object(vo.createElement)("span",{className:"editor-post-permalink__editor-container"},Object(vo.createElement)("span",{className:"editor-post-permalink-editor__prefix"},r),Object(vo.createElement)("input",{className:"editor-post-permalink-editor__edit","aria-label":Object(Q.__)("Edit post permalink"),value:i,onChange:function e(t){return n.setState({editedPostName:t.target.value})},type:"text",autoFocus:!0}),Object(vo.createElement)("span",{className:"editor-post-permalink-editor__suffix"},o),""),Object(vo.createElement)(To.Button,{className:"editor-post-permalink-editor__save",isLarge:!0,onClick:this.onSavePermalink},Object(Q.__)("Save")))}}]),o}(vo.Component),Nd=Object(jo.compose)([Object(g.withSelect)(function(e){var t,n;return{permalinkParts:(0,e("core/editor").getPermalinkParts)()}}),Object(g.withDispatch)(function(e){var t,n;return{editPost:e("core/editor").editPost}})])(Ad),Rd=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).addVisibilityCheck=e.addVisibilityCheck.bind(Object(wo.a)(Object(wo.a)(e))),e.onVisibilityChange=e.onVisibilityChange.bind(Object(wo.a)(Object(wo.a)(e))),e.state={isCopied:!1,isEditingPermalink:!1},e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"addVisibilityCheck",value:function e(){window.addEventListener("visibilitychange",this.onVisibilityChange)}},{key:"onVisibilityChange",value:function e(){var t=this.props,n=t.isEditable,r=t.refreshPost;n||"visible"!==document.visibilityState||r()}},{key:"componentDidUpdate",value:function e(t,n){n.isEditingPermalink&&!this.state.isEditingPermalink&&this.linkElement.focus()}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("visibilitychange",this.addVisibilityCheck)}},{key:"render",value:function e(){var n=this,t=this.props,r=t.isNew,o=t.postLink,i=t.permalinkParts,c=t.postSlug,a=t.postTitle,s=t.postID,l=t.isEditable,u=t.isPublished;if(r||!o)return null;var d=this.state,p=d.isCopied,b=d.isEditingPermalink,f=p?Object(Q.__)("Permalink copied"):Object(Q.__)("Copy the permalink"),h=i.prefix,m=i.suffix,v=c||Ys(a)||s,O=l?h+v+m:h;return Object(vo.createElement)("div",{className:"editor-post-permalink"},Object(vo.createElement)(To.ClipboardButton,{className:go()("editor-post-permalink__copy",{"is-copied":p}),text:O,label:f,onCopy:function e(){return n.setState({isCopied:!0})},"aria-disabled":p,icon:"admin-links"}),Object(vo.createElement)("span",{className:"editor-post-permalink__label"},Object(Q.__)("Permalink:")),!b&&Object(vo.createElement)(To.ExternalLink,{className:"editor-post-permalink__link",href:u?O:o,target:"_blank",ref:function e(t){return n.linkElement=t}},Object(j.safeDecodeURI)(O),""),b&&Object(vo.createElement)(Nd,{slug:v,onSave:function e(){return n.setState({isEditingPermalink:!1})}}),l&&!b&&Object(vo.createElement)(To.Button,{className:"editor-post-permalink__edit",isLarge:!0,onClick:function e(){return n.setState({isEditingPermalink:!0})}},Object(Q.__)("Edit")),!l&&Object(vo.createElement)(To.Button,{className:"editor-post-permalink__change",isLarge:!0,href:$s("options-permalink.php"),onClick:this.addVisibilityCheck,target:"_blank"},Object(Q.__)("Change Permalinks")))}}]),t}(vo.Component),Dd=Object(jo.compose)([Object(g.withSelect)(function(e){var t=e("core/editor"),n=t.isEditedPostNew,r=t.isPermalinkEditable,o=t.getCurrentPost,i=t.getPermalinkParts,c=t.getEditedPostAttribute,a=t.isCurrentPostPublished,s=o(),l=s.id,u=s.link;return{isNew:n(),postLink:u,permalinkParts:i(),postSlug:c("slug"),isEditable:r(),isPublished:a(),postTitle:c("title"),postID:l}}),Object(g.withDispatch)(function(e){var t,n;return{refreshPost:e("core/editor").refreshPost}})])(Rd),Fd=/[\r\n]+/g,Md=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).onChange=e.onChange.bind(Object(wo.a)(Object(wo.a)(e))),e.onSelect=e.onSelect.bind(Object(wo.a)(Object(wo.a)(e))),e.onUnselect=e.onUnselect.bind(Object(wo.a)(Object(wo.a)(e))),e.onKeyDown=e.onKeyDown.bind(Object(wo.a)(Object(wo.a)(e))),e.redirectHistory=e.redirectHistory.bind(Object(wo.a)(Object(wo.a)(e))),e.state={isSelected:!1},e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"handleFocusOutside",value:function e(){this.onUnselect()}},{key:"onSelect",value:function e(){this.setState({isSelected:!0}),this.props.clearSelectedBlock()}},{key:"onUnselect",value:function e(){this.setState({isSelected:!1})}},{key:"onChange",value:function e(t){var n=t.target.value.replace(Fd," ");this.props.onUpdate(n)}},{key:"onKeyDown",value:function e(t){t.keyCode===bi.ENTER&&(t.preventDefault(),this.props.onEnterPress())}},{key:"redirectHistory",value:function e(t){t.shiftKey?this.props.onRedo():this.props.onUndo(),t.preventDefault()}},{key:"render",value:function e(){var t=this.props,n=t.hasFixedToolbar,r=t.isCleanNewPost,o=t.isFocusMode,i=t.isPostTypeViewable,c=t.instanceId,a=t.placeholder,s=t.title,l=this.state.isSelected,u=go()("wp-block editor-post-title__block",{"is-selected":l,"is-focus-mode":o,"has-fixed-toolbar":n}),d=Object(ka.decodeEntities)(a);return Object(vo.createElement)(Rl,{supportKeys:"title"},Object(vo.createElement)("div",{className:"editor-post-title"},Object(vo.createElement)("div",{className:u},Object(vo.createElement)(To.KeyboardShortcuts,{shortcuts:{"mod+z":this.redirectHistory,"mod+shift+z":this.redirectHistory}},Object(vo.createElement)("label",{htmlFor:"post-title-".concat(c),className:"screen-reader-text"},d||Object(Q.__)("Add title")),Object(vo.createElement)(vc.a,{id:"post-title-".concat(c),className:"editor-post-title__input",value:s,onChange:this.onChange,placeholder:d||Object(Q.__)("Add title"),onFocus:this.onSelect,onKeyDown:this.onKeyDown,onKeyPress:this.onUnselect,autoFocus:r})),l&&i&&Object(vo.createElement)(Dd,null))))}}]),t}(vo.Component),Ud=Object(g.withSelect)(function(e){var t=e("core/editor"),n=t.getEditedPostAttribute,r=t.getEditorSettings,o=t.isCleanNewPost,i,c,a=(0,e("core").getPostType)(n("type")),s=r(),l=s.titlePlaceholder,u=s.focusMode,d=s.hasFixedToolbar;return{isCleanNewPost:o(),title:n("title"),isPostTypeViewable:Object(F.get)(a,["viewable"],!1),placeholder:l,isFocusMode:u,hasFixedToolbar:d}}),Hd=Object(g.withDispatch)(function(e){var t=e("core/editor"),n=t.insertDefaultBlock,r=t.editPost,o=t.clearSelectedBlock,i,c;return{onEnterPress:function e(){n(void 0,void 0,0)},onUpdate:function e(t){r({title:t})},onUndo:t.undo,onRedo:t.redo,clearSelectedBlock:o}}),Vd=Object(jo.compose)(Ud,Hd,jo.withInstanceId,To.withFocusOutside)(Md);function Kd(e){var t=e.isNew,n=e.postId,r=e.postType,o=Object(O.a)(e,["isNew","postId","postType"]);if(t||!n)return null;var i=function e(){return o.trashPost(n,r)};return Object(vo.createElement)(To.Button,{className:"editor-post-trash button-link-delete",onClick:i,isDefault:!0,isLarge:!0},Object(Q.__)("Move to trash"))}var zd=Object(jo.compose)([Object(g.withSelect)(function(e){var t=e("core/editor"),n=t.isEditedPostNew,r=t.getCurrentPostId,o=t.getCurrentPostType;return{isNew:n(),postId:r(),postType:o()}}),Object(g.withDispatch)(function(e){return{trashPost:e("core/editor").trashPost}})])(Kd);function Wd(e){var t=e.isNew,n=e.postId,r=e.children;return t||!n?null:r}var qd=Object(g.withSelect)(function(e){var t=e("core/editor"),n=t.isEditedPostNew,r=t.getCurrentPostId;return{isNew:n(),postId:r()}})(Wd);function Gd(e){var t=e.hasPublishAction,n,r;return(0,e.render)({canEdit:t})}var $d=Object(jo.compose)([Object(g.withSelect)(function(e){var t=e("core/editor"),n=t.getCurrentPost,r=t.getCurrentPostType;return{hasPublishAction:Object(F.get)(n(),["_links","wp:action-publish"],!1),postType:r()}})])(Gd),Yd=n(97);function Qd(e){var t=e.content,n=Object(Q._x)("words","Word count type. Do not translate!");return Object(vo.createElement)("span",{className:"word-count"},Object(Yd.count)(t,n))}var Xd=Object(g.withSelect)(function(e){return{content:e("core/editor").getEditedPostAttribute("content")}})(Qd);function Jd(e){var t=e.headingCount,n=e.paragraphCount,r=e.numberOfBlocks;return Object(vo.createElement)(vo.Fragment,null,Object(vo.createElement)("div",{className:"table-of-contents__counts",role:"note","aria-label":Object(Q.__)("Document Statistics"),tabIndex:"0"},Object(vo.createElement)("div",{className:"table-of-contents__count"},Object(Q.__)("Words"),Object(vo.createElement)(Xd,null)),Object(vo.createElement)("div",{className:"table-of-contents__count"},Object(Q.__)("Headings"),Object(vo.createElement)("span",{className:"table-of-contents__number"},t)),Object(vo.createElement)("div",{className:"table-of-contents__count"},Object(Q.__)("Paragraphs"),Object(vo.createElement)("span",{className:"table-of-contents__number"},n)),Object(vo.createElement)("div",{className:"table-of-contents__count"},Object(Q.__)("Blocks"),Object(vo.createElement)("span",{className:"table-of-contents__number"},r))),0<t&&Object(vo.createElement)(vo.Fragment,null,Object(vo.createElement)("hr",null),Object(vo.createElement)("span",{className:"table-of-contents__title"},Object(Q.__)("Document Outline")),Object(vo.createElement)(ml,null)))}var Zd=Object(g.withSelect)(function(e){var t,n=e("core/editor").getGlobalBlockCount;return{headingCount:n("core/heading"),paragraphCount:n("core/paragraph"),numberOfBlocks:n()}})(Jd);function ep(e){var o=e.hasBlocks;return Object(vo.createElement)(To.Dropdown,{position:"bottom",className:"table-of-contents",contentClassName:"table-of-contents__popover",renderToggle:function e(t){var n=t.isOpen,r=t.onToggle;return Object(vo.createElement)(To.IconButton,{onClick:o?r:void 0,icon:"info-outline","aria-expanded":n,label:Object(Q.__)("Content structure"),labelPosition:"bottom","aria-disabled":!o})},renderContent:function e(){return Object(vo.createElement)(Zd,null)}})}var tp=Object(g.withSelect)(function(e){return{hasBlocks:!!e("core/editor").getBlockCount()}})(ep),np=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).warnIfUnsavedChanges=e.warnIfUnsavedChanges.bind(Object(wo.a)(Object(wo.a)(e))),e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"componentDidMount",value:function e(){window.addEventListener("beforeunload",this.warnIfUnsavedChanges)}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("beforeunload",this.warnIfUnsavedChanges)}},{key:"warnIfUnsavedChanges",value:function e(t){var n;if(this.props.isDirty)return t.returnValue=Object(Q.__)("You have unsaved changes. If you proceed, they will be lost."),t.returnValue}},{key:"render",value:function e(){return null}}]),t}(vo.Component),rp=Object(g.withSelect)(function(e){return{isDirty:e("core/editor").isEditedPostDirty()}})(np),op=function e(t){var n=t.selectedBlockClientId,r=function e(){var t;ba(n).focus()};return n&&Object(vo.createElement)(To.Button,{isDefault:!0,type:"button",className:"editor-skip-to-selected-block",onClick:r},Object(Q.__)("Skip to the selected block"))},ip=Object(g.withSelect)(function(e){return{selectedBlockClientId:e("core/editor").getBlockSelectionStart()}})(op),cp=n(124),ap=n.n(cp);function sp(e,t){var n=!0,r=!1,o=void 0;try{for(var i=new ap.a(t).values()[Symbol.iterator](),c;!(n=(c=i.next()).done);n=!0){var a=c.value;if(-1!==a.indexOf("is-style-")){var s=a.substring(9),l=Object(F.find)(e,{name:s});if(l)return l}}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return Object(F.find)(e,"isDefault")}function lp(e,t,n){var r=new ap.a(e);return t&&r.remove("is-style-"+t.name),r.add("is-style-"+n.name),r.value}function up(e){var t=e.styles,r=e.className,n=e.onChangeClassName,o=e.name,i=e.attributes,c=e.onSwitch,a=void 0===c?F.noop:c,s=e.onHoverClassName,l=void 0===s?F.noop:s;if(!t||0===t.length)return null;var u=sp(t,r);function d(e){var t=lp(r,u,e);n(t),a()}return Object(vo.createElement)("div",{className:"editor-block-styles"},t.map(function(n){var t=lp(r,u,n);return Object(vo.createElement)("div",{key:n.name,className:go()("editor-block-styles__item",{"is-active":u===n}),onClick:function e(){return d(n)},onKeyDown:function e(t){bi.ENTER!==t.keyCode&&bi.SPACE!==t.keyCode||(t.preventDefault(),d(n))},onMouseEnter:function e(){return l(t)},onMouseLeave:function e(){return l(null)},role:"button",tabIndex:"0","aria-label":n.label||n.name},Object(vo.createElement)("div",{className:"editor-block-styles__item-preview"},Object(vo.createElement)(Rc,{name:o,attributes:Object(Y.a)({},i,{className:t})})),Object(vo.createElement)("div",{className:"editor-block-styles__item-label"},n.label||n.name))}))}var dp=Object(jo.compose)([Object(g.withSelect)(function(e,t){var n=t.clientId,r,o=e("core/editor").getBlock,i,c=e("core/blocks").getBlockStyles,a=o(n);return{name:a.name,attributes:a.attributes,className:a.attributes.className||"",styles:c(a.name)}}),Object(g.withDispatch)(function(n,e){var r=e.clientId;return{onChangeClassName:function e(t){n("core/editor").updateBlockAttributes(r,{className:t})}}})])(up);function pp(e){var t=e.blocks,n=Object(Yd.count)(Object($.serialize)(t),"words");return Object(vo.createElement)("div",{className:"editor-multi-selection-inspector__card"},Object(vo.createElement)(Do,{icon:Object(vo.createElement)(To.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(vo.createElement)(To.Path,{d:"M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"})),showColors:!0}),Object(vo.createElement)("div",{className:"editor-multi-selection-inspector__card-content"},Object(vo.createElement)("div",{className:"editor-multi-selection-inspector__card-title"},Object(Q.sprintf)(Object(Q._n)("%d block","%d blocks",t.length),t.length)),Object(vo.createElement)("div",{className:"editor-multi-selection-inspector__card-description"},Object(Q.sprintf)(Object(Q._n)("%d word","%d words",n),n))))}var bp=Object(g.withSelect)(function(e){var t,n;return{blocks:(0,e("core/editor").getMultiSelectedBlocks)()}})(pp),fp=function e(t){var n=t.selectedBlockClientId,r=t.selectedBlockName,o=t.blockType,i=t.count,c=t.hasBlockStyles;if(1<i)return Object(vo.createElement)(bp,null);var a=r===Object($.getUnregisteredTypeHandlerName)();return o&&n&&!a?Object(vo.createElement)(vo.Fragment,null,Object(vo.createElement)("div",{className:"editor-block-inspector__card"},Object(vo.createElement)(Do,{icon:o.icon,showColors:!0}),Object(vo.createElement)("div",{className:"editor-block-inspector__card-content"},Object(vo.createElement)("div",{className:"editor-block-inspector__card-title"},o.title),Object(vo.createElement)("div",{className:"editor-block-inspector__card-description"},o.description))),c&&Object(vo.createElement)("div",null,Object(vo.createElement)(To.PanelBody,{title:Object(Q.__)("Styles"),initialOpen:!1},Object(vo.createElement)(dp,{clientId:n}))),Object(vo.createElement)("div",null,Object(vo.createElement)(Ua.Slot,null)),Object(
vo.createElement)("div",null,Object(vo.createElement)(Na.Slot,null,function(e){return!Object(F.isEmpty)(e)&&Object(vo.createElement)(To.PanelBody,{className:"editor-block-inspector__advanced",title:Object(Q.__)("Advanced"),initialOpen:!1},e)})),Object(vo.createElement)(ip,{key:"back"})):Object(vo.createElement)("span",{className:"editor-block-inspector__no-blocks"},Object(Q.__)("No block selected."))},hp=Object(g.withSelect)(function(e){var t=e("core/editor"),n=t.getSelectedBlockClientId,r=t.getSelectedBlockCount,o=t.getBlockName,i,c=e("core/blocks").getBlockStyles,a=n(),s=a&&o(a),l=a&&Object($.getBlockType)(s),u=a&&c(s);return{count:r(),hasBlockStyles:u&&0<u.length,selectedBlockName:s,selectedBlockClientId:a,blockType:l}})(fp),mp=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).bindContainer=e.bindContainer.bind(Object(wo.a)(Object(wo.a)(e))),e.clearSelectionIfFocusTarget=e.clearSelectionIfFocusTarget.bind(Object(wo.a)(Object(wo.a)(e))),e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"bindContainer",value:function e(t){this.container=t}},{key:"clearSelectionIfFocusTarget",value:function e(t){var n=this.props,r=n.hasSelectedBlock,o=n.hasMultiSelection,i=n.clearSelectedBlock,c=r||o;t.target===this.container&&c&&i()}},{key:"render",value:function e(){return Object(vo.createElement)("div",Object(mo.a)({tabIndex:-1,onFocus:this.clearSelectionIfFocusTarget,ref:this.bindContainer},Object(F.omit)(this.props,["clearSelectedBlock","hasSelectedBlock","hasMultiSelection"])))}}]),t}(vo.Component),vp=Object(jo.compose)([Object(g.withSelect)(function(e){var t=e("core/editor"),n=t.hasSelectedBlock,r=t.hasMultiSelection;return{hasSelectedBlock:n(),hasMultiSelection:r()}}),Object(g.withDispatch)(function(e){var t,n;return{clearSelectedBlock:e("core/editor").clearSelectedBlock}})])(mp);function Op(e){var t=e.blockType,n=e.mode,r=e.onToggleMode,o=e.small,i=void 0!==o&&o;if(!Object($.hasBlockSupport)(t,"html",!0))return null;var c="visual"===n?Object(Q.__)("Edit as HTML"):Object(Q.__)("Edit visually");return Object(vo.createElement)(To.MenuItem,{className:"editor-block-settings-menu__control",onClick:r,icon:"html",label:i?c:void 0},!i&&c)}var gp=Object(jo.compose)([Object(g.withSelect)(function(e,t){var n=t.clientId,r=e("core/editor"),o=r.getBlock,i=r.getBlockMode,c=o(n);return{mode:i(n),blockType:c?Object($.getBlockType)(c.name):null}}),Object(g.withDispatch)(function(t,e){var n=e.onToggle,r=void 0===n?F.noop:n,o=e.clientId;return{onToggleMode:function e(){t("core/editor").toggleBlockMode(o),r()}}})])(Op);function jp(e){var t=e.isVisible,n=e.isStaticBlock,r=e.onConvertToStatic,o=e.onConvertToReusable;return t?Object(vo.createElement)(vo.Fragment,null,n&&Object(vo.createElement)(To.MenuItem,{className:"editor-block-settings-menu__control",icon:"controls-repeat",onClick:o},Object(Q.__)("Add to Reusable Blocks")),!n&&Object(vo.createElement)(To.MenuItem,{className:"editor-block-settings-menu__control",icon:"controls-repeat",onClick:r},Object(Q.__)("Convert to Regular Block"))):null}var yp=Object(jo.compose)([Object(g.withSelect)(function(e,t){var n=t.clientIds,r=e("core/editor"),o=r.getBlocksByClientId,i=r.canInsertBlockType,c=r.__experimentalGetReusableBlock,a=o(n),s=i("core/block")&&Object(F.every)(a,function(e){return!!e&&e.isValid&&Object($.hasBlockSupport)(e.name,"reusable",!0)});return{isVisible:s,isStaticBlock:s&&(1!==a.length||!Object($.isReusableBlock)(a[0])||!c(a[0].attributes.ref))}}),Object(g.withDispatch)(function(e,t){var n=t.clientIds,r=t.onToggle,o=void 0===r?F.noop:r,i=e("core/editor"),c=i.__experimentalConvertBlockToReusable,a=i.__experimentalConvertBlockToStatic;return{onConvertToStatic:function e(){1===n.length&&(a(n[0]),o())},onConvertToReusable:function e(){c(n),o()}}})])(jp);function kp(e){var t=e.reusableBlock,n=e.onDelete;return t?Object(vo.createElement)(To.MenuItem,{className:"editor-block-settings-menu__control",icon:"no",disabled:t.isTemporary,onClick:function e(){return n(t.id)}},Object(Q.__)("Remove from Reusable Blocks")):null}var _p=Object(jo.compose)([Object(g.withSelect)(function(e,t){var n=t.clientId,r=e("core/editor"),o=r.getBlock,i=r.__experimentalGetReusableBlock,c=o(n);return{reusableBlock:c&&Object($.isReusableBlock)(c)?i(c.attributes.ref):null}}),Object(g.withDispatch)(function(e,t){var n=t.onToggle,r=void 0===n?F.noop:n,o,i=e("core/editor").__experimentalDeleteReusableBlock;return{onDelete:function e(t){var n;window.confirm(Object(Q.__)("Are you sure you want to delete this Reusable Block?\n\nIt will be permanently removed from all posts and pages that use it."))&&(i(t),r())}}})])(kp);function Ep(e){var t=e.shouldRender,n=e.onClick,r=e.small;if(!t)return null;var o=Object(Q.__)("Convert to Blocks");return Object(vo.createElement)(To.MenuItem,{className:"editor-block-settings-menu__control",onClick:n,icon:"screenoptions",label:r?o:void 0},!r&&o)}var Sp=Object(jo.compose)(Object(g.withSelect)(function(e,t){var n=t.clientId,r=e("core/editor").getBlock(n);return{block:r,shouldRender:r&&"core/html"===r.name}}),Object(g.withDispatch)(function(t,e){var n=e.block;return{onClick:function e(){return t("core/editor").replaceBlocks(n.clientId,Object($.rawHandler)({HTML:Object($.getBlockContent)(n)}))}}}))(Ep),Cp=Object(jo.compose)(Object(g.withSelect)(function(e,t){var n=t.clientId,r=e("core/editor").getBlock(n);return{block:r,shouldRender:r&&r.name===Object($.getFreeformContentHandlerName)()}}),Object(g.withDispatch)(function(t,e){var n=e.block;return{onClick:function e(){return t("core/editor").replaceBlocks(n.clientId,Object($.rawHandler)({HTML:Object($.serialize)(n)}))}}}))(Ep),wp=Object(To.createSlotFill)("_BlockSettingsMenuFirstItem"),Tp=wp.Fill,Pp=wp.Slot;Tp.Slot=Pp;var Ip=Tp,Bp=Object(To.createSlotFill)("_BlockSettingsMenuPluginsExtension"),xp=Bp.Fill,Lp=Bp.Slot;xp.Slot=Lp;var Ap=xp;function Np(e){var l=e.clientIds,u=e.onSelect,t=Object(F.castArray)(l),d=t.length,p=t[0];return Object(vo.createElement)(jl,{clientIds:l},function(e){var r=e.onDuplicate,o=e.onRemove,i=e.onInsertAfter,c=e.onInsertBefore,a=e.canDuplicate,s=e.isLocked;return Object(vo.createElement)(To.Dropdown,{contentClassName:"editor-block-settings-menu__popover",position:"bottom right",renderToggle:function e(t){var n=t.onToggle,r=t.isOpen,o=go()("editor-block-settings-menu__toggle",{"is-opened":r}),i=r?Object(Q.__)("Hide options"):Object(Q.__)("More options");return Object(vo.createElement)(To.Toolbar,{controls:[{icon:"ellipsis",title:i,onClick:function e(){1===d&&u(p),n()},className:o,extraProps:{"aria-expanded":r}}]})},renderContent:function e(t){var n=t.onClose;return Object(vo.createElement)(To.NavigableMenu,{className:"editor-block-settings-menu__content"},Object(vo.createElement)(Ip.Slot,{fillProps:{onClose:n}}),1===d&&Object(vo.createElement)(Cp,{clientId:p}),1===d&&Object(vo.createElement)(Sp,{clientId:p}),!s&&a&&Object(vo.createElement)(To.MenuItem,{className:"editor-block-settings-menu__control",onClick:r,icon:"admin-page",shortcut:kl.duplicate.display},Object(Q.__)("Duplicate")),!s&&Object(vo.createElement)(vo.Fragment,null,Object(vo.createElement)(To.MenuItem,{className:"editor-block-settings-menu__control",onClick:c,icon:"insert-before",shortcut:kl.insertBefore.display},Object(Q.__)("Insert Before")),Object(vo.createElement)(To.MenuItem,{className:"editor-block-settings-menu__control",onClick:i,icon:"insert-after",shortcut:kl.insertAfter.display},Object(Q.__)("Insert After"))),1===d&&Object(vo.createElement)(gp,{clientId:p,onToggle:n}),Object(vo.createElement)(yp,{clientIds:l,onToggle:n}),Object(vo.createElement)(Ap.Slot,{fillProps:{clientIds:l,onClose:n}}),Object(vo.createElement)("div",{className:"editor-block-settings-menu__separator"}),1===d&&Object(vo.createElement)(_p,{clientId:p,onToggle:n}),!s&&Object(vo.createElement)(To.MenuItem,{className:"editor-block-settings-menu__control",onClick:o,icon:"trash",shortcut:kl.removeBlock.display},Object(Q.__)("Remove Block")))}})})}var Rp=Object(g.withDispatch)(function(e){var t,n=e("core/editor").selectBlock;return{onSelect:function e(t){n(t)}}})(Np),Dp=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).state={hoveredClassName:null},e.onHoverClassName=e.onHoverClassName.bind(Object(wo.a)(Object(wo.a)(e))),e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"onHoverClassName",value:function e(t){this.setState({hoveredClassName:t})}},{key:"render",value:function e(){var r=this,t=this.props,c=t.blocks,o=t.onTransform,n=t.inserterItems,i=t.hasBlockStyles,a=this.state.hoveredClassName;if(!c||!c.length)return null;var s=Object(F.mapKeys)(n,function(e){var t;return e.name}),l=Object(F.orderBy)(Object(F.filter)(Object($.getPossibleBlockTransformations)(c),function(e){return e&&!!s[e.name]}),function(e){return s[e.name].frecency},"desc"),u=c[0].name,d=Object($.getBlockType)(u);return i||l.length?Object(vo.createElement)(To.Dropdown,{position:"bottom right",className:"editor-block-switcher",contentClassName:"editor-block-switcher__popover",renderToggle:function e(t){var n=t.onToggle,r=t.isOpen,o=function e(t){r||t.keyCode!==bi.DOWN||(t.preventDefault(),t.stopPropagation(),n())},i=1===c.length?Object(Q.__)("Change block type"):Object(Q.sprintf)(Object(Q._n)("Change type of %d block","Change type of %d blocks",c.length),c.length);return Object(vo.createElement)(To.Toolbar,null,Object(vo.createElement)(To.IconButton,{className:"editor-block-switcher__toggle",onClick:n,"aria-haspopup":"true","aria-expanded":r,label:i,tooltip:i,onKeyDown:o},Object(vo.createElement)(Do,{icon:d.icon,showColors:!0}),Object(vo.createElement)(To.SVG,{className:"editor-block-switcher__transform",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(vo.createElement)(To.Path,{d:"M6.5 8.9c.6-.6 1.4-.9 2.2-.9h6.9l-1.3 1.3 1.4 1.4L19.4 7l-3.7-3.7-1.4 1.4L15.6 6H8.7c-1.4 0-2.6.5-3.6 1.5l-2.8 2.8 1.4 1.4 2.8-2.8zm13.8 2.4l-2.8 2.8c-.6.6-1.3.9-2.1.9h-7l1.3-1.3-1.4-1.4L4.6 16l3.7 3.7 1.4-1.4L8.4 17h6.9c1.3 0 2.6-.5 3.5-1.5l2.8-2.8-1.3-1.4z"}))))},renderContent:function e(t){var n=t.onClose;return Object(vo.createElement)(vo.Fragment,null,i&&Object(vo.createElement)(To.PanelBody,{title:Object(Q.__)("Block Styles"),initialOpen:!0},Object(vo.createElement)(dp,{clientId:c[0].clientId,onSwitch:n,onHoverClassName:r.onHoverClassName})),0!==l.length&&Object(vo.createElement)(To.PanelBody,{title:Object(Q.__)("Transform To:"),initialOpen:!0},Object(vo.createElement)(Hc,{items:l.map(function(e){return{id:e.name,icon:e.icon,title:e.title,hasChildBlocksWithInserterSupport:Object($.hasChildBlocksWithInserterSupport)(e.name)}}),onSelect:function e(t){o(c,t.id),n()}})),null!==a&&Object(vo.createElement)(Dc,{name:c[0].name,attributes:Object(Y.a)({},c[0].attributes,{className:a})}))}}):1<c.length?null:Object(vo.createElement)(To.Toolbar,null,Object(vo.createElement)(To.IconButton,{disabled:!0,className:"editor-block-switcher__no-switcher-icon",label:Object(Q.__)("Block icon")},Object(vo.createElement)(Do,{icon:d.icon,showColors:!0})))}}]),t}(vo.Component),Fp=Object(jo.compose)(Object(g.withSelect)(function(e,t){var n=t.clientIds,r=e("core/editor"),o=r.getBlocksByClientId,i=r.getBlockRootClientId,c=r.getInserterItems,a,s=e("core/blocks").getBlockStyles,l=i(Object(F.first)(Object(F.castArray)(n))),u=o(n),d=u&&1===u.length?u[0]:null,p=d&&s(d.name);return{blocks:u,inserterItems:c(l),hasBlockStyles:p&&0<p.length}}),Object(g.withDispatch)(function(r,o){return{onTransform:function e(t,n){r("core/editor").replaceBlocks(o.clientIds,Object($.switchToBlockType)(t,n))}}}))(Dp);function Mp(e){var t=e.isMultiBlockSelection,n=e.selectedBlockClientIds;return t?Object(vo.createElement)(Fp,{key:"switcher",clientIds:n}):null}var Up=Object(g.withSelect)(function(e){var t=e("core/editor").getMultiSelectedBlockClientIds();return{isMultiBlockSelection:1<t.length,selectedBlockClientIds:t}})(Mp);function Hp(e){var t=e.blockClientIds,n=e.isValid,r=e.mode;return 0===t.length?null:1<t.length?Object(vo.createElement)("div",{className:"editor-block-toolbar"},Object(vo.createElement)(Up,null),Object(vo.createElement)(Rp,{clientIds:t})):Object(vo.createElement)("div",{className:"editor-block-toolbar"},"visual"===r&&n&&Object(vo.createElement)(vo.Fragment,null,Object(vo.createElement)(Fp,{clientIds:t}),Object(vo.createElement)(ri.Slot,null),Object(vo.createElement)(pi.Slot,null)),Object(vo.createElement)(Rp,{clientIds:t}))}var Vp=Object(g.withSelect)(function(e){var t=e("core/editor"),n=t.getSelectedBlockClientId,r=t.getBlockMode,o=t.getMultiSelectedBlockClientIds,i=t.isBlockValid,c=n(),a;return{blockClientIds:c?[c]:o(),isValid:c?i(c):null,mode:c?r(c):null}})(Hp),Kp=function(e){function n(){var t;return Object(ko.a)(this,n),(t=Object(Eo.a)(this,Object(So.a)(n).apply(this,arguments))).onCopy=function(e){return t.props.onCopy(e)},t.onCut=function(e){return t.props.onCut(e)},t}return Object(Co.a)(n,e),Object(_o.a)(n,[{key:"componentDidMount",value:function e(){document.addEventListener("copy",this.onCopy),document.addEventListener("cut",this.onCut)}},{key:"componentWillUnmount",value:function e(){document.removeEventListener("copy",this.onCopy),document.removeEventListener("cut",this.onCut)}},{key:"render",value:function e(){return null}}]),n}(vo.Component),zp=Object(jo.compose)([Object(g.withDispatch)(function(e,t,n){var r,o=(0,n.select)("core/editor"),i=o.getBlocksByClientId,c=o.getMultiSelectedBlockClientIds,a=o.getSelectedBlockClientId,s=o.hasMultiSelection,l,u=e("core/editor").removeBlocks,d=function e(t){var n=a()?[a()]:c();if(0!==n.length&&(s()||!Object(Fi.documentHasSelection)())){var r=Object($.serialize)(i(n));t.clipboardData.setData("text/plain",r),t.clipboardData.setData("text/html",r),t.preventDefault()}};return{onCopy:d,onCut:function e(t){if(d(t),s()){var n=a()?[a()]:c();u(n)}}}})])(Kp),Wp,qp=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).reboot=e.reboot.bind(Object(wo.a)(Object(wo.a)(e))),e.getContent=e.getContent.bind(Object(wo.a)(Object(wo.a)(e))),e.state={error:null},e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"componentDidCatch",value:function e(t){this.setState({error:t})}},{key:"reboot",value:function e(){this.props.onError()}},{key:"getContent",value:function e(){try{return Object(g.select)("core/editor").getEditedPostContent()}catch(e){}}},{key:"render",value:function e(){var t=this.state.error;return t?Object(vo.createElement)(tc,{className:"editor-error-boundary",actions:[Object(vo.createElement)(To.Button,{key:"recovery",onClick:this.reboot,isLarge:!0},Object(Q.__)("Attempt Recovery")),Object(vo.createElement)(To.ClipboardButton,{key:"copy-post",text:this.getContent,isLarge:!0},Object(Q.__)("Copy Post Text")),Object(vo.createElement)(To.ClipboardButton,{key:"copy-error",text:t.stack,isLarge:!0},Object(Q.__)("Copy Error"))]},Object(Q.__)("The editor has encountered an unexpected error.")):this.props.children}}]),t}(vo.Component),Gp=function(e){function t(){return Object(ko.a)(this,t),Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"componentDidUpdate",value:function e(){this.scrollIntoView()}},{key:"scrollIntoView",value:function e(){var t=this.props.extentClientId;if(t){var n=pa(t);if(n){var r=Object(Fi.getScrollContainer)(n);r&&Ac()(n,r,{onlyScrollIfNeeded:!0})}}}},{key:"render",value:function e(){return null}}]),t}(vo.Component),$p=Object(g.withSelect)(function(e){var t,n;return{extentClientId:(0,e("core/editor").getLastMultiSelectedBlockClientId)()}})(Gp),Yp=[bi.UP,bi.RIGHT,bi.DOWN,bi.LEFT,bi.ENTER,bi.BACKSPACE];function Qp(e){var t=e.keyCode,n;return!e.shiftKey&&Object(F.includes)(Yp,t)}var Xp=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).stopTypingOnSelectionUncollapse=e.stopTypingOnSelectionUncollapse.bind(Object(wo.a)(Object(wo.a)(e))),e.stopTypingOnMouseMove=e.stopTypingOnMouseMove.bind(Object(wo.a)(Object(wo.a)(e))),e.startTypingInTextField=e.startTypingInTextField.bind(Object(wo.a)(Object(wo.a)(e))),e.stopTypingOnNonTextField=e.stopTypingOnNonTextField.bind(Object(wo.a)(Object(wo.a)(e))),e.stopTypingOnEscapeKey=e.stopTypingOnEscapeKey.bind(Object(wo.a)(Object(wo.a)(e))),e.onKeyDown=Object(F.over)([e.startTypingInTextField,e.stopTypingOnEscapeKey]),e.lastMouseMove=null,e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"componentDidMount",value:function e(){this.toggleEventBindings(this.props.isTyping)}},{key:"componentDidUpdate",value:function e(t){this.props.isTyping!==t.isTyping&&this.toggleEventBindings(this.props.isTyping)}},{key:"componentWillUnmount",value:function e(){this.toggleEventBindings(!1)}},{key:"toggleEventBindings",value:function e(t){var n=t?"addEventListener":"removeEventListener";document[n]("selectionchange",this.stopTypingOnSelectionUncollapse),document[n]("mousemove",this.stopTypingOnMouseMove)}},{key:"stopTypingOnMouseMove",value:function e(t){var n=t.clientX,r=t.clientY;if(this.lastMouseMove){var o=this.lastMouseMove,i=o.clientX,c=o.clientY;i===n&&c===r||this.props.onStopTyping()}this.lastMouseMove={clientX:n,clientY:r}}},{key:"stopTypingOnSelectionUncollapse",value:function e(){var t=window.getSelection(),n;0<t.rangeCount&&t.getRangeAt(0).collapsed||this.props.onStopTyping()}},{key:"stopTypingOnEscapeKey",value:function e(t){this.props.isTyping&&t.keyCode===bi.ESCAPE&&this.props.onStopTyping()}},{key:"startTypingInTextField",value:function e(t){var n=this.props,r=n.isTyping,o=n.onStartTyping,i=t.type,c=t.target;r||!Object(Fi.isTextField)(c)||c.closest(".editor-block-toolbar")||("keydown"!==i||Qp(t))&&o()}},{key:"stopTypingOnNonTextField",value:function e(o){var i=this;o.persist(),this.props.setTimeout(function(){var e=i.props,t=e.isTyping,n=e.onStopTyping,r=o.target;t&&!Object(Fi.isTextField)(r)&&n()})}},{key:"render",value:function e(){var t=this.props.children;return Object(vo.createElement)("div",{onFocus:this.stopTypingOnNonTextField,onKeyPress:this.startTypingInTextField,onKeyDown:this.onKeyDown},t)}}]),t}(vo.Component),Jp=Object(jo.compose)([Object(g.withSelect)(function(e){var t,n;return{isTyping:(0,e("core/editor").isTyping)()}}),Object(g.withDispatch)(function(e){var t=e("core/editor"),n,r;return{onStartTyping:t.startTyping,onStopTyping:t.stopTyping}}),jo.withSafeTimeout])(Xp),Zp=function(e){function t(){return Object(ko.a)(this,t),Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"getSnapshotBeforeUpdate",value:function e(t){var n=this.props,r=n.blockOrder,o=n.selectionStart;return r!==t.blockOrder&&o?this.getOffset(o):null}},{key:"componentDidUpdate",value:function e(t,n,r){r&&this.restorePreviousOffset(r)}},{key:"getOffset",value:function e(t){var n=pa(t);return n?n.getBoundingClientRect().top:null}},{key:"restorePreviousOffset",value:function e(t){var n,r=pa(this.props.selectionStart);if(r){var o=Object(Fi.getScrollContainer)(r);o&&(o.scrollTop=o.scrollTop+r.getBoundingClientRect().top-t)}}},{key:"render",value:function e(){return null}}]),t}(vo.Component),eb=Object(g.withSelect)(function(e){return{blockOrder:e("core/editor").getBlockOrder(),selectionStart:e("core/editor").getBlockSelectionStart()}})(Zp),tb,nb=window.getSelection,rb=Object(F.overEvery)([Fi.isTextField,Fi.focus.tabbable.isTabbableIndex]);function ob(e,t,n){var r;if((t===bi.UP||t===bi.DOWN)&&!n)return!0;var o=e.tagName;return"INPUT"!==o&&"TEXTAREA"!==o}var ib=function(e){function t(){var e;return Object(ko.a)(this,t),(e=Object(Eo.a)(this,Object(So.a)(t).apply(this,arguments))).onKeyDown=e.onKeyDown.bind(Object(wo.a)(Object(wo.a)(e))),e.bindContainer=e.bindContainer.bind(Object(wo.a)(Object(wo.a)(e))),e.clearVerticalRect=e.clearVerticalRect.bind(Object(wo.a)(Object(wo.a)(e))),e.focusLastTextField=e.focusLastTextField.bind(Object(wo.a)(Object(wo.a)(e))),e.verticalRect=null,e}return Object(Co.a)(t,e),Object(_o.a)(t,[{key:"bindContainer",value:function e(t){this.container=t}},{key:"clearVerticalRect",value:function e(){this.verticalRect=null}},{key:"getClosestTabbable",value:function e(i,t){var n=Fi.focus.focusable.find(this.container);function c(e,t,n){if(!Fi.focus.tabbable.isTabbableIndex(e))return!1;if(Object(Fi.isTextField)(e))return!0;if(!fa(e))return!1;if(va(e))return!0;if(e.contains(i))return!1;for(var r=1,o;(o=n[t+r])&&e.contains(o);r++)if(c(o,t+r,n))return!1;return!0}return t&&(n=Object(F.reverse)(n)),n=n.slice(n.indexOf(i)+1),Object(F.find)(n,c)}},{key:"expandSelection",value:function e(t){var n=this.props,r=n.selectedBlockClientId,o=n.selectionStartClientId,i=n.selectionBeforeEndClientId,c=n.selectionAfterEndClientId,a=t?i:c;a&&this.props.onMultiSelect(o||r,a)}},{key:"moveSelection",value:function e(t){var n=this.props,r=n.selectedFirstClientId,o=n.selectedLastClientId,i=t?r:o;i&&this.props.onSelectBlock(i)}},{key:"isTabbableEdge",value:function e(t,n){var r=this.getClosestTabbable(t,n);return!r||!ha(t,r)}},{key:"onKeyDown",value:function e(t){var n=this.props,r=n.hasMultiSelection,o=n.onMultiSelect,i=n.blocks,c=t.keyCode,a=t.target,s=c===bi.UP,l=c===bi.DOWN,u=c===bi.LEFT,d=c===bi.RIGHT,p=s||u,b=u||d,f=s||l,h=b||f,m=t.shiftKey,v=m||t.ctrlKey||t.altKey||t.metaKey,O=f?Fi.isVerticalEdge:Fi.isHorizontalEdge;if(!h)return bi.isKeyboardEvent.primary(t)&&(this.isEntirelySelected=Object(Fi.isEntirelySelected)(a)),void(bi.isKeyboardEvent.primary(t,"a")&&((a.isContentEditable?this.isEntirelySelected:Object(Fi.isEntirelySelected)(a))&&(o(Object(F.first)(i),Object(F.last)(i)),t.preventDefault()),this.isEntirelySelected=!0));if(!t.nativeEvent.defaultPrevented&&ob(a,c,v))if(f?this.verticalRect||(this.verticalRect=Object(Fi.computeCaretRect)(a)):this.verticalRect=null,m&&(r||this.isTabbableEdge(a,p)&&O(a,p)))this.expandSelection(p),t.preventDefault();else if(r)this.moveSelection(p),t.preventDefault();else if(f&&Object(Fi.isVerticalEdge)(a,p)){var g=this.getClosestTabbable(a,p);g&&(Object(Fi.placeCaretAtVerticalEdge)(g,p,this.verticalRect),t.preventDefault())}else if(b&&nb().isCollapsed&&Object(Fi.isHorizontalEdge)(a,p)){var j=this.getClosestTabbable(a,p);Object(Fi.placeCaretAtHorizontalEdge)(j,p),t.preventDefault()}}},{key:"focusLastTextField",value:function e(){var t=Fi.focus.focusable.find(this.container),n=Object(F.findLast)(t,rb);n&&Object(Fi.placeCaretAtHorizontalEdge)(n,!0)}},{key:"render",value:function e(){var t=this.props.children;return Object(vo.createElement)("div",{className:"editor-writing-flow"},Object(vo.createElement)("div",{ref:this.bindContainer,onKeyDown:this.onKeyDown,onMouseDown:this.clearVerticalRect},t),Object(vo.createElement)("div",{"aria-hidden":!0,tabIndex:-1,onClick:this.focusLastTextField,className:"wp-block editor-writing-flow__click-redirect"}))}}]),t}(vo.Component),cb=Object(jo.compose)([Object(g.withSelect)(function(e){var t=e("core/editor"),n=t.getSelectedBlockClientId,r=t.getMultiSelectedBlocksStartClientId,o=t.getMultiSelectedBlocksEndClientId,i=t.getPreviousBlockClientId,c=t.getNextBlockClientId,a=t.getFirstMultiSelectedBlockClientId,s=t.getLastMultiSelectedBlockClientId,l=t.hasMultiSelection,u=t.getBlockOrder,d=n(),p=r(),b=o();return{selectedBlockClientId:d,selectionStartClientId:p,selectionBeforeEndClientId:i(b||d),selectionAfterEndClientId:c(b||d),selectedFirstClientId:a(),selectedLastClientId:s(),hasMultiSelection:l(),blocks:u()}}),Object(g.withDispatch)(function(e){var t=e("core/editor"),n,r;return{onMultiSelect:t.multiSelect,onSelectBlock:t.selectBlock}})])(ib),ab=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,sb=function(r,n){n=n||{};var o=1,i=1;function c(e){var t=e.match(/\n/g);t&&(o+=t.length);var n=e.lastIndexOf("\n");i=~n?e.length-n:i+e.length}function a(){var t={line:o,column:i};return function(e){return e.position=new s(t),h(),e}}function s(e){this.start=e,this.end={line:o,column:i},this.source=n.source}s.prototype.content=r;var l=[];function u(e){var t=new Error(n.source+":"+o+":"+i+": "+e);if(t.reason=e,t.filename=n.source,t.line=o,t.column=i,t.source=r,!n.silent)throw t;l.push(t)}function e(){var e=b();return{type:"stylesheet",stylesheet:{source:n.source,rules:e,parsingErrors:l}}}function d(){return f(/^{\s*/)}function p(){return f(/^}/)}function b(){var e,t=[];for(h(),m(t);r.length&&"}"!==r.charAt(0)&&(e=L()||A());)!1!==e&&(t.push(e),m(t));return t}function f(e){var t=e.exec(r);if(t){var n=t[0];return c(n),r=r.slice(n.length),t}}function h(){f(/^\s*/)}function m(e){var t;for(e=e||[];t=v();)!1!==t&&e.push(t);return e}function v(){var e=a();if("/"===r.charAt(0)&&"*"===r.charAt(1)){for(var t=2;""!==r.charAt(t)&&("*"!==r.charAt(t)||"/"!==r.charAt(t+1));)++t;if(t+=2,""===r.charAt(t-1))return u("End of comment missing");var n=r.slice(2,t-2);return i+=2,c(n),r=r.slice(t),i+=2,e({type:"comment",comment:n})}}function O(){var e=f(/^([^{]+)/);if(e)return lb(e[0]).replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,function(e){return e.replace(/,/g,"")}).split(/\s*(?![^(]*\)),\s*/).map(function(e){return e.replace(/\u200C/g,",")})}function g(){var e=a(),t=f(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(t){if(t=lb(t[0]),!f(/^:\s*/))return u("property missing ':'");var n=f(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),r=e({type:"declaration",property:t.replace(ab,""),value:n?lb(n[0]).replace(ab,""):""});return f(/^[;\s]*/),r}}function j(){var e=[],t;if(!d())return u("missing '{'");for(m(e);t=g();)!1!==t&&(e.push(t),m(e));return p()?e:u("missing '}'")}function y(){for(var e,t=[],n=a();e=f(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)t.push(e[1]),f(/^,\s*/);if(t.length)return n({type:"keyframe",values:t,declarations:j()})}function t(){var e=a(),t=f(/^@([-\w]+)?keyframes\s*/);if(t){var n=t[1];if(!(t=f(/^([-\w]+)\s*/)))return u("@keyframes missing name");var r=t[1],o;if(!d())return u("@keyframes missing '{'");for(var i=m();o=y();)i.push(o),i=i.concat(m());return p()?e({type:"keyframes",name:r,vendor:n,keyframes:i}):u("@keyframes missing '}'")}}function k(){var e=a(),t=f(/^@supports *([^{]+)/);if(t){var n=lb(t[1]);if(!d())return u("@supports missing '{'");var r=m().concat(b());return p()?e({type:"supports",supports:n,rules:r}):u("@supports missing '}'")}}function _(){var e=a(),t;if(f(/^@host\s*/)){if(!d())return u("@host missing '{'");var n=m().concat(b());return p()?e({type:"host",rules:n}):u("@host missing '}'")}}function E(){var e=a(),t=f(/^@media *([^{]+)/);if(t){var n=lb(t[1]);if(!d())return u("@media missing '{'");var r=m().concat(b());return p()?e({type:"media",media:n,rules:r}):u("@media missing '}'")}}function S(){var e=a(),t=f(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(t)return e({type:"custom-media",name:lb(t[1]),media:lb(t[2])})}function C(){var e=a(),t;if(f(/^@page */)){var n=O()||[];if(!d())return u("@page missing '{'");for(var r=m(),o;o=g();)r.push(o),r=r.concat(m());return p()?e({type:"page",selectors:n,declarations:r}):u("@page missing '}'")}}function w(){var e=a(),t=f(/^@([-\w]+)?document *([^{]+)/);if(t){var n=lb(t[1]),r=lb(t[2]);if(!d())return u("@document missing '{'");var o=m().concat(b());return p()?e({type:"document",document:r,vendor:n,rules:o}):u("@document missing '}'")}}function T(){var e=a(),t;if(f(/^@font-face\s*/)){if(!d())return u("@font-face missing '{'");for(var n=m(),r;r=g();)n.push(r),n=n.concat(m());return p()?e({type:"font-face",declarations:n}):u("@font-face missing '}'")}}var P=x("import"),I=x("charset"),B=x("namespace");function x(r){var o=new RegExp("^@"+r+"\\s*([^;]+);");return function(){var e=a(),t=f(o);if(t){var n={type:r};return n[r]=t[1].trim(),e(n)}}}function L(){if("@"===r[0])return t()||E()||S()||k()||P()||I()||B()||w()||C()||_()||T()}function A(){var e=a(),t=O();return t?(m(),e({type:"rule",selectors:t,declarations:j()})):u("selector missing")}return ub(e())};function lb(e){return e?e.replace(/^\s+|\s+$/g,""):""}function ub(e,t){var n=e&&"string"==typeof e.type,r=n?e:t;for(var o in e){var i=e[o];Array.isArray(i)?i.forEach(function(e){ub(e,r)}):i&&"object"===Object(s.a)(i)&&ub(i,r)}return n&&Object.defineProperty(e,"parent",{configurable:!0,writable:!0,enumerable:!1,value:t||null}),e}var db=n(98),pb=n.n(db),bb=fb;function fb(e){this.options=e||{}}fb.prototype.emit=function(e){return e},fb.prototype.visit=function(e){return this[e.type](e)},fb.prototype.mapVisit=function(e,t){var n="";t=t||"";for(var r=0,o=e.length;r<o;r++)n+=this.visit(e[r]),t&&r<o-1&&(n+=this.emit(t));return n};var hb=mb;function mb(e){bb.call(this,e)}pb()(mb,bb),mb.prototype.compile=function(e){return e.stylesheet.rules.map(this.visit,this).join("")},mb.prototype.comment=function(e){return this.emit("",e.position)},mb.prototype.import=function(e){return this.emit("@import "+e.import+";",e.position)},mb.prototype.media=function(e){return this.emit("@media "+e.media,e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}")},mb.prototype.document=function(e){var t="@"+(e.vendor||"")+"document "+e.document;return this.emit(t,e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}")},mb.prototype.charset=function(e){return this.emit("@charset "+e.charset+";",e.position)},mb.prototype.namespace=function(e){return this.emit("@namespace "+e.namespace+";",e.position)},mb.prototype.supports=function(e){return this.emit("@supports "+e.supports,e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}")},mb.prototype.keyframes=function(e){return this.emit("@"+(e.vendor||"")+"keyframes "+e.name,e.position)+this.emit("{")+this.mapVisit(e.keyframes)+this.emit("}")},mb.prototype.keyframe=function(e){var t=e.declarations;return this.emit(e.values.join(","),e.position)+this.emit("{")+this.mapVisit(t)+this.emit("}")},mb.prototype.page=function(e){var t=e.selectors.length?e.selectors.join(", "):"";return this.emit("@page "+t,e.position)+this.emit("{")+this.mapVisit(e.declarations)+this.emit("}")},mb.prototype["font-face"]=function(e){return this.emit("@font-face",e.position)+this.emit("{")+this.mapVisit(e.declarations)+this.emit("}")},mb.prototype.host=function(e){return this.emit("@host",e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}")},mb.prototype["custom-media"]=function(e){return this.emit("@custom-media "+e.name+" "+e.media+";",e.position)},mb.prototype.rule=function(e){var t=e.declarations;return t.length?this.emit(e.selectors.join(","),e.position)+this.emit("{")+this.mapVisit(t)+this.emit("}"):""},mb.prototype.declaration=function(e){return this.emit(e.property+":"+e.value,e.position)+this.emit(";")};var vb=Ob;function Ob(e){e=e||{},bb.call(this,e),this.indentation=e.indent}pb()(Ob,bb),Ob.prototype.compile=function(e){return this.stylesheet(e)},Ob.prototype.stylesheet=function(e){return this.mapVisit(e.stylesheet.rules,"\n\n")},Ob.prototype.comment=function(e){return this.emit(this.indent()+"/*"+e.comment+"*/",e.position)},Ob.prototype.import=function(e){return this.emit("@import "+e.import+";",e.position)},Ob.prototype.media=function(e){return this.emit("@media "+e.media,e.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(e.rules,"\n\n")+this.emit(this.indent(-1)+"\n}")},Ob.prototype.document=function(e){var t="@"+(e.vendor||"")+"document "+e.document;return this.emit(t,e.position)+this.emit("  {\n"+this.indent(1))+this.mapVisit(e.rules,"\n\n")+this.emit(this.indent(-1)+"\n}")},Ob.prototype.charset=function(e){return this.emit("@charset "+e.charset+";",e.position)},Ob.prototype.namespace=function(e){return this.emit("@namespace "+e.namespace+";",e.position)},Ob.prototype.supports=function(e){return this.emit("@supports "+e.supports,e.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(e.rules,"\n\n")+this.emit(this.indent(-1)+"\n}")},Ob.prototype.keyframes=function(e){return this.emit("@"+(e.vendor||"")+"keyframes "+e.name,e.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(e.keyframes,"\n")+this.emit(this.indent(-1)+"}")},Ob.prototype.keyframe=function(e){var t=e.declarations;return this.emit(this.indent())+this.emit(e.values.join(", "),e.position)+this.emit(
" {\n"+this.indent(1))+this.mapVisit(t,"\n")+this.emit(this.indent(-1)+"\n"+this.indent()+"}\n")},Ob.prototype.page=function(e){var t=e.selectors.length?e.selectors.join(", ")+" ":"";return this.emit("@page "+t,e.position)+this.emit("{\n")+this.emit(this.indent(1))+this.mapVisit(e.declarations,"\n")+this.emit(this.indent(-1))+this.emit("\n}")},Ob.prototype["font-face"]=function(e){return this.emit("@font-face ",e.position)+this.emit("{\n")+this.emit(this.indent(1))+this.mapVisit(e.declarations,"\n")+this.emit(this.indent(-1))+this.emit("\n}")},Ob.prototype.host=function(e){return this.emit("@host",e.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(e.rules,"\n\n")+this.emit(this.indent(-1)+"\n}")},Ob.prototype["custom-media"]=function(e){return this.emit("@custom-media "+e.name+" "+e.media+";",e.position)},Ob.prototype.rule=function(e){var t=this.indent(),n=e.declarations;return n.length?this.emit(e.selectors.map(function(e){return t+e}).join(",\n"),e.position)+this.emit(" {\n")+this.emit(this.indent(1))+this.mapVisit(n,"\n")+this.emit(this.indent(-1))+this.emit("\n"+this.indent()+"}"):""},Ob.prototype.declaration=function(e){return this.emit(this.indent())+this.emit(e.property+": "+e.value,e.position)+this.emit(";")},Ob.prototype.indent=function(e){return this.level=this.level||1,null!==e?(this.level+=e,""):Array(this.level).join(this.indentation||"  ")};var gb=function(e,t){var n,r;return((t=t||{}).compress?new hb(t):new vb(t)).compile(e)},jb=n(193),yb=n.n(jb);function kb(e,n){try{var t=sb(e),r=yb.a.map(t,function(e){if(!e)return e;var t=n(e);return this.update(t)});return gb(r)}catch(e){return console.warn("Error while traversing the CSS: "+e),null}}var _b=kb,Eb=n(75);function Sb(e){return/^(?:https?:)?\/\//.test(e)}function Cb(e){return/^\/(?!\/)/.test(e)}function wb(e){return 0!==e.value.indexOf("data:")&&0!==e.value.indexOf("#")&&(!Cb(e.value)&&!Sb(e.value))}function Tb(e,t){var n=Object(Eb.parse)(e).pathname,r;return Object(Eb.resolve)(t,n)}function Pb(n){return function(e){var t=Tb(e.value,n);return Object(Y.a)({},e,{newUrl:"url("+e.before+e.quote+t+e.quote+e.after+")"})}}function Ib(e){for(var t=/url\((\s*)(['"]?)(.+?)\2(\s*)\)/g,n,r=[];null!==(n=t.exec(e));){var o={source:n[0],before:n[1],quote:n[2],value:n[3],after:n[4]};wb(o)&&r.push(o)}return r}function Bb(t,e){return e.forEach(function(e){t=t.replace(e.source,e.newUrl)}),t}var xb,Lb=function e(n){return function(e){if("declaration"!==e.type)return e;var t=Ib(e.value).map(Pb(n));return Object(Y.a)({},e,{value:Bb(e.value,t)})}},Ab=/^(body|html).*$/,Nb,Rb=function e(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return function(e){var t=function e(t){return Object(F.includes)(r,t.trim())?t:t.match(Ab)?t.replace(/^(body|html)/,n):n+" "+t};return"rule"===e.type?Object(Y.a)({},e,{selectors:e.selectors.map(t)}):e}},Db=function(e){function n(e){var t;return Object(ko.a)(this,n),t=Object(Eo.a)(this,Object(So.a)(n).apply(this,arguments)),e.recovery?Object(Eo.a)(t):(e.updateEditorSettings(e.settings),e.updatePostLock(e.settings.postLock),e.setupEditor(e.post,e.initialEdits),e.settings.autosave&&e.createWarningNotice(Object(Q.__)("There is an autosave of this post that is more recent than the version below."),{id:"autosave-exists",actions:[{label:Object(Q.__)("View the autosave"),url:e.settings.autosave.editLink}]}),t)}return Object(Co.a)(n,e),Object(_o.a)(n,[{key:"componentDidMount",value:function e(){this.props.settings.styles&&Object(F.map)(this.props.settings.styles,function(e){var t=e.css,n=e.baseURL,r=[Rb(".editor-styles-wrapper")];n&&r.push(Lb(n));var o=_b(t,Object(jo.compose)(r));if(o){var i=document.createElement("style");i.innerHTML=o,document.body.appendChild(i)}})}},{key:"componentDidUpdate",value:function e(t){this.props.settings!==t.settings&&this.props.updateEditorSettings(this.props.settings)}},{key:"render",value:function e(){var t=this.props.children,n=[[To.SlotFillProvider],[To.DropZoneProvider]],r;return Object(F.flow)(n.map(function(e){var t=Object(b.a)(e,2),n=t[0],r=t[1];return function(e){return Object(vo.createElement)(n,r,e)}}))(t)}}]),n}(vo.Component),Fb=Object(g.withDispatch)(function(e){var t=e("core/editor"),n,r,o,i,c;return{setupEditor:t.setupEditor,updateEditorSettings:t.updateEditorSettings,updatePostLock:t.updatePostLock,createWarningNotice:e("core/notices").createWarningNotice}})(Db),Mb=["left","center","right","wide","full"],Ub=["wide","full"];function Hb(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r;return r=Array.isArray(e)?e:!0===e?Mb:[],!n||!0===e&&!t?F.without.apply(void 0,[r].concat(Ub)):r}function Vb(e){return Object(F.has)(e.attributes,["align","type"])||Object($.hasBlockSupport)(e,"align")&&(e.attributes=Object(F.assign)(e.attributes,{align:{type:"string"}})),e}var Kb=Object(jo.createHigherOrderComponent)(function(r){return function(o){var e=o.name,t=Hb(Object($.getBlockSupport)(e,"align"),Object($.hasBlockSupport)(e,"alignWide",!0)),n=function e(t){if(!t){var n=Object($.getBlockType)(o.name),r;Object(F.get)(n,["attributes","align","default"])&&(t="")}o.setAttributes({align:t})};return[0<t.length&&o.isSelected&&Object(vo.createElement)(ri,{key:"align-controls"},Object(vo.createElement)(Xo,{value:o.attributes.align,onChange:n,controls:t})),Object(vo.createElement)(r,Object(mo.a)({key:"edit"},o))]}},"withToolbarControls"),zb=function e(a){return function(e){var t=e.name,n=e.attributes,r=e.hasWideEnabled,o=n.align,i=Hb(Object($.getBlockSupport)(t,"align"),Object($.hasBlockSupport)(t,"alignWide",!0),r),c=e.wrapperProps;return Object(F.includes)(i,o)&&(c=Object(Y.a)({},c,{"data-align":o})),Object(vo.createElement)(a,Object(mo.a)({},e,{wrapperProps:c}))}},Wb=Object(jo.createHigherOrderComponent)(Object(jo.compose)([Object(g.withSelect)(function(e){var t,n;return{hasWideEnabled:!!(0,e("core/editor").getEditorSettings)().alignWide}}),zb]));function qb(e,t,n){var r=n.align,o=Object($.getBlockSupport)(t,"align"),i=Object($.hasBlockSupport)(t,"alignWide",!0),c;return Object(F.includes)(Hb(o,i),r)&&(e.className=go()("align".concat(r),e.className)),e}Object(yo.addFilter)("blocks.registerBlockType","core/align/addAttribute",Vb),Object(yo.addFilter)("editor.BlockListBlock","core/editor/align/with-data-align",Wb),Object(yo.addFilter)("editor.BlockEdit","core/editor/align/with-toolbar-controls",Kb),Object(yo.addFilter)("blocks.getSaveContent.extraProps","core/align/addAssignedAlign",qb);var Gb=/[\s#]/g;function $b(e){return Object($.hasBlockSupport)(e,"anchor")&&(e.attributes=Object(F.assign)(e.attributes,{anchor:{type:"string",source:"attribute",attribute:"id",selector:"*"}})),e}var Yb=Object(jo.createHigherOrderComponent)(function(t){return function(n){var e;return Object($.hasBlockSupport)(n.name,"anchor")&&n.isSelected?Object(vo.createElement)(vo.Fragment,null,Object(vo.createElement)(t,n),Object(vo.createElement)(Na,null,Object(vo.createElement)(To.TextControl,{label:Object(Q.__)("HTML Anchor"),help:Object(Q.__)("Anchors lets you link directly to a section on a page."),value:n.attributes.anchor||"",onChange:function e(t){t=t.replace(Gb,"-"),n.setAttributes({anchor:t})}}))):Object(vo.createElement)(t,n)}},"withInspectorControl");function Qb(e,t,n){return Object($.hasBlockSupport)(t,"anchor")&&(e.id=""===n.anchor?null:n.anchor),e}function Xb(e){return Object($.hasBlockSupport)(e,"customClassName",!0)&&(e.attributes=Object(F.assign)(e.attributes,{className:{type:"string"}})),e}Object(yo.addFilter)("blocks.registerBlockType","core/anchor/attribute",$b),Object(yo.addFilter)("editor.BlockEdit","core/editor/anchor/with-inspector-control",Yb),Object(yo.addFilter)("blocks.getSaveContent.extraProps","core/anchor/save-props",Qb);var Jb=Object(jo.createHigherOrderComponent)(function(t){return function(n){var e;return Object($.hasBlockSupport)(n.name,"customClassName",!0)&&n.isSelected?Object(vo.createElement)(vo.Fragment,null,Object(vo.createElement)(t,n),Object(vo.createElement)(Na,null,Object(vo.createElement)(To.TextControl,{label:Object(Q.__)("Additional CSS Class"),value:n.attributes.className||"",onChange:function e(t){n.setAttributes({className:t})}}))):Object(vo.createElement)(t,n)}},"withInspectorControl");function Zb(e,t,n){return Object($.hasBlockSupport)(t,"customClassName",!0)&&n.className&&(e.className=go()(e.className,n.className)),e}function ef(e){e="<div data-custom-class-name>".concat(e,"</div>");var t=Object($.parseWithAttributeSchema)(e,{type:"string",source:"attribute",selector:"[data-custom-class-name] > *",attribute:"class"});return t?t.trim().split(/\s+/):[]}function tf(e,t,n){if(Object($.hasBlockSupport)(t,"customClassName",!0)){var r=Object(F.omit)(e,["className"]),o=Object($.getSaveContent)(t,r),i=ef(o),c=ef(n),a=Object(F.difference)(c,i);a.length?e.className=a.join(" "):o&&delete e.className}return e}Object(yo.addFilter)("blocks.registerBlockType","core/custom-class-name/attribute",Xb),Object(yo.addFilter)("editor.BlockEdit","core/editor/custom-class-name/with-inspector-control",Jb),Object(yo.addFilter)("blocks.getSaveContent.extraProps","core/custom-class-name/save-props",Zb),Object(yo.addFilter)("blocks.getBlockAttributes","core/custom-class-name/addParsedDifference",tf);var nf=[Ko],rf=Object(F.once)(function(){return Object(g.dispatch)("core/editor").__experimentalFetchReusableBlocks()});function of(e,t){return e||(e=nf.map(F.clone),t===Object($.getDefaultBlockName)()&&(e.push(Object(F.clone)(Vo)),rf())),e}function cf(e,t){return Object($.hasBlockSupport)(t,"className",!0)&&("string"==typeof e.className?e.className=Object(F.uniq)([Object($.getBlockDefaultClassName)(t.name)].concat(Object(R.a)(e.className.split(" ")))).join(" ").trim():e.className=Object($.getBlockDefaultClassName)(t.name)),e}Object(yo.addFilter)("editor.Autocomplete.completers","editor/autocompleters/set-default-completers",of),Object(yo.addFilter)("blocks.getSaveContent.extraProps","core/generated-class-name/save-props",cf),n.d(t,"Autocomplete",function(){return Ro}),n.d(t,"AlignmentToolbar",function(){return qo}),n.d(t,"BlockAlignmentToolbar",function(){return Xo}),n.d(t,"BlockControls",function(){return ri}),n.d(t,"BlockEdit",function(){return ai}),n.d(t,"BlockFormatControls",function(){return pi}),n.d(t,"BlockNavigationDropdown",function(){return gi}),n.d(t,"BlockIcon",function(){return Do}),n.d(t,"ColorPalette",function(){return yi}),n.d(t,"withColorContext",function(){return ji}),n.d(t,"ContrastChecker",function(){return Bi}),n.d(t,"InnerBlocks",function(){return Ia}),n.d(t,"InspectorAdvancedControls",function(){return Na}),n.d(t,"InspectorControls",function(){return Ua}),n.d(t,"PanelColorSettings",function(){return Qa}),n.d(t,"PlainText",function(){return Ja}),n.d(t,"RichText",function(){return Ds}),n.d(t,"RichTextShortcut",function(){return _s}),n.d(t,"RichTextToolbarButton",function(){return Is}),n.d(t,"RichTextInserterItem",function(){return xs}),n.d(t,"ServerSideRender",function(){return Fs}),n.d(t,"MediaPlaceholder",function(){return Zs}),n.d(t,"MediaUpload",function(){return Us}),n.d(t,"MediaUploadCheck",function(){return Qi}),n.d(t,"URLInput",function(){return nl}),n.d(t,"URLInputButton",function(){return ol}),n.d(t,"URLPopover",function(){return Vs}),n.d(t,"AutosaveMonitor",function(){return cl}),n.d(t,"DocumentOutline",function(){return ml}),n.d(t,"DocumentOutlineCheck",function(){return Ol}),n.d(t,"EditorGlobalKeyboardShortcuts",function(){return El}),n.d(t,"EditorHistoryRedo",function(){return Cl}),n.d(t,"EditorHistoryUndo",function(){return Tl}),n.d(t,"EditorNotices",function(){return xl}),n.d(t,"PageAttributesCheck",function(){return Al}),n.d(t,"PageAttributesOrder",function(){return Ml}),n.d(t,"PageAttributesParent",function(){return zl}),n.d(t,"PageTemplate",function(){return ql}),n.d(t,"PostAuthor",function(){return Ql}),n.d(t,"PostAuthorCheck",function(){return $l}),n.d(t,"PostComments",function(){return Jl}),n.d(t,"PostExcerpt",function(){return eu}),n.d(t,"PostExcerptCheck",function(){return nu}),n.d(t,"PostFeaturedImage",function(){return fu}),n.d(t,"PostFeaturedImageCheck",function(){return cu}),n.d(t,"PostFormat",function(){return gu}),n.d(t,"PostFormatCheck",function(){return mu}),n.d(t,"PostLastRevision",function(){return _u}),n.d(t,"PostLastRevisionCheck",function(){return yu}),n.d(t,"PostLockedModal",function(){return Iu}),n.d(t,"PostPendingStatus",function(){return Au}),n.d(t,"PostPendingStatusCheck",function(){return xu}),n.d(t,"PostPingbacks",function(){return Ru}),n.d(t,"PostPreviewButton",function(){return Tu}),n.d(t,"PostPublishButton",function(){return Uu}),n.d(t,"PostPublishButtonLabel",function(){return Fu}),n.d(t,"PostPublishPanel",function(){return bd}),n.d(t,"PostSavedState",function(){return vd}),n.d(t,"PostSchedule",function(){return Gu}),n.d(t,"PostScheduleCheck",function(){return gd}),n.d(t,"PostScheduleLabel",function(){return Yu}),n.d(t,"PostSticky",function(){return _d}),n.d(t,"PostStickyCheck",function(){return yd}),n.d(t,"PostSwitchToDraftButton",function(){return hd}),n.d(t,"PostTaxonomies",function(){return Pd}),n.d(t,"PostTaxonomiesCheck",function(){return Bd}),n.d(t,"PostTextEditor",function(){return Ld}),n.d(t,"PostTitle",function(){return Vd}),n.d(t,"PostTrash",function(){return zd}),n.d(t,"PostTrashCheck",function(){return qd}),n.d(t,"PostTypeSupportCheck",function(){return Rl}),n.d(t,"PostVisibility",function(){return Ku}),n.d(t,"PostVisibilityLabel",function(){return Wu}),n.d(t,"PostVisibilityCheck",function(){return $d}),n.d(t,"TableOfContents",function(){return tp}),n.d(t,"UnsavedChangesWarning",function(){return rp}),n.d(t,"WordCount",function(){return Xd}),n.d(t,"BlockInspector",function(){return hp}),n.d(t,"BlockList",function(){return Ta}),n.d(t,"BlockMover",function(){return $i}),n.d(t,"BlockSelectionClearer",function(){return vp}),n.d(t,"BlockSettingsMenu",function(){return Rp}),n.d(t,"_BlockSettingsMenuFirstItem",function(){return Ip}),n.d(t,"_BlockSettingsMenuPluginsExtension",function(){return Ap}),n.d(t,"BlockTitle",function(){return yc}),n.d(t,"BlockToolbar",function(){return Vp}),n.d(t,"CopyHandler",function(){return zp}),n.d(t,"DefaultBlockAppender",function(){return Ea}),n.d(t,"ErrorBoundary",function(){return qp}),n.d(t,"Inserter",function(){return ea}),n.d(t,"MultiBlocksSwitcher",function(){return Up}),n.d(t,"MultiSelectScrollIntoView",function(){return $p}),n.d(t,"NavigableToolbar",function(){return Tc}),n.d(t,"ObserveTyping",function(){return Jp}),n.d(t,"PreserveScrollInReorder",function(){return eb}),n.d(t,"SkipToSelectedBlock",function(){return ip}),n.d(t,"Warning",function(){return tc}),n.d(t,"WritingFlow",function(){return cb}),n.d(t,"EditorProvider",function(){return Fb}),n.d(t,"blockAutocompleter",function(){return Vo}),n.d(t,"userAutocompleter",function(){return Ko}),n.d(t,"getColorClassName",function(){return Ci}),n.d(t,"getColorObjectByAttributeValues",function(){return Ei}),n.d(t,"getColorObjectByColorValue",function(){return Si}),n.d(t,"withColors",function(){return Pi}),n.d(t,"getFontSize",function(){return xi}),n.d(t,"getFontSizeClass",function(){return Li}),n.d(t,"FontSizePicker",function(){return Ai}),n.d(t,"withFontSizes",function(){return Ni}),n.d(t,"mediaUpload",function(){return Gs}),n.d(t,"cleanForSlug",function(){return Ys})}]);