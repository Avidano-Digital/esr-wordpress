this.wp=this.wp||{},this.wp.annotations=function(e){var r={};function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=e,o.c=r,o.d=function(t,n,e){o.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(n,t){if(1&t&&(n=o(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var r in n)o.d(e,r,function(t){return n[t]}.bind(null,r));return e},o.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="",o(o.s=314)}({1:function(t,n){!function(){t.exports=this.wp.i18n}()},15:function(t,n,e){"use strict";function r(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}e.d(n,"a",function(){return r})},19:function(t,n,e){"use strict";var r=e(33);function o(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||Object(r.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e.d(n,"a",function(){return o})},2:function(t,n){!function(){t.exports=this.lodash}()},20:function(t,n){!function(){t.exports=this.wp.richText}()},21:function(t,n,e){"use strict";function r(t,n){if(null==t)return{};var e,r,o=function(t,n){if(null==t)return{};var e,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)e=a[r],0<=n.indexOf(e)||(o[e]=t[e]);return o}(t,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)e=a[r],0<=n.indexOf(e)||Object.prototype.propertyIsEnumerable.call(t,e)&&(o[e]=t[e])}return o}e.d(n,"a",function(){return r})},23:function(t,n){!function(){t.exports=this.wp.hooks}()},31:function(t,n,e){"use strict";var l,r;function o(t){return[t]}function s(t){return!!t&&"object"==typeof t}function p(){var t={clear:function(){t.head=null}};return t}function d(t,n,e){var r;if(t.length!==n.length)return!1;for(r=e;r<t.length;r++)if(t[r]!==n[r])return!1;return!0}l={},r="undefined"!=typeof WeakMap,n.a=function(i,u){var c,f;function t(){c=r?new WeakMap:p()}function n(){var t,n,e,r,o,a=arguments.length;for(r=new Array(a),e=0;e<a;e++)r[e]=arguments[e];for(o=u.apply(null,r),(t=f(o)).isUniqueByDependants||(t.lastDependants&&!d(o,t.lastDependants,0)&&t.clear(),t.lastDependants=o),n=t.head;n;){if(d(n.args,r,1))return n!==t.head&&(n.prev.next=n.next,n.next&&(n.next.prev=n.prev),n.next=t.head,n.prev=null,t.head.prev=n,t.head=n),n.val;n=n.next}return n={val:i.apply(null,r)},r[0]=null,n.args=r,t.head&&((t.head.prev=n).next=t.head),(t.head=n).val}return u||(u=o),f=r?function(t){var n,e,r,o,a=c,i=!0;for(n=0;n<t.length;n++){if(!s(e=t[n])){i=!1;break}a=a.has(e)?a.get(e):(r=new WeakMap,a.set(e,r),r)}return a.has(l)||((o=p()).isUniqueByDependants=i,a.set(l,o)),a.get(l)}:function(){return c},n.getDependants=u,(n.clear=t)(),n}},314:function(t,n,e){"use strict";e.r(n);var r={};e.r(r),e.d(r,"__experimentalGetAnnotationsForBlock",function(){return b}),e.d(r,"__experimentalGetAllAnnotationsForBlock",function(){return g}),e.d(r,"__experimentalGetAnnotationsForRichText",function(){return O}),e.d(r,"__experimentalGetAnnotations",function(){return m});var o={};e.r(o),e.d(o,"__experimentalAddAnnotation",function(){return x}),e.d(o,"__experimentalRemoveAnnotation",function(){return A}),e.d(o,"__experimentalUpdateAnnotationRange",function(){return _}),e.d(o,"__experimentalRemoveAnnotationsBySource",function(){return j});var a=e(5),i=e(15),u=e(19),c=e(8),f=e(2);function l(t,n){var e=t.filter(n);return t.length===e.length?t:e}var s=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length?arguments[1]:void 0,n;switch(r.type){case"ANNOTATION_ADD":var e=r.blockClientId,o={id:r.id,blockClientId:e,richTextIdentifier:r.richTextIdentifier,source:r.source,selector:r.selector,range:r.range};if("range"===o.selector&&(n=o.range,!(Object(f.isNumber)(n.start)&&Object(f.isNumber)(n.end)&&n.start<=n.end)))return t;var a=Object(f.get)(t,e,[]);return Object(c.a)({},t,Object(i.a)({},e,Object(u.a)(a).concat([o])));case"ANNOTATION_REMOVE":return Object(f.mapValues)(t,function(t){return l(t,function(t){return t.id!==r.annotationId})});case"ANNOTATION_UPDATE_RANGE":return Object(f.mapValues)(t,function(t){var n=!1,e=t.map(function(t){return t.id===r.annotationId?(n=!0,Object(c.a)({},t,{range:{start:r.start,end:r.end}})):t});return n?e:t});case"ANNOTATION_REMOVE_SOURCE":return Object(f.mapValues)(t,function(t){return l(t,function(t){return t.source!==r.source})})}return t},p=e(21),d=e(31),v=[],b=Object(d.a)(function(t,n){return Object(f.get)(t,n,[]).filter(function(t){return"block"===t.selector})},function(t,n){return[Object(f.get)(t,n,v)]}),g=function(t,n){return Object(f.get)(t,n,v)},O=Object(d.a)(function(t,n,e){return Object(f.get)(t,n,[]).filter(function(t){return"range"===t.selector&&e===t.richTextIdentifier}).map(function(t){var n=t.range,e=Object(p.a)(t,["range"]);return Object(c.a)({},n,e)})},function(t,n){return[Object(f.get)(t,n,v)]});function m(t){return Object(f.flatMap)(t,function(t){return t})}var y=e(57),h=e.n(y);function x(t){var n=t.blockClientId,e=t.richTextIdentifier,r=void 0===e?null:e,o=t.range,a=void 0===o?null:o,i=t.selector,u=void 0===i?"range":i,c=t.source,f=void 0===c?"default":c,l=t.id,s={type:"ANNOTATION_ADD",id:void 0===l?h()():l,blockClientId:n,richTextIdentifier:r,source:f,selector:u};return"range"===u&&(s.range=a),s}function A(t){return{type:"ANNOTATION_REMOVE",annotationId:t}}function _(t,n,e){return{type:"ANNOTATION_UPDATE_RANGE",annotationId:t,start:n,end:e}}function j(t){return{type:"ANNOTATION_REMOVE_SOURCE",source:t}}Object(a.registerStore)("core/annotations",{reducer:s,selectors:r,actions:o});var T=e(20),N=e(41),w=e.n(N),I=e(1),E="core/annotation",R="annotation-text-",k=w()(function(t){var r=t.annotations;return function(t,n){if(0===r.length)return t;var e={formats:t,text:n};return(e=function(a){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:[]).forEach(function(t){var n=t.start,e=t.end;n>a.text.length&&(n=a.text.length),e>a.text.length&&(e=a.text.length);var r=R+t.source,o=R+t.id;a=Object(T.applyFormat)(a,{type:E,attributes:{className:r,id:o}},n,e)}),a}(e,r)).formats}}),S=w()(function(t){return{annotations:t}}),P={name:E,title:Object(I.__)("Annotation"),tagName:"mark",className:"annotation-text",attributes:{className:"class",id:"id"},edit:function(){return null},__experimentalGetPropsForEditableTreePreparation:function(t,n){var e=n.richTextIdentifier,r=n.blockClientId;return S(t("core/annotations").__experimentalGetAnnotationsForRichText(r,e))},__experimentalCreatePrepareEditableTree:k,__experimentalGetPropsForEditableTreeChangeHandler:function(t){return{removeAnnotation:t("core/annotations").__experimentalRemoveAnnotation,updateAnnotationRange:t("core/annotations").__experimentalUpdateAnnotationRange}},__experimentalCreateOnChangeEditableValue:function(s){return function(t){var n=(a={},(o=t).forEach(function(t,e){(t=(t=t||[]).filter(function(t){return t.type===E})).forEach(function(t){var n=t.attributes.id;n=n.replace(R,""),a.hasOwnProperty(n)||(a[n]={start:e}),a[n].end=e+1})}),a),e=s.removeAnnotation,r=s.updateAnnotationRange,o,a,i,u,c,f,l;i=s.annotations,u=n,f=(c={removeAnnotation:e,updateAnnotationRange:r}).removeAnnotation,l=c.updateAnnotationRange,i.forEach(function(t){var n=u[t.id];if(n){var e=t.start,r=t.end;e===n.start&&r===n.end||l(t.id,n.start,n.end)}else f(t.id)})}}},C=P.name,D=Object(p.a)(P,["name"]);Object(T.registerFormatType)(C,D);var M=e(23);Object(M.addFilter)("editor.BlockListBlock","core/annotations",function(t){return Object(a.withSelect)(function(t,n){var e=n.clientId;return{className:t("core/annotations").__experimentalGetAnnotationsForBlock(e).map(function(t){return"is-annotated-by-"+t.source}).join(" ")}})(t)})},33:function(t,n,e){"use strict";function r(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}e.d(n,"a",function(){return r})},41:function(t,n,e){t.exports=function(o,t){var a,i,u,c=0;function n(){var t,n,e=i,r=arguments.length;t:for(;e;){if(e.args.length===arguments.length){for(n=0;n<r;n++)if(e.args[n]!==arguments[n]){e=e.next;continue t}return e!==i&&(e===u&&(u=e.prev),e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.next=i,e.prev=null,i.prev=e,i=e),e.val}e=e.next}for(t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return e={args:t,val:o.apply(null,t)},i?(i.prev=e).next=i:u=e,c===a?(u=u.prev).next=null:c++,(i=e).val}return t&&t.maxSize&&(a=t.maxSize),n.clear=function(){u=i=null,c=0},n}},5:function(t,n){!function(){t.exports=this.wp.data}()},57:function(t,n,e){var i=e(77),u=e(78);t.exports=function(t,n,e){var r=n&&e||0;"string"==typeof t&&(n="binary"===t?new Array(16):null,t=null);var o=(t=t||{}).random||(t.rng||i)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,n)for(var a=0;a<16;++a)n[r+a]=o[a];return n||u(o)}},77:function(t,n){var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var r=new Uint8Array(16);t.exports=function(){return e(r),r}}else{var o=new Array(16);t.exports=function(){for(var t,n=0;n<16;n++)0==(3&n)&&(t=4294967296*Math.random()),o[n]=t>>>((3&n)<<3)&255;return o}}},78:function(t,n){for(var o=[],e=0;e<256;++e)o[e]=(e+256).toString(16).substr(1);t.exports=function(t,n){var e=n||0,r=o;return[r[t[e++]],r[t[e++]],r[t[e++]],r[t[e++]],"-",r[t[e++]],r[t[e++]],"-",r[t[e++]],r[t[e++]],"-",r[t[e++]],r[t[e++]],"-",r[t[e++]],r[t[e++]],r[t[e++]],r[t[e++]],r[t[e++]],r[t[e++]]].join("")}},8:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var o=e(15);function r(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.forEach(function(t){Object(o.a)(n,t,e[t])})}return n}}});